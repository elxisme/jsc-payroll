var CJ=Object.defineProperty;var W6=e=>{throw TypeError(e)};var TJ=(e,t,r)=>t in e?CJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fj=(e,t,r)=>TJ(e,typeof t!="symbol"?t+"":t,r),Dj=(e,t,r)=>t.has(e)||W6("Cannot "+r);var ye=(e,t,r)=>(Dj(e,t,"read from private field"),r?r.call(e):t.get(e)),er=(e,t,r)=>t.has(e)?W6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Mt=(e,t,r,n)=>(Dj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),wr=(e,t,r)=>(Dj(e,t,"access private method"),r);var f2=(e,t,r,n)=>({set _(a){Mt(e,t,a,r)},get _(){return ye(e,t,n)}});function PJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var KR={exports:{}},H_={},YR={exports:{}},Ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),FJ=Symbol.for("react.portal"),DJ=Symbol.for("react.fragment"),LJ=Symbol.for("react.strict_mode"),IJ=Symbol.for("react.profiler"),RJ=Symbol.for("react.provider"),MJ=Symbol.for("react.context"),BJ=Symbol.for("react.forward_ref"),UJ=Symbol.for("react.suspense"),$J=Symbol.for("react.memo"),zJ=Symbol.for("react.lazy"),V6=Symbol.iterator;function qJ(e){return e===null||typeof e!="object"?null:(e=V6&&e[V6]||e["@@iterator"],typeof e=="function"?e:null)}var XR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZR=Object.assign,JR={};function og(e,t,r){this.props=e,this.context=t,this.refs=JR,this.updater=r||XR}og.prototype.isReactComponent={};og.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};og.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QR(){}QR.prototype=og.prototype;function BE(e,t,r){this.props=e,this.context=t,this.refs=JR,this.updater=r||XR}var UE=BE.prototype=new QR;UE.constructor=BE;ZR(UE,og.prototype);UE.isPureReactComponent=!0;var H6=Array.isArray,eM=Object.prototype.hasOwnProperty,$E={current:null},tM={key:!0,ref:!0,__self:!0,__source:!0};function rM(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)eM.call(t,n)&&!tM.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:I1,type:e,key:i,ref:s,props:a,_owner:$E.current}}function WJ(e,t){return{$$typeof:I1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zE(e){return typeof e=="object"&&e!==null&&e.$$typeof===I1}function VJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var G6=/\/+/g;function Lj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VJ(""+e.key):t.toString(36)}function mw(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case I1:case FJ:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Lj(s,0):n,H6(a)?(r="",e!=null&&(r=e.replace(G6,"$&/")+"/"),mw(a,t,r,"",function(u){return u})):a!=null&&(zE(a)&&(a=WJ(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(G6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",H6(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Lj(i,o);s+=mw(i,t,r,c,a)}else if(c=qJ(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Lj(i,o++),s+=mw(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function d2(e,t,r){if(e==null)return e;var n=[],a=0;return mw(e,n,"","",function(i){return t.call(r,i,a++)}),n}function HJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var js={current:null},gw={transition:null},GJ={ReactCurrentDispatcher:js,ReactCurrentBatchConfig:gw,ReactCurrentOwner:$E};function nM(){throw Error("act(...) is not supported in production builds of React.")}Ir.Children={map:d2,forEach:function(e,t,r){d2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return d2(e,function(){t++}),t},toArray:function(e){return d2(e,function(t){return t})||[]},only:function(e){if(!zE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ir.Component=og;Ir.Fragment=DJ;Ir.Profiler=IJ;Ir.PureComponent=BE;Ir.StrictMode=LJ;Ir.Suspense=UJ;Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GJ;Ir.act=nM;Ir.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=$E.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)eM.call(t,c)&&!tM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:I1,type:e.type,key:a,ref:i,props:n,_owner:s}};Ir.createContext=function(e){return e={$$typeof:MJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RJ,_context:e},e.Consumer=e};Ir.createElement=rM;Ir.createFactory=function(e){var t=rM.bind(null,e);return t.type=e,t};Ir.createRef=function(){return{current:null}};Ir.forwardRef=function(e){return{$$typeof:BJ,render:e}};Ir.isValidElement=zE;Ir.lazy=function(e){return{$$typeof:zJ,_payload:{_status:-1,_result:e},_init:HJ}};Ir.memo=function(e,t){return{$$typeof:$J,type:e,compare:t===void 0?null:t}};Ir.startTransition=function(e){var t=gw.transition;gw.transition={};try{e()}finally{gw.transition=t}};Ir.unstable_act=nM;Ir.useCallback=function(e,t){return js.current.useCallback(e,t)};Ir.useContext=function(e){return js.current.useContext(e)};Ir.useDebugValue=function(){};Ir.useDeferredValue=function(e){return js.current.useDeferredValue(e)};Ir.useEffect=function(e,t){return js.current.useEffect(e,t)};Ir.useId=function(){return js.current.useId()};Ir.useImperativeHandle=function(e,t,r){return js.current.useImperativeHandle(e,t,r)};Ir.useInsertionEffect=function(e,t){return js.current.useInsertionEffect(e,t)};Ir.useLayoutEffect=function(e,t){return js.current.useLayoutEffect(e,t)};Ir.useMemo=function(e,t){return js.current.useMemo(e,t)};Ir.useReducer=function(e,t,r){return js.current.useReducer(e,t,r)};Ir.useRef=function(e){return js.current.useRef(e)};Ir.useState=function(e){return js.current.useState(e)};Ir.useSyncExternalStore=function(e,t,r){return js.current.useSyncExternalStore(e,t,r)};Ir.useTransition=function(){return js.current.useTransition()};Ir.version="18.3.1";YR.exports=Ir;var S=YR.exports;const Ft=ru(S),aM=PJ({__proto__:null,default:Ft},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KJ=S,YJ=Symbol.for("react.element"),XJ=Symbol.for("react.fragment"),ZJ=Object.prototype.hasOwnProperty,JJ=KJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QJ={key:!0,ref:!0,__self:!0,__source:!0};function iM(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ZJ.call(t,n)&&!QJ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:YJ,type:e,key:i,ref:s,props:a,_owner:JJ.current}}H_.Fragment=XJ;H_.jsx=iM;H_.jsxs=iM;KR.exports=H_;var l=KR.exports,sM={exports:{}},Do={},oM={exports:{}},lM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,W){var fe=X.length;X.push(W);e:for(;0<fe;){var Se=fe-1>>>1,T=X[Se];if(0<a(T,W))X[Se]=W,X[fe]=T,fe=Se;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var W=X[0],fe=X.pop();if(fe!==W){X[0]=fe;e:for(var Se=0,T=X.length,L=T>>>1;Se<L;){var B=2*(Se+1)-1,z=X[B],te=B+1,ie=X[te];if(0>a(z,fe))te<T&&0>a(ie,z)?(X[Se]=ie,X[te]=fe,Se=te):(X[Se]=z,X[B]=fe,Se=B);else if(te<T&&0>a(ie,fe))X[Se]=ie,X[te]=fe,Se=te;else break e}}return W}function a(X,W){var fe=X.sortIndex-W.sortIndex;return fe!==0?fe:X.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(X){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=X)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function j(X){if(m=!1,b(X),!g)if(r(c)!==null)g=!0,J(k);else{var W=r(u);W!==null&&ae(j,W.startTime-X)}}function k(X,W){g=!1,m&&(m=!1,x(E),E=-1),p=!0;var fe=h;try{for(b(W),d=r(c);d!==null&&(!(d.expirationTime>W)||X&&!C());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,h=d.priorityLevel;var T=Se(d.expirationTime<=W);W=e.unstable_now(),typeof T=="function"?d.callback=T:d===r(c)&&n(c),b(W)}else n(c);d=r(c)}if(d!==null)var L=!0;else{var B=r(u);B!==null&&ae(j,B.startTime-W),L=!1}return L}finally{d=null,h=fe,p=!1}}var O=!1,N=null,E=-1,D=5,M=-1;function C(){return!(e.unstable_now()-M<D)}function P(){if(N!==null){var X=e.unstable_now();M=X;var W=!0;try{W=N(!0,X)}finally{W?R():(O=!1,N=null)}}else O=!1}var R;if(typeof y=="function")R=function(){y(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ee=U.port2;U.port1.onmessage=P,R=function(){ee.postMessage(null)}}else R=function(){v(P,0)};function J(X){N=X,O||(O=!0,R())}function ae(X,W){E=v(function(){X(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,J(k))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var fe=h;h=W;try{return X()}finally{h=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=h;h=X;try{return W()}finally{h=fe}},e.unstable_scheduleCallback=function(X,W,fe){var Se=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,X){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=fe+T,X={id:f++,callback:W,priorityLevel:X,startTime:fe,expirationTime:T,sortIndex:-1},fe>Se?(X.sortIndex=fe,t(u,X),r(c)===null&&X===r(u)&&(m?(x(E),E=-1):m=!0,ae(j,fe-Se))):(X.sortIndex=T,t(c,X),g||p||(g=!0,J(k))),X},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(X){var W=h;return function(){var fe=h;h=W;try{return X.apply(this,arguments)}finally{h=fe}}}})(lM);oM.exports=lM;var eQ=oM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tQ=S,To=eQ;function pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cM=new Set,Sx={};function E0(e,t){Rm(e,t),Rm(e+"Capture",t)}function Rm(e,t){for(Sx[e]=t,e=0;e<t.length;e++)cM.add(t[e])}var Ku=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EN=Object.prototype.hasOwnProperty,rQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K6={},Y6={};function nQ(e){return EN.call(Y6,e)?!0:EN.call(K6,e)?!1:rQ.test(e)?Y6[e]=!0:(K6[e]=!0,!1)}function aQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iQ(e,t,r,n){if(t===null||typeof t>"u"||aQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ns(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oi[e]=new Ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oi[t]=new Ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oi[e]=new Ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oi[e]=new Ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oi[e]=new Ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oi[e]=new Ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oi[e]=new Ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oi[e]=new Ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oi[e]=new Ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var qE=/[\-:]([a-z])/g;function WE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qE,WE);Oi[t]=new Ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qE,WE);Oi[t]=new Ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qE,WE);Oi[t]=new Ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oi[e]=new Ns(e,1,!1,e.toLowerCase(),null,!1,!1)});Oi.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oi[e]=new Ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function VE(e,t,r,n){var a=Oi.hasOwnProperty(t)?Oi[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iQ(t,r,a,n)&&(r=null),n||a===null?nQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cf=tQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h2=Symbol.for("react.element"),Rp=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),HE=Symbol.for("react.strict_mode"),CN=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),fM=Symbol.for("react.context"),GE=Symbol.for("react.forward_ref"),TN=Symbol.for("react.suspense"),PN=Symbol.for("react.suspense_list"),KE=Symbol.for("react.memo"),Vf=Symbol.for("react.lazy"),dM=Symbol.for("react.offscreen"),X6=Symbol.iterator;function ov(e){return e===null||typeof e!="object"?null:(e=X6&&e[X6]||e["@@iterator"],typeof e=="function"?e:null)}var ea=Object.assign,Ij;function Pv(e){if(Ij===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ij=t&&t[1]||""}return`
`+Ij+e}var Rj=!1;function Mj(e,t){if(!e||Rj)return"";Rj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Rj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Pv(e):""}function sQ(e){switch(e.tag){case 5:return Pv(e.type);case 16:return Pv("Lazy");case 13:return Pv("Suspense");case 19:return Pv("SuspenseList");case 0:case 2:case 15:return e=Mj(e.type,!1),e;case 11:return e=Mj(e.type.render,!1),e;case 1:return e=Mj(e.type,!0),e;default:return""}}function ON(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mp:return"Fragment";case Rp:return"Portal";case CN:return"Profiler";case HE:return"StrictMode";case TN:return"Suspense";case PN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fM:return(e.displayName||"Context")+".Consumer";case uM:return(e._context.displayName||"Context")+".Provider";case GE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KE:return t=e.displayName||null,t!==null?t:ON(e.type)||"Memo";case Vf:t=e._payload,e=e._init;try{return ON(e(t))}catch{}}return null}function oQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ON(t);case 8:return t===HE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lQ(e){var t=hM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function p2(e){e._valueTracker||(e._valueTracker=lQ(e))}function pM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $w(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function FN(e,t){var r=t.checked;return ea({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Z6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mM(e,t){t=t.checked,t!=null&&VE(e,"checked",t,!1)}function DN(e,t){mM(e,t);var r=jd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?LN(e,t.type,r):t.hasOwnProperty("defaultValue")&&LN(e,t.type,jd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function J6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function LN(e,t,r){(t!=="number"||$w(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ov=Array.isArray;function em(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function IN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pt(91));return ea({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pt(92));if(Ov(r)){if(1<r.length)throw Error(pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jd(r)}}function gM(e,t){var r=jd(t.value),n=jd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var m2,xM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(m2=m2||document.createElement("div"),m2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=m2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jx(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cQ=["Webkit","ms","Moz","O"];Object.keys(Hv).forEach(function(e){cQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hv[t]=Hv[e]})});function yM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hv.hasOwnProperty(e)&&Hv[e]?(""+t).trim():t+"px"}function wM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=yM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var uQ=ea({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MN(e,t){if(t){if(uQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pt(62))}}function BN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UN=null;function YE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $N=null,tm=null,rm=null;function tO(e){if(e=B1(e)){if(typeof $N!="function")throw Error(pt(280));var t=e.stateNode;t&&(t=Z_(t),$N(e.stateNode,e.type,t))}}function bM(e){tm?rm?rm.push(e):rm=[e]:tm=e}function _M(){if(tm){var e=tm,t=rm;if(rm=tm=null,tO(e),t)for(e=0;e<t.length;e++)tO(t[e])}}function SM(e,t){return e(t)}function jM(){}var Bj=!1;function NM(e,t,r){if(Bj)return e(t,r);Bj=!0;try{return SM(e,t,r)}finally{Bj=!1,(tm!==null||rm!==null)&&(jM(),_M())}}function Nx(e,t){var r=e.stateNode;if(r===null)return null;var n=Z_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pt(231,t,typeof r));return r}var zN=!1;if(Ku)try{var lv={};Object.defineProperty(lv,"passive",{get:function(){zN=!0}}),window.addEventListener("test",lv,lv),window.removeEventListener("test",lv,lv)}catch{zN=!1}function fQ(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Gv=!1,zw=null,qw=!1,qN=null,dQ={onError:function(e){Gv=!0,zw=e}};function hQ(e,t,r,n,a,i,s,o,c){Gv=!1,zw=null,fQ.apply(dQ,arguments)}function pQ(e,t,r,n,a,i,s,o,c){if(hQ.apply(this,arguments),Gv){if(Gv){var u=zw;Gv=!1,zw=null}else throw Error(pt(198));qw||(qw=!0,qN=u)}}function C0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rO(e){if(C0(e)!==e)throw Error(pt(188))}function mQ(e){var t=e.alternate;if(!t){if(t=C0(e),t===null)throw Error(pt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return rO(a),e;if(i===n)return rO(a),t;i=i.sibling}throw Error(pt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(pt(189))}}if(r.alternate!==n)throw Error(pt(190))}if(r.tag!==3)throw Error(pt(188));return r.stateNode.current===r?e:t}function AM(e){return e=mQ(e),e!==null?EM(e):null}function EM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EM(e);if(t!==null)return t;e=e.sibling}return null}var CM=To.unstable_scheduleCallback,nO=To.unstable_cancelCallback,gQ=To.unstable_shouldYield,vQ=To.unstable_requestPaint,xa=To.unstable_now,xQ=To.unstable_getCurrentPriorityLevel,XE=To.unstable_ImmediatePriority,TM=To.unstable_UserBlockingPriority,Ww=To.unstable_NormalPriority,yQ=To.unstable_LowPriority,PM=To.unstable_IdlePriority,G_=null,$c=null;function wQ(e){if($c&&typeof $c.onCommitFiberRoot=="function")try{$c.onCommitFiberRoot(G_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ql=Math.clz32?Math.clz32:SQ,bQ=Math.log,_Q=Math.LN2;function SQ(e){return e>>>=0,e===0?32:31-(bQ(e)/_Q|0)|0}var g2=64,v2=4194304;function Fv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Fv(o):(i&=s,i!==0&&(n=Fv(i)))}else s=r&~a,s!==0?n=Fv(s):i!==0&&(n=Fv(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ql(t),a=1<<r,n|=e[r],t&=~a;return n}function jQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ql(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=jQ(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function WN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OM(){var e=g2;return g2<<=1,!(g2&4194240)&&(g2=64),e}function Uj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function R1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ql(t),e[t]=r}function kQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ql(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ZE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ql(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var pn=0;function FM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DM,JE,LM,IM,RM,VN=!1,x2=[],pd=null,md=null,gd=null,kx=new Map,Ax=new Map,Kf=[],AQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aO(e,t){switch(e){case"focusin":case"focusout":pd=null;break;case"dragenter":case"dragleave":md=null;break;case"mouseover":case"mouseout":gd=null;break;case"pointerover":case"pointerout":kx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ax.delete(t.pointerId)}}function cv(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=B1(t),t!==null&&JE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function EQ(e,t,r,n,a){switch(t){case"focusin":return pd=cv(pd,e,t,r,n,a),!0;case"dragenter":return md=cv(md,e,t,r,n,a),!0;case"mouseover":return gd=cv(gd,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return kx.set(i,cv(kx.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ax.set(i,cv(Ax.get(i)||null,e,t,r,n,a)),!0}return!1}function MM(e){var t=Ah(e.target);if(t!==null){var r=C0(t);if(r!==null){if(t=r.tag,t===13){if(t=kM(r),t!==null){e.blockedOn=t,RM(e.priority,function(){LM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=HN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);UN=n,r.target.dispatchEvent(n),UN=null}else return t=B1(r),t!==null&&JE(t),e.blockedOn=r,!1;t.shift()}return!0}function iO(e,t,r){vw(e)&&r.delete(t)}function CQ(){VN=!1,pd!==null&&vw(pd)&&(pd=null),md!==null&&vw(md)&&(md=null),gd!==null&&vw(gd)&&(gd=null),kx.forEach(iO),Ax.forEach(iO)}function uv(e,t){e.blockedOn===t&&(e.blockedOn=null,VN||(VN=!0,To.unstable_scheduleCallback(To.unstable_NormalPriority,CQ)))}function Ex(e){function t(a){return uv(a,e)}if(0<x2.length){uv(x2[0],e);for(var r=1;r<x2.length;r++){var n=x2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pd!==null&&uv(pd,e),md!==null&&uv(md,e),gd!==null&&uv(gd,e),kx.forEach(t),Ax.forEach(t),r=0;r<Kf.length;r++)n=Kf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kf.length&&(r=Kf[0],r.blockedOn===null);)MM(r),r.blockedOn===null&&Kf.shift()}var nm=cf.ReactCurrentBatchConfig,Hw=!0;function TQ(e,t,r,n){var a=pn,i=nm.transition;nm.transition=null;try{pn=1,QE(e,t,r,n)}finally{pn=a,nm.transition=i}}function PQ(e,t,r,n){var a=pn,i=nm.transition;nm.transition=null;try{pn=4,QE(e,t,r,n)}finally{pn=a,nm.transition=i}}function QE(e,t,r,n){if(Hw){var a=HN(e,t,r,n);if(a===null)Xj(e,t,n,Gw,r),aO(e,n);else if(EQ(a,e,t,r,n))n.stopPropagation();else if(aO(e,n),t&4&&-1<AQ.indexOf(e)){for(;a!==null;){var i=B1(a);if(i!==null&&DM(i),i=HN(e,t,r,n),i===null&&Xj(e,t,n,Gw,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Xj(e,t,n,null,r)}}var Gw=null;function HN(e,t,r,n){if(Gw=null,e=YE(n),e=Ah(e),e!==null)if(t=C0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gw=e,null}function BM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xQ()){case XE:return 1;case TM:return 4;case Ww:case yQ:return 16;case PM:return 536870912;default:return 16}default:return 16}}var cd=null,e3=null,xw=null;function UM(){if(xw)return xw;var e,t=e3,r=t.length,n,a="value"in cd?cd.value:cd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return xw=a.slice(e,1<n?1-n:void 0)}function yw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function y2(){return!0}function sO(){return!1}function Lo(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?y2:sO,this.isPropagationStopped=sO,this}return ea(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=y2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=y2)},persist:function(){},isPersistent:y2}),t}var lg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t3=Lo(lg),M1=ea({},lg,{view:0,detail:0}),OQ=Lo(M1),$j,zj,fv,K_=ea({},M1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fv&&(fv&&e.type==="mousemove"?($j=e.screenX-fv.screenX,zj=e.screenY-fv.screenY):zj=$j=0,fv=e),$j)},movementY:function(e){return"movementY"in e?e.movementY:zj}}),oO=Lo(K_),FQ=ea({},K_,{dataTransfer:0}),DQ=Lo(FQ),LQ=ea({},M1,{relatedTarget:0}),qj=Lo(LQ),IQ=ea({},lg,{animationName:0,elapsedTime:0,pseudoElement:0}),RQ=Lo(IQ),MQ=ea({},lg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BQ=Lo(MQ),UQ=ea({},lg,{data:0}),lO=Lo(UQ),$Q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qQ[e])?!!t[e]:!1}function r3(){return WQ}var VQ=ea({},M1,{key:function(e){if(e.key){var t=$Q[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r3,charCode:function(e){return e.type==="keypress"?yw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HQ=Lo(VQ),GQ=ea({},K_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cO=Lo(GQ),KQ=ea({},M1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r3}),YQ=Lo(KQ),XQ=ea({},lg,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZQ=Lo(XQ),JQ=ea({},K_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QQ=Lo(JQ),eee=[9,13,27,32],n3=Ku&&"CompositionEvent"in window,Kv=null;Ku&&"documentMode"in document&&(Kv=document.documentMode);var tee=Ku&&"TextEvent"in window&&!Kv,$M=Ku&&(!n3||Kv&&8<Kv&&11>=Kv),uO=" ",fO=!1;function zM(e,t){switch(e){case"keyup":return eee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bp=!1;function ree(e,t){switch(e){case"compositionend":return qM(t);case"keypress":return t.which!==32?null:(fO=!0,uO);case"textInput":return e=t.data,e===uO&&fO?null:e;default:return null}}function nee(e,t){if(Bp)return e==="compositionend"||!n3&&zM(e,t)?(e=UM(),xw=e3=cd=null,Bp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $M&&t.locale!=="ko"?null:t.data;default:return null}}var aee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aee[e.type]:t==="textarea"}function WM(e,t,r,n){bM(n),t=Kw(t,"onChange"),0<t.length&&(r=new t3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yv=null,Cx=null;function iee(e){t7(e,0)}function Y_(e){var t=zp(e);if(pM(t))return e}function see(e,t){if(e==="change")return t}var VM=!1;if(Ku){var Wj;if(Ku){var Vj="oninput"in document;if(!Vj){var hO=document.createElement("div");hO.setAttribute("oninput","return;"),Vj=typeof hO.oninput=="function"}Wj=Vj}else Wj=!1;VM=Wj&&(!document.documentMode||9<document.documentMode)}function pO(){Yv&&(Yv.detachEvent("onpropertychange",HM),Cx=Yv=null)}function HM(e){if(e.propertyName==="value"&&Y_(Cx)){var t=[];WM(t,Cx,e,YE(e)),NM(iee,t)}}function oee(e,t,r){e==="focusin"?(pO(),Yv=t,Cx=r,Yv.attachEvent("onpropertychange",HM)):e==="focusout"&&pO()}function lee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Y_(Cx)}function cee(e,t){if(e==="click")return Y_(t)}function uee(e,t){if(e==="input"||e==="change")return Y_(t)}function fee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sc=typeof Object.is=="function"?Object.is:fee;function Tx(e,t){if(sc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!EN.call(t,a)||!sc(e[a],t[a]))return!1}return!0}function mO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gO(e,t){var r=mO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mO(r)}}function GM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KM(){for(var e=window,t=$w();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$w(e.document)}return t}function a3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dee(e){var t=KM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&GM(r.ownerDocument.documentElement,r)){if(n!==null&&a3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=gO(r,i);var s=gO(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hee=Ku&&"documentMode"in document&&11>=document.documentMode,Up=null,GN=null,Xv=null,KN=!1;function vO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KN||Up==null||Up!==$w(n)||(n=Up,"selectionStart"in n&&a3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xv&&Tx(Xv,n)||(Xv=n,n=Kw(GN,"onSelect"),0<n.length&&(t=new t3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Up)))}function w2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $p={animationend:w2("Animation","AnimationEnd"),animationiteration:w2("Animation","AnimationIteration"),animationstart:w2("Animation","AnimationStart"),transitionend:w2("Transition","TransitionEnd")},Hj={},YM={};Ku&&(YM=document.createElement("div").style,"AnimationEvent"in window||(delete $p.animationend.animation,delete $p.animationiteration.animation,delete $p.animationstart.animation),"TransitionEvent"in window||delete $p.transitionend.transition);function X_(e){if(Hj[e])return Hj[e];if(!$p[e])return e;var t=$p[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in YM)return Hj[e]=t[r];return e}var XM=X_("animationend"),ZM=X_("animationiteration"),JM=X_("animationstart"),QM=X_("transitionend"),e7=new Map,xO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wd(e,t){e7.set(e,t),E0(t,[e])}for(var Gj=0;Gj<xO.length;Gj++){var Kj=xO[Gj],pee=Kj.toLowerCase(),mee=Kj[0].toUpperCase()+Kj.slice(1);Wd(pee,"on"+mee)}Wd(XM,"onAnimationEnd");Wd(ZM,"onAnimationIteration");Wd(JM,"onAnimationStart");Wd("dblclick","onDoubleClick");Wd("focusin","onFocus");Wd("focusout","onBlur");Wd(QM,"onTransitionEnd");Rm("onMouseEnter",["mouseout","mouseover"]);Rm("onMouseLeave",["mouseout","mouseover"]);Rm("onPointerEnter",["pointerout","pointerover"]);Rm("onPointerLeave",["pointerout","pointerover"]);E0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));E0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));E0("onBeforeInput",["compositionend","keypress","textInput","paste"]);E0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));E0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));E0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dv));function yO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pQ(n,t,void 0,e),e.currentTarget=null}function t7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;yO(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;yO(a,o,u),i=c}}}if(qw)throw e=qN,qw=!1,qN=null,e}function On(e,t){var r=t[QN];r===void 0&&(r=t[QN]=new Set);var n=e+"__bubble";r.has(n)||(r7(t,e,2,!1),r.add(n))}function Yj(e,t,r){var n=0;t&&(n|=4),r7(r,e,n,t)}var b2="_reactListening"+Math.random().toString(36).slice(2);function Px(e){if(!e[b2]){e[b2]=!0,cM.forEach(function(r){r!=="selectionchange"&&(gee.has(r)||Yj(r,!1,e),Yj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[b2]||(t[b2]=!0,Yj("selectionchange",!1,t))}}function r7(e,t,r,n){switch(BM(t)){case 1:var a=TQ;break;case 4:a=PQ;break;default:a=QE}r=a.bind(null,t,r,e),a=void 0,!zN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Xj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ah(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}NM(function(){var u=i,f=YE(r),d=[];e:{var h=e7.get(e);if(h!==void 0){var p=t3,g=e;switch(e){case"keypress":if(yw(r)===0)break e;case"keydown":case"keyup":p=HQ;break;case"focusin":g="focus",p=qj;break;case"focusout":g="blur",p=qj;break;case"beforeblur":case"afterblur":p=qj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YQ;break;case XM:case ZM:case JM:p=RQ;break;case QM:p=ZQ;break;case"scroll":p=OQ;break;case"wheel":p=QQ;break;case"copy":case"cut":case"paste":p=BQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cO}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=Nx(y,x),j!=null&&m.push(Ox(y,j,b)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,f),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==UN&&(g=r.relatedTarget||r.fromElement)&&(Ah(g)||g[Yu]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Ah(g):null,g!==null&&(v=C0(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=oO,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=cO,j="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:zp(p),b=g==null?h:zp(g),h=new m(j,y+"leave",p,r,f),h.target=v,h.relatedTarget=b,j=null,Ah(f)===u&&(m=new m(x,y+"enter",g,r,f),m.target=b,m.relatedTarget=v,j=m),v=j,p&&g)t:{for(m=p,x=g,y=0,b=m;b;b=pp(b))y++;for(b=0,j=x;j;j=pp(j))b++;for(;0<y-b;)m=pp(m),y--;for(;0<b-y;)x=pp(x),b--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=pp(m),x=pp(x)}m=null}else m=null;p!==null&&wO(d,h,p,m,!1),g!==null&&v!==null&&wO(d,v,g,m,!0)}}e:{if(h=u?zp(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=see;else if(dO(h))if(VM)k=uee;else{k=lee;var O=oee}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=cee);if(k&&(k=k(e,u))){WM(d,k,r,f);break e}O&&O(e,h,u),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&LN(h,"number",h.value)}switch(O=u?zp(u):window,e){case"focusin":(dO(O)||O.contentEditable==="true")&&(Up=O,GN=u,Xv=null);break;case"focusout":Xv=GN=Up=null;break;case"mousedown":KN=!0;break;case"contextmenu":case"mouseup":case"dragend":KN=!1,vO(d,r,f);break;case"selectionchange":if(hee)break;case"keydown":case"keyup":vO(d,r,f)}var N;if(n3)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bp?zM(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&($M&&r.locale!=="ko"&&(Bp||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bp&&(N=UM()):(cd=f,e3="value"in cd?cd.value:cd.textContent,Bp=!0)),O=Kw(u,E),0<O.length&&(E=new lO(E,e,null,r,f),d.push({event:E,listeners:O}),N?E.data=N:(N=qM(r),N!==null&&(E.data=N)))),(N=tee?ree(e,r):nee(e,r))&&(u=Kw(u,"onBeforeInput"),0<u.length&&(f=new lO("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}t7(d,t)})}function Ox(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kw(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Nx(e,r),i!=null&&n.unshift(Ox(e,i,a)),i=Nx(e,t),i!=null&&n.push(Ox(e,i,a))),e=e.return}return n}function pp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wO(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Nx(r,i),c!=null&&s.unshift(Ox(r,c,o))):a||(c=Nx(r,i),c!=null&&s.push(Ox(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var vee=/\r\n?/g,xee=/\u0000|\uFFFD/g;function bO(e){return(typeof e=="string"?e:""+e).replace(vee,`
`).replace(xee,"")}function _2(e,t,r){if(t=bO(t),bO(e)!==t&&r)throw Error(pt(425))}function Yw(){}var YN=null,XN=null;function ZN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var JN=typeof setTimeout=="function"?setTimeout:void 0,yee=typeof clearTimeout=="function"?clearTimeout:void 0,_O=typeof Promise=="function"?Promise:void 0,wee=typeof queueMicrotask=="function"?queueMicrotask:typeof _O<"u"?function(e){return _O.resolve(null).then(e).catch(bee)}:JN;function bee(e){setTimeout(function(){throw e})}function Zj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ex(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ex(t)}function vd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cg=Math.random().toString(36).slice(2),Dc="__reactFiber$"+cg,Fx="__reactProps$"+cg,Yu="__reactContainer$"+cg,QN="__reactEvents$"+cg,_ee="__reactListeners$"+cg,See="__reactHandles$"+cg;function Ah(e){var t=e[Dc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yu]||r[Dc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=SO(e);e!==null;){if(r=e[Dc])return r;e=SO(e)}return t}e=r,r=e.parentNode}return null}function B1(e){return e=e[Dc]||e[Yu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pt(33))}function Z_(e){return e[Fx]||null}var ek=[],qp=-1;function Vd(e){return{current:e}}function Rn(e){0>qp||(e.current=ek[qp],ek[qp]=null,qp--)}function En(e,t){qp++,ek[qp]=e.current,e.current=t}var Nd={},ns=Vd(Nd),Vs=Vd(!1),n0=Nd;function Mm(e,t){var r=e.type.contextTypes;if(!r)return Nd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Hs(e){return e=e.childContextTypes,e!=null}function Xw(){Rn(Vs),Rn(ns)}function jO(e,t,r){if(ns.current!==Nd)throw Error(pt(168));En(ns,t),En(Vs,r)}function n7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pt(108,oQ(e)||"Unknown",a));return ea({},r,n)}function Zw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nd,n0=ns.current,En(ns,e),En(Vs,Vs.current),!0}function NO(e,t,r){var n=e.stateNode;if(!n)throw Error(pt(169));r?(e=n7(e,t,n0),n.__reactInternalMemoizedMergedChildContext=e,Rn(Vs),Rn(ns),En(ns,e)):Rn(Vs),En(Vs,r)}var Au=null,J_=!1,Jj=!1;function a7(e){Au===null?Au=[e]:Au.push(e)}function jee(e){J_=!0,a7(e)}function Hd(){if(!Jj&&Au!==null){Jj=!0;var e=0,t=pn;try{var r=Au;for(pn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Au=null,J_=!1}catch(a){throw Au!==null&&(Au=Au.slice(e+1)),CM(XE,Hd),a}finally{pn=t,Jj=!1}}return null}var Wp=[],Vp=0,Jw=null,Qw=0,el=[],tl=0,a0=null,Fu=1,Du="";function vh(e,t){Wp[Vp++]=Qw,Wp[Vp++]=Jw,Jw=e,Qw=t}function i7(e,t,r){el[tl++]=Fu,el[tl++]=Du,el[tl++]=a0,a0=e;var n=Fu;e=Du;var a=32-Ql(n)-1;n&=~(1<<a),r+=1;var i=32-Ql(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Fu=1<<32-Ql(t)+a|r<<a|n,Du=i+e}else Fu=1<<i|r<<a|n,Du=e}function i3(e){e.return!==null&&(vh(e,1),i7(e,1,0))}function s3(e){for(;e===Jw;)Jw=Wp[--Vp],Wp[Vp]=null,Qw=Wp[--Vp],Wp[Vp]=null;for(;e===a0;)a0=el[--tl],el[tl]=null,Du=el[--tl],el[tl]=null,Fu=el[--tl],el[tl]=null}var No=null,_o=null,Vn=!1,$l=null;function s7(e,t){var r=nl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,No=e,_o=vd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,No=e,_o=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=a0!==null?{id:Fu,overflow:Du}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,No=e,_o=null,!0):!1;default:return!1}}function tk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rk(e){if(Vn){var t=_o;if(t){var r=t;if(!kO(e,t)){if(tk(e))throw Error(pt(418));t=vd(r.nextSibling);var n=No;t&&kO(e,t)?s7(n,r):(e.flags=e.flags&-4097|2,Vn=!1,No=e)}}else{if(tk(e))throw Error(pt(418));e.flags=e.flags&-4097|2,Vn=!1,No=e}}}function AO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;No=e}function S2(e){if(e!==No)return!1;if(!Vn)return AO(e),Vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ZN(e.type,e.memoizedProps)),t&&(t=_o)){if(tk(e))throw o7(),Error(pt(418));for(;t;)s7(e,t),t=vd(t.nextSibling)}if(AO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_o=vd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_o=null}}else _o=No?vd(e.stateNode.nextSibling):null;return!0}function o7(){for(var e=_o;e;)e=vd(e.nextSibling)}function Bm(){_o=No=null,Vn=!1}function o3(e){$l===null?$l=[e]:$l.push(e)}var Nee=cf.ReactCurrentBatchConfig;function dv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pt(309));var n=r.stateNode}if(!n)throw Error(pt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(pt(284));if(!r._owner)throw Error(pt(290,e))}return e}function j2(e,t){throw e=Object.prototype.toString.call(t),Error(pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function EO(e){var t=e._init;return t(e._payload)}function l7(e){function t(x,y){if(e){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=bd(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,j){return y===null||y.tag!==6?(y=i4(b,x.mode,j),y.return=x,y):(y=a(y,b),y.return=x,y)}function c(x,y,b,j){var k=b.type;return k===Mp?f(x,y,b.props.children,j,b.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vf&&EO(k)===y.type)?(j=a(y,b.props),j.ref=dv(x,y,b),j.return=x,j):(j=kw(b.type,b.key,b.props,null,x.mode,j),j.ref=dv(x,y,b),j.return=x,j)}function u(x,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=s4(b,x.mode,j),y.return=x,y):(y=a(y,b.children||[]),y.return=x,y)}function f(x,y,b,j,k){return y===null||y.tag!==7?(y=Vh(b,x.mode,j,k),y.return=x,y):(y=a(y,b),y.return=x,y)}function d(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=i4(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case h2:return b=kw(y.type,y.key,y.props,null,x.mode,b),b.ref=dv(x,null,y),b.return=x,b;case Rp:return y=s4(y,x.mode,b),y.return=x,y;case Vf:var j=y._init;return d(x,j(y._payload),b)}if(Ov(y)||ov(y))return y=Vh(y,x.mode,b,null),y.return=x,y;j2(x,y)}return null}function h(x,y,b,j){var k=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(x,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case h2:return b.key===k?c(x,y,b,j):null;case Rp:return b.key===k?u(x,y,b,j):null;case Vf:return k=b._init,h(x,y,k(b._payload),j)}if(Ov(b)||ov(b))return k!==null?null:f(x,y,b,j,null);j2(x,b)}return null}function p(x,y,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,o(y,x,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case h2:return x=x.get(j.key===null?b:j.key)||null,c(y,x,j,k);case Rp:return x=x.get(j.key===null?b:j.key)||null,u(y,x,j,k);case Vf:var O=j._init;return p(x,y,b,O(j._payload),k)}if(Ov(j)||ov(j))return x=x.get(b)||null,f(y,x,j,k,null);j2(y,j)}return null}function g(x,y,b,j){for(var k=null,O=null,N=y,E=y=0,D=null;N!==null&&E<b.length;E++){N.index>E?(D=N,N=null):D=N.sibling;var M=h(x,N,b[E],j);if(M===null){N===null&&(N=D);break}e&&N&&M.alternate===null&&t(x,N),y=i(M,y,E),O===null?k=M:O.sibling=M,O=M,N=D}if(E===b.length)return r(x,N),Vn&&vh(x,E),k;if(N===null){for(;E<b.length;E++)N=d(x,b[E],j),N!==null&&(y=i(N,y,E),O===null?k=N:O.sibling=N,O=N);return Vn&&vh(x,E),k}for(N=n(x,N);E<b.length;E++)D=p(N,x,E,b[E],j),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?E:D.key),y=i(D,y,E),O===null?k=D:O.sibling=D,O=D);return e&&N.forEach(function(C){return t(x,C)}),Vn&&vh(x,E),k}function m(x,y,b,j){var k=ov(b);if(typeof k!="function")throw Error(pt(150));if(b=k.call(b),b==null)throw Error(pt(151));for(var O=k=null,N=y,E=y=0,D=null,M=b.next();N!==null&&!M.done;E++,M=b.next()){N.index>E?(D=N,N=null):D=N.sibling;var C=h(x,N,M.value,j);if(C===null){N===null&&(N=D);break}e&&N&&C.alternate===null&&t(x,N),y=i(C,y,E),O===null?k=C:O.sibling=C,O=C,N=D}if(M.done)return r(x,N),Vn&&vh(x,E),k;if(N===null){for(;!M.done;E++,M=b.next())M=d(x,M.value,j),M!==null&&(y=i(M,y,E),O===null?k=M:O.sibling=M,O=M);return Vn&&vh(x,E),k}for(N=n(x,N);!M.done;E++,M=b.next())M=p(N,x,E,M.value,j),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?E:M.key),y=i(M,y,E),O===null?k=M:O.sibling=M,O=M);return e&&N.forEach(function(P){return t(x,P)}),Vn&&vh(x,E),k}function v(x,y,b,j){if(typeof b=="object"&&b!==null&&b.type===Mp&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case h2:e:{for(var k=b.key,O=y;O!==null;){if(O.key===k){if(k=b.type,k===Mp){if(O.tag===7){r(x,O.sibling),y=a(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vf&&EO(k)===O.type){r(x,O.sibling),y=a(O,b.props),y.ref=dv(x,O,b),y.return=x,x=y;break e}r(x,O);break}else t(x,O);O=O.sibling}b.type===Mp?(y=Vh(b.props.children,x.mode,j,b.key),y.return=x,x=y):(j=kw(b.type,b.key,b.props,null,x.mode,j),j.ref=dv(x,y,b),j.return=x,x=j)}return s(x);case Rp:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=a(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=s4(b,x.mode,j),y.return=x,x=y}return s(x);case Vf:return O=b._init,v(x,y,O(b._payload),j)}if(Ov(b))return g(x,y,b,j);if(ov(b))return m(x,y,b,j);j2(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,b),y.return=x,x=y):(r(x,y),y=i4(b,x.mode,j),y.return=x,x=y),s(x)):r(x,y)}return v}var Um=l7(!0),c7=l7(!1),eb=Vd(null),tb=null,Hp=null,l3=null;function c3(){l3=Hp=tb=null}function u3(e){var t=eb.current;Rn(eb),e._currentValue=t}function nk(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function am(e,t){tb=e,l3=Hp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qs=!0),e.firstContext=null)}function fl(e){var t=e._currentValue;if(l3!==e)if(e={context:e,memoizedValue:t,next:null},Hp===null){if(tb===null)throw Error(pt(308));Hp=e,tb.dependencies={lanes:0,firstContext:e}}else Hp=Hp.next=e;return t}var Eh=null;function f3(e){Eh===null?Eh=[e]:Eh.push(e)}function u7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,f3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xu(e,n)}function Xu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hf=!1;function d3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Hr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xu(e,r)}return a=n.interleaved,a===null?(t.next=t,f3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xu(e,r)}function ww(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ZE(e,r)}}function CO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rb(e,t,r,n){var a=e.updateQueue;Hf=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;s=0,f=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ea({},d,h);break e;case 2:Hf=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);s0|=s,e.lanes=s,e.memoizedState=d}}function TO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pt(191,a));a.call(n)}}}var U1={},zc=Vd(U1),Dx=Vd(U1),Lx=Vd(U1);function Ch(e){if(e===U1)throw Error(pt(174));return e}function h3(e,t){switch(En(Lx,t),En(Dx,e),En(zc,U1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RN(t,e)}Rn(zc),En(zc,t)}function $m(){Rn(zc),Rn(Dx),Rn(Lx)}function d7(e){Ch(Lx.current);var t=Ch(zc.current),r=RN(t,e.type);t!==r&&(En(Dx,e),En(zc,r))}function p3(e){Dx.current===e&&(Rn(zc),Rn(Dx))}var Xn=Vd(0);function nb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qj=[];function m3(){for(var e=0;e<Qj.length;e++)Qj[e]._workInProgressVersionPrimary=null;Qj.length=0}var bw=cf.ReactCurrentDispatcher,e4=cf.ReactCurrentBatchConfig,i0=0,Qn=null,Ua=null,ti=null,ab=!1,Zv=!1,Ix=0,kee=0;function Bi(){throw Error(pt(321))}function g3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sc(e[r],t[r]))return!1;return!0}function v3(e,t,r,n,a,i){if(i0=i,Qn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bw.current=e===null||e.memoizedState===null?Tee:Pee,e=r(n,a),Zv){i=0;do{if(Zv=!1,Ix=0,25<=i)throw Error(pt(301));i+=1,ti=Ua=null,t.updateQueue=null,bw.current=Oee,e=r(n,a)}while(Zv)}if(bw.current=ib,t=Ua!==null&&Ua.next!==null,i0=0,ti=Ua=Qn=null,ab=!1,t)throw Error(pt(300));return e}function x3(){var e=Ix!==0;return Ix=0,e}function Cc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?Qn.memoizedState=ti=e:ti=ti.next=e,ti}function dl(){if(Ua===null){var e=Qn.alternate;e=e!==null?e.memoizedState:null}else e=Ua.next;var t=ti===null?Qn.memoizedState:ti.next;if(t!==null)ti=t,Ua=e;else{if(e===null)throw Error(pt(310));Ua=e,e={memoizedState:Ua.memoizedState,baseState:Ua.baseState,baseQueue:Ua.baseQueue,queue:Ua.queue,next:null},ti===null?Qn.memoizedState=ti=e:ti=ti.next=e}return ti}function Rx(e,t){return typeof t=="function"?t(e):t}function t4(e){var t=dl(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=Ua,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var f=u.lane;if((i0&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,s=n):c=c.next=d,Qn.lanes|=f,s0|=f}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,sc(n,t.memoizedState)||(qs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Qn.lanes|=i,s0|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function r4(e){var t=dl(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);sc(i,t.memoizedState)||(qs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function h7(){}function p7(e,t){var r=Qn,n=dl(),a=t(),i=!sc(n.memoizedState,a);if(i&&(n.memoizedState=a,qs=!0),n=n.queue,y3(v7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ti!==null&&ti.memoizedState.tag&1){if(r.flags|=2048,Mx(9,g7.bind(null,r,n,a,t),void 0,null),ii===null)throw Error(pt(349));i0&30||m7(r,t,a)}return a}function m7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qn.updateQueue,t===null?(t={lastEffect:null,stores:null},Qn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function g7(e,t,r,n){t.value=r,t.getSnapshot=n,x7(t)&&y7(e)}function v7(e,t,r){return r(function(){x7(t)&&y7(e)})}function x7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sc(e,r)}catch{return!0}}function y7(e){var t=Xu(e,1);t!==null&&ec(t,e,1,-1)}function PO(e){var t=Cc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rx,lastRenderedState:e},t.queue=e,e=e.dispatch=Cee.bind(null,Qn,e),[t.memoizedState,e]}function Mx(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qn.updateQueue,t===null?(t={lastEffect:null,stores:null},Qn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function w7(){return dl().memoizedState}function _w(e,t,r,n){var a=Cc();Qn.flags|=e,a.memoizedState=Mx(1|t,r,void 0,n===void 0?null:n)}function Q_(e,t,r,n){var a=dl();n=n===void 0?null:n;var i=void 0;if(Ua!==null){var s=Ua.memoizedState;if(i=s.destroy,n!==null&&g3(n,s.deps)){a.memoizedState=Mx(t,r,i,n);return}}Qn.flags|=e,a.memoizedState=Mx(1|t,r,i,n)}function OO(e,t){return _w(8390656,8,e,t)}function y3(e,t){return Q_(2048,8,e,t)}function b7(e,t){return Q_(4,2,e,t)}function _7(e,t){return Q_(4,4,e,t)}function S7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j7(e,t,r){return r=r!=null?r.concat([e]):null,Q_(4,4,S7.bind(null,t,e),r)}function w3(){}function N7(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&g3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function k7(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&g3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function A7(e,t,r){return i0&21?(sc(r,t)||(r=OM(),Qn.lanes|=r,s0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qs=!0),e.memoizedState=r)}function Aee(e,t){var r=pn;pn=r!==0&&4>r?r:4,e(!0);var n=e4.transition;e4.transition={};try{e(!1),t()}finally{pn=r,e4.transition=n}}function E7(){return dl().memoizedState}function Eee(e,t,r){var n=wd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},C7(e))T7(t,r);else if(r=u7(e,t,r,n),r!==null){var a=bs();ec(r,e,n,a),P7(r,t,n)}}function Cee(e,t,r){var n=wd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(C7(e))T7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,sc(o,s)){var c=t.interleaved;c===null?(a.next=a,f3(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=u7(e,t,a,n),r!==null&&(a=bs(),ec(r,e,n,a),P7(r,t,n))}}function C7(e){var t=e.alternate;return e===Qn||t!==null&&t===Qn}function T7(e,t){Zv=ab=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ZE(e,r)}}var ib={readContext:fl,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Tee={readContext:fl,useCallback:function(e,t){return Cc().memoizedState=[e,t===void 0?null:t],e},useContext:fl,useEffect:OO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_w(4194308,4,S7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _w(4194308,4,e,t)},useInsertionEffect:function(e,t){return _w(4,2,e,t)},useMemo:function(e,t){var r=Cc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Cc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eee.bind(null,Qn,e),[n.memoizedState,e]},useRef:function(e){var t=Cc();return e={current:e},t.memoizedState=e},useState:PO,useDebugValue:w3,useDeferredValue:function(e){return Cc().memoizedState=e},useTransition:function(){var e=PO(!1),t=e[0];return e=Aee.bind(null,e[1]),Cc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qn,a=Cc();if(Vn){if(r===void 0)throw Error(pt(407));r=r()}else{if(r=t(),ii===null)throw Error(pt(349));i0&30||m7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,OO(v7.bind(null,n,i,e),[e]),n.flags|=2048,Mx(9,g7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Cc(),t=ii.identifierPrefix;if(Vn){var r=Du,n=Fu;r=(n&~(1<<32-Ql(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ix++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pee={readContext:fl,useCallback:N7,useContext:fl,useEffect:y3,useImperativeHandle:j7,useInsertionEffect:b7,useLayoutEffect:_7,useMemo:k7,useReducer:t4,useRef:w7,useState:function(){return t4(Rx)},useDebugValue:w3,useDeferredValue:function(e){var t=dl();return A7(t,Ua.memoizedState,e)},useTransition:function(){var e=t4(Rx)[0],t=dl().memoizedState;return[e,t]},useMutableSource:h7,useSyncExternalStore:p7,useId:E7,unstable_isNewReconciler:!1},Oee={readContext:fl,useCallback:N7,useContext:fl,useEffect:y3,useImperativeHandle:j7,useInsertionEffect:b7,useLayoutEffect:_7,useMemo:k7,useReducer:r4,useRef:w7,useState:function(){return r4(Rx)},useDebugValue:w3,useDeferredValue:function(e){var t=dl();return Ua===null?t.memoizedState=e:A7(t,Ua.memoizedState,e)},useTransition:function(){var e=r4(Rx)[0],t=dl().memoizedState;return[e,t]},useMutableSource:h7,useSyncExternalStore:p7,useId:E7,unstable_isNewReconciler:!1};function Il(e,t){if(e&&e.defaultProps){t=ea({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ak(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ea({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var e5={isMounted:function(e){return(e=e._reactInternals)?C0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bs(),a=wd(e),i=Uu(n,a);i.payload=t,r!=null&&(i.callback=r),t=xd(e,i,a),t!==null&&(ec(t,e,a,n),ww(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bs(),a=wd(e),i=Uu(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xd(e,i,a),t!==null&&(ec(t,e,a,n),ww(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bs(),n=wd(e),a=Uu(r,n);a.tag=2,t!=null&&(a.callback=t),t=xd(e,a,n),t!==null&&(ec(t,e,n,r),ww(t,e,n))}};function FO(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Tx(r,n)||!Tx(a,i):!0}function O7(e,t,r){var n=!1,a=Nd,i=t.contextType;return typeof i=="object"&&i!==null?i=fl(i):(a=Hs(t)?n0:ns.current,n=t.contextTypes,i=(n=n!=null)?Mm(e,a):Nd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e5,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function DO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&e5.enqueueReplaceState(t,t.state,null)}function ik(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},d3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fl(i):(i=Hs(t)?n0:ns.current,a.context=Mm(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ak(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&e5.enqueueReplaceState(a,a.state,null),rb(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function zm(e,t){try{var r="",n=t;do r+=sQ(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function n4(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sk(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fee=typeof WeakMap=="function"?WeakMap:Map;function F7(e,t,r){r=Uu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ob||(ob=!0,gk=n),sk(e,t)},r}function D7(e,t,r){r=Uu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){sk(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sk(e,t),typeof n!="function"&&(yd===null?yd=new Set([this]):yd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function LO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Gee.bind(null,e,t,r),t.then(e,e))}function IO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Uu(-1,1),t.tag=2,xd(r,t,1))),r.lanes|=1),e)}var Dee=cf.ReactCurrentOwner,qs=!1;function ps(e,t,r,n){t.child=e===null?c7(t,null,r,n):Um(t,e.child,r,n)}function MO(e,t,r,n,a){r=r.render;var i=t.ref;return am(t,a),n=v3(e,t,r,n,i,a),r=x3(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zu(e,t,a)):(Vn&&r&&i3(t),t.flags|=1,ps(e,t,n,a),t.child)}function BO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!E3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,L7(e,t,i,n,a)):(e=kw(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Tx,r(s,n)&&e.ref===t.ref)return Zu(e,t,a)}return t.flags|=1,e=bd(i,n),e.ref=t.ref,e.return=t,t.child=e}function L7(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Tx(i,n)&&e.ref===t.ref)if(qs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(qs=!0);else return t.lanes=e.lanes,Zu(e,t,a)}return ok(e,t,r,n,a)}function I7(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(Kp,uo),uo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,En(Kp,uo),uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,En(Kp,uo),uo|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,En(Kp,uo),uo|=n;return ps(e,t,a,r),t.child}function R7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ok(e,t,r,n,a){var i=Hs(r)?n0:ns.current;return i=Mm(t,i),am(t,a),r=v3(e,t,r,n,i,a),n=x3(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zu(e,t,a)):(Vn&&n&&i3(t),t.flags|=1,ps(e,t,r,a),t.child)}function UO(e,t,r,n,a){if(Hs(r)){var i=!0;Zw(t)}else i=!1;if(am(t,a),t.stateNode===null)Sw(e,t),O7(t,r,n),ik(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fl(u):(u=Hs(r)?n0:ns.current,u=Mm(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&DO(t,s,n,u),Hf=!1;var h=t.memoizedState;s.state=h,rb(t,n,s,a),c=t.memoizedState,o!==n||h!==c||Vs.current||Hf?(typeof f=="function"&&(ak(t,r,f,n),c=t.memoizedState),(o=Hf||FO(t,r,o,n,h,c,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,f7(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Il(t.type,o),s.props=u,d=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=fl(c):(c=Hs(r)?n0:ns.current,c=Mm(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==c)&&DO(t,s,n,c),Hf=!1,h=t.memoizedState,s.state=h,rb(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||Vs.current||Hf?(typeof p=="function"&&(ak(t,r,p,n),g=t.memoizedState),(u=Hf||FO(t,r,u,n,h,g,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return lk(e,t,r,n,i,a)}function lk(e,t,r,n,a,i){R7(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&NO(t,r,!1),Zu(e,t,i);n=t.stateNode,Dee.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Um(t,e.child,null,i),t.child=Um(t,null,o,i)):ps(e,t,o,i),t.memoizedState=n.state,a&&NO(t,r,!0),t.child}function M7(e){var t=e.stateNode;t.pendingContext?jO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jO(e,t.context,!1),h3(e,t.containerInfo)}function $O(e,t,r,n,a){return Bm(),o3(a),t.flags|=256,ps(e,t,r,n),t.child}var ck={dehydrated:null,treeContext:null,retryLane:0};function uk(e){return{baseLanes:e,cachePool:null,transitions:null}}function B7(e,t,r){var n=t.pendingProps,a=Xn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),En(Xn,a&1),e===null)return rk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=n5(s,n,0,null),e=Vh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uk(r),t.memoizedState=ck,e):b3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Lee(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bd(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=bd(o,i):(i=Vh(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?uk(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=ck,n}return i=e.child,e=i.sibling,n=bd(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function b3(e,t){return t=n5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function N2(e,t,r,n){return n!==null&&o3(n),Um(t,e.child,null,r),e=b3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lee(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=n4(Error(pt(422))),N2(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=n5({mode:"visible",children:n.children},a,0,null),i=Vh(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Um(t,e.child,null,s),t.child.memoizedState=uk(s),t.memoizedState=ck,i);if(!(t.mode&1))return N2(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(pt(419)),n=n4(i,n,void 0),N2(e,t,s,n)}if(o=(s&e.childLanes)!==0,qs||o){if(n=ii,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Xu(e,a),ec(n,e,a,-1))}return A3(),n=n4(Error(pt(421))),N2(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Kee.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,_o=vd(a.nextSibling),No=t,Vn=!0,$l=null,e!==null&&(el[tl++]=Fu,el[tl++]=Du,el[tl++]=a0,Fu=e.id,Du=e.overflow,a0=t),t=b3(t,n.children),t.flags|=4096,t)}function zO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nk(e.return,t,r)}function a4(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function U7(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ps(e,t,n.children,r),n=Xn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zO(e,r,t);else if(e.tag===19)zO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(En(Xn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nb(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),a4(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nb(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}a4(t,!0,r,null,i);break;case"together":a4(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),s0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pt(153));if(t.child!==null){for(e=t.child,r=bd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Iee(e,t,r){switch(t.tag){case 3:M7(t),Bm();break;case 5:d7(t);break;case 1:Hs(t.type)&&Zw(t);break;case 4:h3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;En(eb,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(En(Xn,Xn.current&1),t.flags|=128,null):r&t.child.childLanes?B7(e,t,r):(En(Xn,Xn.current&1),e=Zu(e,t,r),e!==null?e.sibling:null);En(Xn,Xn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U7(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),En(Xn,Xn.current),n)break;return null;case 22:case 23:return t.lanes=0,I7(e,t,r)}return Zu(e,t,r)}var $7,fk,z7,q7;$7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fk=function(){};z7=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ch(zc.current);var i=null;switch(r){case"input":a=FN(e,a),n=FN(e,n),i=[];break;case"select":a=ea({},a,{value:void 0}),n=ea({},n,{value:void 0}),i=[];break;case"textarea":a=IN(e,a),n=IN(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yw)}MN(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sx.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sx.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&On("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};q7=function(e,t,r,n){r!==n&&(t.flags|=4)};function hv(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ree(e,t,r){var n=t.pendingProps;switch(s3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(t),null;case 1:return Hs(t.type)&&Xw(),Ui(t),null;case 3:return n=t.stateNode,$m(),Rn(Vs),Rn(ns),m3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(S2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$l!==null&&(yk($l),$l=null))),fk(e,t),Ui(t),null;case 5:p3(t);var a=Ch(Lx.current);if(r=t.type,e!==null&&t.stateNode!=null)z7(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return Ui(t),null}if(e=Ch(zc.current),S2(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Dc]=t,n[Fx]=i,e=(t.mode&1)!==0,r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(a=0;a<Dv.length;a++)On(Dv[a],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":Z6(n,i),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},On("invalid",n);break;case"textarea":Q6(n,i),On("invalid",n)}MN(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&_2(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&_2(n.textContent,o,e),a=["children",""+o]):Sx.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&On("scroll",n)}switch(r){case"input":p2(n),J6(n,i,!0);break;case"textarea":p2(n),eO(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yw)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Dc]=t,e[Fx]=n,$7(e,t,!1,!1),t.stateNode=e;e:{switch(s=BN(r,n),r){case"dialog":On("cancel",e),On("close",e),a=n;break;case"iframe":case"object":case"embed":On("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dv.length;a++)On(Dv[a],e);a=n;break;case"source":On("error",e),a=n;break;case"img":case"image":case"link":On("error",e),On("load",e),a=n;break;case"details":On("toggle",e),a=n;break;case"input":Z6(e,n),a=FN(e,n),On("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ea({},n,{value:void 0}),On("invalid",e);break;case"textarea":Q6(e,n),a=IN(e,n),On("invalid",e);break;default:a=n}MN(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?wM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jx(e,c):typeof c=="number"&&jx(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sx.hasOwnProperty(i)?c!=null&&i==="onScroll"&&On("scroll",e):c!=null&&VE(e,i,c,s))}switch(r){case"input":p2(e),J6(e,n,!1);break;case"textarea":p2(e),eO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jd(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?em(e,!!n.multiple,i,!1):n.defaultValue!=null&&em(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ui(t),null;case 6:if(e&&t.stateNode!=null)q7(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pt(166));if(r=Ch(Lx.current),Ch(zc.current),S2(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dc]=t,(i=n.nodeValue!==r)&&(e=No,e!==null))switch(e.tag){case 3:_2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_2(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dc]=t,t.stateNode=n}return Ui(t),null;case 13:if(Rn(Xn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vn&&_o!==null&&t.mode&1&&!(t.flags&128))o7(),Bm(),t.flags|=98560,i=!1;else if(i=S2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pt(317));i[Dc]=t}else Bm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ui(t),i=!1}else $l!==null&&(yk($l),$l=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xn.current&1?qa===0&&(qa=3):A3())),t.updateQueue!==null&&(t.flags|=4),Ui(t),null);case 4:return $m(),fk(e,t),e===null&&Px(t.stateNode.containerInfo),Ui(t),null;case 10:return u3(t.type._context),Ui(t),null;case 17:return Hs(t.type)&&Xw(),Ui(t),null;case 19:if(Rn(Xn),i=t.memoizedState,i===null)return Ui(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)hv(i,!1);else{if(qa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=nb(e),s!==null){for(t.flags|=128,hv(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return En(Xn,Xn.current&1|2),t.child}e=e.sibling}i.tail!==null&&xa()>qm&&(t.flags|=128,n=!0,hv(i,!1),t.lanes=4194304)}else{if(!n)if(e=nb(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hv(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Vn)return Ui(t),null}else 2*xa()-i.renderingStartTime>qm&&r!==1073741824&&(t.flags|=128,n=!0,hv(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xa(),t.sibling=null,r=Xn.current,En(Xn,n?r&1|2:r&1),t):(Ui(t),null);case 22:case 23:return k3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?uo&1073741824&&(Ui(t),t.subtreeFlags&6&&(t.flags|=8192)):Ui(t),null;case 24:return null;case 25:return null}throw Error(pt(156,t.tag))}function Mee(e,t){switch(s3(t),t.tag){case 1:return Hs(t.type)&&Xw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $m(),Rn(Vs),Rn(ns),m3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return p3(t),null;case 13:if(Rn(Xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pt(340));Bm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rn(Xn),null;case 4:return $m(),null;case 10:return u3(t.type._context),null;case 22:case 23:return k3(),null;case 24:return null;default:return null}}var k2=!1,Zi=!1,Bee=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Gp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){la(e,t,n)}else r.current=null}function dk(e,t,r){try{r()}catch(n){la(e,t,n)}}var qO=!1;function Uee(e,t){if(YN=Hw,e=KM(),a3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(c=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++f===n&&(c=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XN={focusedElem:e,selectionRange:r},Hw=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Il(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(j){la(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return g=qO,qO=!1,g}function Jv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&dk(t,r,i)}a=a.next}while(a!==n)}}function t5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W7(e){var t=e.alternate;t!==null&&(e.alternate=null,W7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dc],delete t[Fx],delete t[QN],delete t[_ee],delete t[See])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V7(e){return e.tag===5||e.tag===3||e.tag===4}function WO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yw));else if(n!==4&&(e=e.child,e!==null))for(pk(e,t,r),e=e.sibling;e!==null;)pk(e,t,r),e=e.sibling}function mk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mk(e,t,r),e=e.sibling;e!==null;)mk(e,t,r),e=e.sibling}var _i=null,Bl=!1;function Ff(e,t,r){for(r=r.child;r!==null;)H7(e,t,r),r=r.sibling}function H7(e,t,r){if($c&&typeof $c.onCommitFiberUnmount=="function")try{$c.onCommitFiberUnmount(G_,r)}catch{}switch(r.tag){case 5:Zi||Gp(r,t);case 6:var n=_i,a=Bl;_i=null,Ff(e,t,r),_i=n,Bl=a,_i!==null&&(Bl?(e=_i,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_i.removeChild(r.stateNode));break;case 18:_i!==null&&(Bl?(e=_i,r=r.stateNode,e.nodeType===8?Zj(e.parentNode,r):e.nodeType===1&&Zj(e,r),Ex(e)):Zj(_i,r.stateNode));break;case 4:n=_i,a=Bl,_i=r.stateNode.containerInfo,Bl=!0,Ff(e,t,r),_i=n,Bl=a;break;case 0:case 11:case 14:case 15:if(!Zi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&dk(r,t,s),a=a.next}while(a!==n)}Ff(e,t,r);break;case 1:if(!Zi&&(Gp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){la(r,t,o)}Ff(e,t,r);break;case 21:Ff(e,t,r);break;case 22:r.mode&1?(Zi=(n=Zi)||r.memoizedState!==null,Ff(e,t,r),Zi=n):Ff(e,t,r);break;default:Ff(e,t,r)}}function VO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bee),t.forEach(function(n){var a=Yee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Tl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:_i=o.stateNode,Bl=!1;break e;case 3:_i=o.stateNode.containerInfo,Bl=!0;break e;case 4:_i=o.stateNode.containerInfo,Bl=!0;break e}o=o.return}if(_i===null)throw Error(pt(160));H7(i,s,a),_i=null,Bl=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){la(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G7(t,e),t=t.sibling}function G7(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tl(t,e),Sc(e),n&4){try{Jv(3,e,e.return),t5(3,e)}catch(m){la(e,e.return,m)}try{Jv(5,e,e.return)}catch(m){la(e,e.return,m)}}break;case 1:Tl(t,e),Sc(e),n&512&&r!==null&&Gp(r,r.return);break;case 5:if(Tl(t,e),Sc(e),n&512&&r!==null&&Gp(r,r.return),e.flags&32){var a=e.stateNode;try{jx(a,"")}catch(m){la(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mM(a,i),BN(o,s);var u=BN(o,i);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];f==="style"?wM(a,d):f==="dangerouslySetInnerHTML"?xM(a,d):f==="children"?jx(a,d):VE(a,f,d,u)}switch(o){case"input":DN(a,i);break;case"textarea":gM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?em(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?em(a,!!i.multiple,i.defaultValue,!0):em(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fx]=i}catch(m){la(e,e.return,m)}}break;case 6:if(Tl(t,e),Sc(e),n&4){if(e.stateNode===null)throw Error(pt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){la(e,e.return,m)}}break;case 3:if(Tl(t,e),Sc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ex(t.containerInfo)}catch(m){la(e,e.return,m)}break;case 4:Tl(t,e),Sc(e);break;case 13:Tl(t,e),Sc(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(j3=xa())),n&4&&VO(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Zi=(u=Zi)||f,Tl(t,e),Zi=u):Tl(t,e),Sc(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ut=e,f=e.child;f!==null;){for(d=Ut=f;Ut!==null;){switch(h=Ut,p=h.child,h.tag){case 0:case 11:case 14:case 15:Jv(4,h,h.return);break;case 1:Gp(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){la(n,r,m)}}break;case 5:Gp(h,h.return);break;case 22:if(h.memoizedState!==null){GO(d);continue}}p!==null?(p.return=h,Ut=p):GO(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=yM("display",s))}catch(m){la(e,e.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){la(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tl(t,e),Sc(e),n&4&&VO(e);break;case 21:break;default:Tl(t,e),Sc(e)}}function Sc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(V7(r)){var n=r;break e}r=r.return}throw Error(pt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jx(a,""),n.flags&=-33);var i=WO(e);mk(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=WO(e);pk(e,o,s);break;default:throw Error(pt(161))}}catch(c){la(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $ee(e,t,r){Ut=e,K7(e)}function K7(e,t,r){for(var n=(e.mode&1)!==0;Ut!==null;){var a=Ut,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||k2;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Zi;o=k2;var u=Zi;if(k2=s,(Zi=c)&&!u)for(Ut=a;Ut!==null;)s=Ut,c=s.child,s.tag===22&&s.memoizedState!==null?KO(a):c!==null?(c.return=s,Ut=c):KO(a);for(;i!==null;)Ut=i,K7(i),i=i.sibling;Ut=a,k2=o,Zi=u}HO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ut=i):HO(e)}}function HO(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zi||t5(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Il(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&TO(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}TO(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ex(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pt(163))}Zi||t.flags&512&&hk(t)}catch(h){la(t,t.return,h)}}if(t===e){Ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function GO(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function KO(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{t5(4,t)}catch(c){la(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){la(t,a,c)}}var i=t.return;try{hk(t)}catch(c){la(t,i,c)}break;case 5:var s=t.return;try{hk(t)}catch(c){la(t,s,c)}}}catch(c){la(t,t.return,c)}if(t===e){Ut=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ut=o;break}Ut=t.return}}var zee=Math.ceil,sb=cf.ReactCurrentDispatcher,_3=cf.ReactCurrentOwner,sl=cf.ReactCurrentBatchConfig,Hr=0,ii=null,Da=null,Ti=0,uo=0,Kp=Vd(0),qa=0,Bx=null,s0=0,r5=0,S3=0,Qv=null,$s=null,j3=0,qm=1/0,ju=null,ob=!1,gk=null,yd=null,A2=!1,ud=null,lb=0,ex=0,vk=null,jw=-1,Nw=0;function bs(){return Hr&6?xa():jw!==-1?jw:jw=xa()}function wd(e){return e.mode&1?Hr&2&&Ti!==0?Ti&-Ti:Nee.transition!==null?(Nw===0&&(Nw=OM()),Nw):(e=pn,e!==0||(e=window.event,e=e===void 0?16:BM(e.type)),e):1}function ec(e,t,r,n){if(50<ex)throw ex=0,vk=null,Error(pt(185));R1(e,r,n),(!(Hr&2)||e!==ii)&&(e===ii&&(!(Hr&2)&&(r5|=r),qa===4&&Yf(e,Ti)),Gs(e,n),r===1&&Hr===0&&!(t.mode&1)&&(qm=xa()+500,J_&&Hd()))}function Gs(e,t){var r=e.callbackNode;NQ(e,t);var n=Vw(e,e===ii?Ti:0);if(n===0)r!==null&&nO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nO(r),t===1)e.tag===0?jee(YO.bind(null,e)):a7(YO.bind(null,e)),wee(function(){!(Hr&6)&&Hd()}),r=null;else{switch(FM(n)){case 1:r=XE;break;case 4:r=TM;break;case 16:r=Ww;break;case 536870912:r=PM;break;default:r=Ww}r=r9(r,Y7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Y7(e,t){if(jw=-1,Nw=0,Hr&6)throw Error(pt(327));var r=e.callbackNode;if(im()&&e.callbackNode!==r)return null;var n=Vw(e,e===ii?Ti:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cb(e,n);else{t=n;var a=Hr;Hr|=2;var i=Z7();(ii!==e||Ti!==t)&&(ju=null,qm=xa()+500,Wh(e,t));do try{Vee();break}catch(o){X7(e,o)}while(!0);c3(),sb.current=i,Hr=a,Da!==null?t=0:(ii=null,Ti=0,t=qa)}if(t!==0){if(t===2&&(a=WN(e),a!==0&&(n=a,t=xk(e,a))),t===1)throw r=Bx,Wh(e,0),Yf(e,n),Gs(e,xa()),r;if(t===6)Yf(e,n);else{if(a=e.current.alternate,!(n&30)&&!qee(a)&&(t=cb(e,n),t===2&&(i=WN(e),i!==0&&(n=i,t=xk(e,i))),t===1))throw r=Bx,Wh(e,0),Yf(e,n),Gs(e,xa()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pt(345));case 2:xh(e,$s,ju);break;case 3:if(Yf(e,n),(n&130023424)===n&&(t=j3+500-xa(),10<t)){if(Vw(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){bs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=JN(xh.bind(null,e,$s,ju),t);break}xh(e,$s,ju);break;case 4:if(Yf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Ql(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=xa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zee(n/1960))-n,10<n){e.timeoutHandle=JN(xh.bind(null,e,$s,ju),n);break}xh(e,$s,ju);break;case 5:xh(e,$s,ju);break;default:throw Error(pt(329))}}}return Gs(e,xa()),e.callbackNode===r?Y7.bind(null,e):null}function xk(e,t){var r=Qv;return e.current.memoizedState.isDehydrated&&(Wh(e,t).flags|=256),e=cb(e,t),e!==2&&(t=$s,$s=r,t!==null&&yk(t)),e}function yk(e){$s===null?$s=e:$s.push.apply($s,e)}function qee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sc(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yf(e,t){for(t&=~S3,t&=~r5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ql(t),n=1<<r;e[r]=-1,t&=~n}}function YO(e){if(Hr&6)throw Error(pt(327));im();var t=Vw(e,0);if(!(t&1))return Gs(e,xa()),null;var r=cb(e,t);if(e.tag!==0&&r===2){var n=WN(e);n!==0&&(t=n,r=xk(e,n))}if(r===1)throw r=Bx,Wh(e,0),Yf(e,t),Gs(e,xa()),r;if(r===6)throw Error(pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xh(e,$s,ju),Gs(e,xa()),null}function N3(e,t){var r=Hr;Hr|=1;try{return e(t)}finally{Hr=r,Hr===0&&(qm=xa()+500,J_&&Hd())}}function o0(e){ud!==null&&ud.tag===0&&!(Hr&6)&&im();var t=Hr;Hr|=1;var r=sl.transition,n=pn;try{if(sl.transition=null,pn=1,e)return e()}finally{pn=n,sl.transition=r,Hr=t,!(Hr&6)&&Hd()}}function k3(){uo=Kp.current,Rn(Kp)}function Wh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yee(r)),Da!==null)for(r=Da.return;r!==null;){var n=r;switch(s3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xw();break;case 3:$m(),Rn(Vs),Rn(ns),m3();break;case 5:p3(n);break;case 4:$m();break;case 13:Rn(Xn);break;case 19:Rn(Xn);break;case 10:u3(n.type._context);break;case 22:case 23:k3()}r=r.return}if(ii=e,Da=e=bd(e.current,null),Ti=uo=t,qa=0,Bx=null,S3=r5=s0=0,$s=Qv=null,Eh!==null){for(t=0;t<Eh.length;t++)if(r=Eh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Eh=null}return e}function X7(e,t){do{var r=Da;try{if(c3(),bw.current=ib,ab){for(var n=Qn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ab=!1}if(i0=0,ti=Ua=Qn=null,Zv=!1,Ix=0,_3.current=null,r===null||r.return===null){qa=1,Bx=t,Da=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=Ti,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=IO(s);if(p!==null){p.flags&=-257,RO(p,s,o,i,t),p.mode&1&&LO(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){LO(i,u,t),A3();break e}c=Error(pt(426))}}else if(Vn&&o.mode&1){var v=IO(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),RO(v,s,o,i,t),o3(zm(c,o));break e}}i=c=zm(c,o),qa!==4&&(qa=2),Qv===null?Qv=[i]:Qv.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=F7(i,c,t);CO(i,x);break e;case 1:o=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yd===null||!yd.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=D7(i,o,t);CO(i,j);break e}}i=i.return}while(i!==null)}Q7(r)}catch(k){t=k,Da===r&&r!==null&&(Da=r=r.return);continue}break}while(!0)}function Z7(){var e=sb.current;return sb.current=ib,e===null?ib:e}function A3(){(qa===0||qa===3||qa===2)&&(qa=4),ii===null||!(s0&268435455)&&!(r5&268435455)||Yf(ii,Ti)}function cb(e,t){var r=Hr;Hr|=2;var n=Z7();(ii!==e||Ti!==t)&&(ju=null,Wh(e,t));do try{Wee();break}catch(a){X7(e,a)}while(!0);if(c3(),Hr=r,sb.current=n,Da!==null)throw Error(pt(261));return ii=null,Ti=0,qa}function Wee(){for(;Da!==null;)J7(Da)}function Vee(){for(;Da!==null&&!gQ();)J7(Da)}function J7(e){var t=t9(e.alternate,e,uo);e.memoizedProps=e.pendingProps,t===null?Q7(e):Da=t,_3.current=null}function Q7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mee(r,t),r!==null){r.flags&=32767,Da=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qa=6,Da=null;return}}else if(r=Ree(r,t,uo),r!==null){Da=r;return}if(t=t.sibling,t!==null){Da=t;return}Da=t=e}while(t!==null);qa===0&&(qa=5)}function xh(e,t,r){var n=pn,a=sl.transition;try{sl.transition=null,pn=1,Hee(e,t,r,n)}finally{sl.transition=a,pn=n}return null}function Hee(e,t,r,n){do im();while(ud!==null);if(Hr&6)throw Error(pt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kQ(e,i),e===ii&&(Da=ii=null,Ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||A2||(A2=!0,r9(Ww,function(){return im(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=sl.transition,sl.transition=null;var s=pn;pn=1;var o=Hr;Hr|=4,_3.current=null,Uee(e,r),G7(r,e),dee(XN),Hw=!!YN,XN=YN=null,e.current=r,$ee(r),vQ(),Hr=o,pn=s,sl.transition=i}else e.current=r;if(A2&&(A2=!1,ud=e,lb=a),i=e.pendingLanes,i===0&&(yd=null),wQ(r.stateNode),Gs(e,xa()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ob)throw ob=!1,e=gk,gk=null,e;return lb&1&&e.tag!==0&&im(),i=e.pendingLanes,i&1?e===vk?ex++:(ex=0,vk=e):ex=0,Hd(),null}function im(){if(ud!==null){var e=FM(lb),t=sl.transition,r=pn;try{if(sl.transition=null,pn=16>e?16:e,ud===null)var n=!1;else{if(e=ud,ud=null,lb=0,Hr&6)throw Error(pt(331));var a=Hr;for(Hr|=4,Ut=e.current;Ut!==null;){var i=Ut,s=i.child;if(Ut.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ut=u;Ut!==null;){var f=Ut;switch(f.tag){case 0:case 11:case 15:Jv(8,f,i)}var d=f.child;if(d!==null)d.return=f,Ut=d;else for(;Ut!==null;){f=Ut;var h=f.sibling,p=f.return;if(W7(f),f===u){Ut=null;break}if(h!==null){h.return=p,Ut=h;break}Ut=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ut=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ut=s;else e:for(;Ut!==null;){if(i=Ut,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jv(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ut=x;break e}Ut=i.return}}var y=e.current;for(Ut=y;Ut!==null;){s=Ut;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ut=b;else e:for(s=y;Ut!==null;){if(o=Ut,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:t5(9,o)}}catch(k){la(o,o.return,k)}if(o===s){Ut=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Ut=j;break e}Ut=o.return}}if(Hr=a,Hd(),$c&&typeof $c.onPostCommitFiberRoot=="function")try{$c.onPostCommitFiberRoot(G_,e)}catch{}n=!0}return n}finally{pn=r,sl.transition=t}}return!1}function XO(e,t,r){t=zm(r,t),t=F7(e,t,1),e=xd(e,t,1),t=bs(),e!==null&&(R1(e,1,t),Gs(e,t))}function la(e,t,r){if(e.tag===3)XO(e,e,r);else for(;t!==null;){if(t.tag===3){XO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yd===null||!yd.has(n))){e=zm(r,e),e=D7(t,e,1),t=xd(t,e,1),e=bs(),t!==null&&(R1(t,1,e),Gs(t,e));break}}t=t.return}}function Gee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bs(),e.pingedLanes|=e.suspendedLanes&r,ii===e&&(Ti&r)===r&&(qa===4||qa===3&&(Ti&130023424)===Ti&&500>xa()-j3?Wh(e,0):S3|=r),Gs(e,t)}function e9(e,t){t===0&&(e.mode&1?(t=v2,v2<<=1,!(v2&130023424)&&(v2=4194304)):t=1);var r=bs();e=Xu(e,t),e!==null&&(R1(e,t,r),Gs(e,r))}function Kee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),e9(e,r)}function Yee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pt(314))}n!==null&&n.delete(t),e9(e,r)}var t9;t9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vs.current)qs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qs=!1,Iee(e,t,r);qs=!!(e.flags&131072)}else qs=!1,Vn&&t.flags&1048576&&i7(t,Qw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sw(e,t),e=t.pendingProps;var a=Mm(t,ns.current);am(t,r),a=v3(null,t,n,e,a,r);var i=x3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hs(n)?(i=!0,Zw(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,d3(t),a.updater=e5,t.stateNode=a,a._reactInternals=t,ik(t,n,e,r),t=lk(null,t,n,!0,i,r)):(t.tag=0,Vn&&i&&i3(t),ps(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sw(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Zee(n),e=Il(n,e),a){case 0:t=ok(null,t,n,e,r);break e;case 1:t=UO(null,t,n,e,r);break e;case 11:t=MO(null,t,n,e,r);break e;case 14:t=BO(null,t,n,Il(n.type,e),r);break e}throw Error(pt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Il(n,a),ok(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Il(n,a),UO(e,t,n,a,r);case 3:e:{if(M7(t),e===null)throw Error(pt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,f7(e,t),rb(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=zm(Error(pt(423)),t),t=$O(e,t,n,r,a);break e}else if(n!==a){a=zm(Error(pt(424)),t),t=$O(e,t,n,r,a);break e}else for(_o=vd(t.stateNode.containerInfo.firstChild),No=t,Vn=!0,$l=null,r=c7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bm(),n===a){t=Zu(e,t,r);break e}ps(e,t,n,r)}t=t.child}return t;case 5:return d7(t),e===null&&rk(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,ZN(n,a)?s=null:i!==null&&ZN(n,i)&&(t.flags|=32),R7(e,t),ps(e,t,s,r),t.child;case 6:return e===null&&rk(t),null;case 13:return B7(e,t,r);case 4:return h3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Um(t,null,n,r):ps(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Il(n,a),MO(e,t,n,a,r);case 7:return ps(e,t,t.pendingProps,r),t.child;case 8:return ps(e,t,t.pendingProps.children,r),t.child;case 12:return ps(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,En(eb,n._currentValue),n._currentValue=s,i!==null)if(sc(i.value,s)){if(i.children===a.children&&!Vs.current){t=Zu(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Uu(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),nk(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(pt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),nk(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ps(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,am(t,r),a=fl(a),n=n(a),t.flags|=1,ps(e,t,n,r),t.child;case 14:return n=t.type,a=Il(n,t.pendingProps),a=Il(n.type,a),BO(e,t,n,a,r);case 15:return L7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Il(n,a),Sw(e,t),t.tag=1,Hs(n)?(e=!0,Zw(t)):e=!1,am(t,r),O7(t,n,a),ik(t,n,a,r),lk(null,t,n,!0,e,r);case 19:return U7(e,t,r);case 22:return I7(e,t,r)}throw Error(pt(156,t.tag))};function r9(e,t){return CM(e,t)}function Xee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nl(e,t,r,n){return new Xee(e,t,r,n)}function E3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zee(e){if(typeof e=="function")return E3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===GE)return 11;if(e===KE)return 14}return 2}function bd(e,t){var r=e.alternate;return r===null?(r=nl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kw(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")E3(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Mp:return Vh(r.children,a,i,t);case HE:s=8,a|=8;break;case CN:return e=nl(12,r,t,a|2),e.elementType=CN,e.lanes=i,e;case TN:return e=nl(13,r,t,a),e.elementType=TN,e.lanes=i,e;case PN:return e=nl(19,r,t,a),e.elementType=PN,e.lanes=i,e;case dM:return n5(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uM:s=10;break e;case fM:s=9;break e;case GE:s=11;break e;case KE:s=14;break e;case Vf:s=16,n=null;break e}throw Error(pt(130,e==null?e:typeof e,""))}return t=nl(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Vh(e,t,r,n){return e=nl(7,e,n,t),e.lanes=r,e}function n5(e,t,r,n){return e=nl(22,e,n,t),e.elementType=dM,e.lanes=r,e.stateNode={isHidden:!1},e}function i4(e,t,r){return e=nl(6,e,null,t),e.lanes=r,e}function s4(e,t,r){return t=nl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uj(0),this.expirationTimes=Uj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function C3(e,t,r,n,a,i,s,o,c){return e=new Jee(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},d3(i),e}function Qee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function n9(e){if(!e)return Nd;e=e._reactInternals;e:{if(C0(e)!==e||e.tag!==1)throw Error(pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pt(171))}if(e.tag===1){var r=e.type;if(Hs(r))return n7(e,r,t)}return t}function a9(e,t,r,n,a,i,s,o,c){return e=C3(r,n,!0,e,a,i,s,o,c),e.context=n9(null),r=e.current,n=bs(),a=wd(r),i=Uu(n,a),i.callback=t??null,xd(r,i,a),e.current.lanes=a,R1(e,a,n),Gs(e,n),e}function a5(e,t,r,n){var a=t.current,i=bs(),s=wd(a);return r=n9(r),t.context===null?t.context=r:t.pendingContext=r,t=Uu(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xd(a,t,s),e!==null&&(ec(e,a,s,i),ww(e,a,s)),s}function ub(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function T3(e,t){ZO(e,t),(e=e.alternate)&&ZO(e,t)}function ete(){return null}var i9=typeof reportError=="function"?reportError:function(e){console.error(e)};function P3(e){this._internalRoot=e}i5.prototype.render=P3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pt(409));a5(e,t,null,null)};i5.prototype.unmount=P3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;o0(function(){a5(null,e,null,null)}),t[Yu]=null}};function i5(e){this._internalRoot=e}i5.prototype.unstable_scheduleHydration=function(e){if(e){var t=IM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kf.length&&t!==0&&t<Kf[r].priority;r++);Kf.splice(r,0,e),r===0&&MM(e)}};function O3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function JO(){}function tte(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ub(s);i.call(u)}}var s=a9(t,n,e,0,null,!1,!1,"",JO);return e._reactRootContainer=s,e[Yu]=s.current,Px(e.nodeType===8?e.parentNode:e),o0(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=ub(c);o.call(u)}}var c=C3(e,0,!1,null,null,!1,!1,"",JO);return e._reactRootContainer=c,e[Yu]=c.current,Px(e.nodeType===8?e.parentNode:e),o0(function(){a5(t,c,r,n)}),c}function o5(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=ub(s);o.call(c)}}a5(t,s,e,a)}else s=tte(r,t,e,a,n);return ub(s)}DM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fv(t.pendingLanes);r!==0&&(ZE(t,r|1),Gs(t,xa()),!(Hr&6)&&(qm=xa()+500,Hd()))}break;case 13:o0(function(){var n=Xu(e,1);if(n!==null){var a=bs();ec(n,e,1,a)}}),T3(e,1)}};JE=function(e){if(e.tag===13){var t=Xu(e,134217728);if(t!==null){var r=bs();ec(t,e,134217728,r)}T3(e,134217728)}};LM=function(e){if(e.tag===13){var t=wd(e),r=Xu(e,t);if(r!==null){var n=bs();ec(r,e,t,n)}T3(e,t)}};IM=function(){return pn};RM=function(e,t){var r=pn;try{return pn=e,t()}finally{pn=r}};$N=function(e,t,r){switch(t){case"input":if(DN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Z_(n);if(!a)throw Error(pt(90));pM(n),DN(n,a)}}}break;case"textarea":gM(e,r);break;case"select":t=r.value,t!=null&&em(e,!!r.multiple,t,!1)}};SM=N3;jM=o0;var rte={usingClientEntryPoint:!1,Events:[B1,zp,Z_,bM,_M,N3]},pv={findFiberByHostInstance:Ah,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nte={bundleType:pv.bundleType,version:pv.version,rendererPackageName:pv.rendererPackageName,rendererConfig:pv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=AM(e),e===null?null:e.stateNode},findFiberByHostInstance:pv.findFiberByHostInstance||ete,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E2.isDisabled&&E2.supportsFiber)try{G_=E2.inject(nte),$c=E2}catch{}}Do.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rte;Do.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O3(t))throw Error(pt(200));return Qee(e,t,null,r)};Do.createRoot=function(e,t){if(!O3(e))throw Error(pt(299));var r=!1,n="",a=i9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=C3(e,1,!1,null,null,r,!1,n,a),e[Yu]=t.current,Px(e.nodeType===8?e.parentNode:e),new P3(t)};Do.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pt(188)):(e=Object.keys(e).join(","),Error(pt(268,e)));return e=AM(t),e=e===null?null:e.stateNode,e};Do.flushSync=function(e){return o0(e)};Do.hydrate=function(e,t,r){if(!s5(t))throw Error(pt(200));return o5(null,e,t,!0,r)};Do.hydrateRoot=function(e,t,r){if(!O3(e))throw Error(pt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=i9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=a9(t,null,e,1,r??null,a,!1,i,s),e[Yu]=t.current,Px(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new i5(t)};Do.render=function(e,t,r){if(!s5(t))throw Error(pt(200));return o5(null,e,t,!1,r)};Do.unmountComponentAtNode=function(e){if(!s5(e))throw Error(pt(40));return e._reactRootContainer?(o0(function(){o5(null,null,e,!1,function(){e._reactRootContainer=null,e[Yu]=null})}),!0):!1};Do.unstable_batchedUpdates=N3;Do.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!s5(r))throw Error(pt(200));if(e==null||e._reactInternals===void 0)throw Error(pt(38));return o5(e,t,r,!1,n)};Do.version="18.3.1-next-f1338f8080-20240426";function s9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s9)}catch(e){console.error(e)}}s9(),sM.exports=Do;var Gd=sM.exports;const ate=ru(Gd);var o9,QO=Gd;o9=QO.createRoot,QO.hydrateRoot;function ite(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,s=[],o="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(s.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),s.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:s,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var l9={exports:{}},c9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=S;function ste(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ote=typeof Object.is=="function"?Object.is:ste,lte=Wm.useState,cte=Wm.useEffect,ute=Wm.useLayoutEffect,fte=Wm.useDebugValue;function dte(e,t){var r=t(),n=lte({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return ute(function(){a.value=r,a.getSnapshot=t,o4(a)&&i({inst:a})},[e,r,t]),cte(function(){return o4(a)&&i({inst:a}),e(function(){o4(a)&&i({inst:a})})},[e]),fte(r),r}function o4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ote(e,r)}catch{return!0}}function hte(e,t){return t()}var pte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hte:dte;c9.useSyncExternalStore=Wm.useSyncExternalStore!==void 0?Wm.useSyncExternalStore:pte;l9.exports=c9;var u9=l9.exports;const mte=aM.useInsertionEffect,gte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f9=gte?S.useLayoutEffect:S.useEffect,vte=mte||f9,F3=e=>{const t=S.useRef([e,(...r)=>t[0](...r)]).current;return vte(()=>{t[0]=e}),t[1]},xte="popstate",D3="pushState",L3="replaceState",yte="hashchange",e8=[xte,D3,L3,yte],wte=e=>{for(const t of e8)addEventListener(t,e);return()=>{for(const t of e8)removeEventListener(t,e)}},d9=(e,t)=>u9.useSyncExternalStore(wte,e,t),bte=()=>location.search,_te=({ssrSearch:e=""}={})=>d9(bte,()=>e),t8=()=>location.pathname,Ste=({ssrPath:e}={})=>d9(t8,e?()=>e:t8),jte=(e,{replace:t=!1,state:r=null}={})=>history[t?L3:D3](r,"",e),Nte=(e={})=>[Ste(e),jte],r8=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[r8]>"u"){for(const e of[D3,L3]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,r8,{value:!0})}const kte=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",h9=(e="")=>e==="/"?"":e,Ate=(e,t)=>e[0]==="~"?e.slice(1):h9(t)+e,Ete=(e="",t)=>kte(n8(h9(e)),n8(t)),n8=e=>{try{return decodeURI(e)}catch{return e}},p9={hook:Nte,searchHook:_te,parser:ite,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},m9=S.createContext(p9),$1=()=>S.useContext(m9),g9={},v9=S.createContext(g9),Cte=()=>S.useContext(v9),l5=e=>{const[t,r]=e.hook(e);return[Ete(e.base,t),F3((n,a)=>r(Ate(n,e.base),a))]},I3=()=>l5($1()),x9=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),s=a.exec(r)||[],[o,...c]=s;return o!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((d,h)=>[d,c[h]])):s.groups;let f={...c};return u&&Object.assign(f,u),f})(),...n?[o]:[]]:[!1,null]},Tte=({children:e,...t})=>{var f,d;const r=$1(),n=t.hook?p9:r;let a=n;const[i,s]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=i),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let o=S.useRef({}),c=o.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(o.current=u={...u}),u[h]=p,p!==n[h]&&(a=u)}return S.createElement(m9.Provider,{value:a,children:e})},a8=({children:e,component:t},r)=>t?S.createElement(t,{params:r}):typeof e=="function"?e(r):e,Pte=e=>{let t=S.useRef(g9),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},vi=({path:e,nest:t,match:r,...n})=>{const a=$1(),[i]=l5(a),[s,o,c]=r??x9(a.parser,e,i,t),u=Pte({...Cte(),...o});if(!s)return null;const f=c?S.createElement(Tte,{base:c},a8(n,u)):a8(n,u);return S.createElement(v9.Provider,{value:u,children:f})},ji=S.forwardRef((e,t)=>{const r=$1(),[n,a]=l5(r),{to:i="",href:s=i,onClick:o,asChild:c,children:u,className:f,replace:d,state:h,...p}=e,g=F3(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),a(s,e)))}),m=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return c&&S.isValidElement(u)?S.cloneElement(u,{onClick:g,href:m}):S.createElement("a",{...p,onClick:g,href:m,className:f!=null&&f.call?f(n===s):f,children:u,ref:t})}),y9=e=>Array.isArray(e)?e.flatMap(t=>y9(t&&t.type===S.Fragment?t.props.children:t)):[e],Ote=({children:e,location:t})=>{const r=$1(),[n]=l5(r);for(const a of y9(e)){let i=0;if(S.isValidElement(a)&&(i=x9(r.parser,a.props.path,t||n,a.props.nest))[0])return S.cloneElement(a,{match:i})}return null},xi=e=>{const{to:t,href:r=t}=e,[,n]=I3(),a=F3(()=>n(t||r,e));return f9(()=>{a()},[]),null};var ug=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l0=typeof window>"u"||"Deno"in globalThis;function Jo(){}function Fte(e,t){return typeof e=="function"?e(t):e}function wk(e){return typeof e=="number"&&e>=0&&e!==1/0}function w9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sm(e,t){return typeof e=="function"?e(t):e}function zl(e,t){return typeof e=="function"?e(t):e}function i8(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==R3(s,t.options))return!1}else if(!Ux(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function s8(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(c0(t.options.mutationKey)!==c0(i))return!1}else if(!Ux(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function R3(e,t){return((t==null?void 0:t.queryKeyHashFn)||c0)(e)}function c0(e){return JSON.stringify(e,(t,r)=>bk(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ux(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ux(e[r],t[r])):!1}function b9(e,t){if(e===t)return e;const r=o8(e)&&o8(t);if(r||bk(e)&&bk(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),s=i.length,o=r?[]:{};let c=0;for(let u=0;u<s;u++){const f=r?u:i[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,c++):(o[f]=b9(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&c++)}return a===s&&c===a?e:o}return t}function fb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function o8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bk(e){if(!l8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!l8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function l8(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dte(e){return new Promise(t=>{setTimeout(t,e)})}function _k(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?b9(e,t):t}function Lte(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ite(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M3=Symbol();function _9(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===M3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rh,ed,jm,MR,Rte=(MR=class extends ug{constructor(){super();er(this,Rh);er(this,ed);er(this,jm);Mt(this,jm,t=>{if(!l0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,ed)||this.setEventListener(ye(this,jm))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,ed))==null||t.call(this),Mt(this,ed,void 0))}setEventListener(t){var r;Mt(this,jm,t),(r=ye(this,ed))==null||r.call(this),Mt(this,ed,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,Rh)!==t&&(Mt(this,Rh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ye(this,Rh)=="boolean"?ye(this,Rh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rh=new WeakMap,ed=new WeakMap,jm=new WeakMap,MR),B3=new Rte,Nm,td,km,BR,Mte=(BR=class extends ug{constructor(){super();er(this,Nm,!0);er(this,td);er(this,km);Mt(this,km,t=>{if(!l0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,td)||this.setEventListener(ye(this,km))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,td))==null||t.call(this),Mt(this,td,void 0))}setEventListener(t){var r;Mt(this,km,t),(r=ye(this,td))==null||r.call(this),Mt(this,td,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Nm)!==t&&(Mt(this,Nm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Nm)}},Nm=new WeakMap,td=new WeakMap,km=new WeakMap,BR),db=new Mte;function Sk(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Bte(e){return Math.min(1e3*2**e,3e4)}function S9(e){return(e??"online")==="online"?db.isOnline():!0}var j9=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function l4(e){return e instanceof j9}function N9(e){let t=!1,r=0,n=!1,a;const i=Sk(),s=m=>{var v;n||(h(new j9(m)),(v=e.abort)==null||v.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>B3.isFocused()&&(e.networkMode==="always"||db.isOnline())&&e.canRun(),f=()=>S9(e.networkMode)&&e.canRun(),d=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var v;a=x=>{(n||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(d).catch(x=>{var O;if(n)return;const y=e.retry??(l0?0:3),b=e.retryDelay??Bte,j=typeof b=="function"?b(r,x):b,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!k){h(x);return}r++,(O=e.onFail)==null||O.call(e,r,x),Dte(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):g()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),i)}}function Ute(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var $a=Ute(),Mh,UR,k9=(UR=class{constructor(){er(this,Mh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wk(this.gcTime)&&Mt(this,Mh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(l0?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Mh)&&(clearTimeout(ye(this,Mh)),Mt(this,Mh,void 0))}},Mh=new WeakMap,UR),Am,Em,Zo,Gi,O1,Bh,Ml,bu,$R,$te=($R=class extends k9{constructor(t){super();er(this,Ml);er(this,Am);er(this,Em);er(this,Zo);er(this,Gi);er(this,O1);er(this,Bh);Mt(this,Bh,!1),Mt(this,O1,t.defaultOptions),this.setOptions(t.options),this.observers=[],Mt(this,Zo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Mt(this,Am,zte(this.options)),this.state=t.state??ye(this,Am),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,Gi))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,O1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,Zo).remove(this)}setData(t,r){const n=_k(this.state.data,t,this.options);return wr(this,Ml,bu).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){wr(this,Ml,bu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ye(this,Gi))==null?void 0:n.promise;return(a=ye(this,Gi))==null||a.cancel(t),r?r.then(Jo).catch(Jo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,Am))}isActive(){return this.observers.some(t=>zl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!w9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,Gi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,Gi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,Zo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,Gi)&&(ye(this,Bh)?ye(this,Gi).cancel({revert:!0}):ye(this,Gi).cancelRetry()),this.scheduleGc()),ye(this,Zo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wr(this,Ml,bu).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,Gi))return ye(this,Gi).continueRetry(),ye(this,Gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Mt(this,Bh,!0),n.signal)})},i=()=>{const d=_9(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Mt(this,Bh,!1),this.options.persister?this.options.persister(d,h,this):d(h)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(s),(c=this.options.behavior)==null||c.onFetch(s,this),Mt(this,Em,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&wr(this,Ml,bu).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const o=d=>{var h,p,g,m;l4(d)&&d.silent||wr(this,Ml,bu).call(this,{type:"error",error:d}),l4(d)||((p=(h=ye(this,Zo).config).onError)==null||p.call(h,d,this),(m=(g=ye(this,Zo).config).onSettled)==null||m.call(g,this.state.data,d,this)),this.scheduleGc()};return Mt(this,Gi,N9({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,g,m;if(d===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){o(v);return}(p=(h=ye(this,Zo).config).onSuccess)==null||p.call(h,d,this),(m=(g=ye(this,Zo).config).onSettled)==null||m.call(g,d,this.state.error,this),this.scheduleGc()},onError:o,onFail:(d,h)=>{wr(this,Ml,bu).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{wr(this,Ml,bu).call(this,{type:"pause"})},onContinue:()=>{wr(this,Ml,bu).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ye(this,Gi).start()}},Am=new WeakMap,Em=new WeakMap,Zo=new WeakMap,Gi=new WeakMap,O1=new WeakMap,Bh=new WeakMap,Ml=new WeakSet,bu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...A9(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return l4(a)&&a.revert&&ye(this,Em)?{...ye(this,Em),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),$a.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,Zo).notify({query:this,type:"updated",action:t})})},$R);function A9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S9(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zte(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tc,zR,qte=(zR=class extends ug{constructor(t={}){super();er(this,Tc);this.config=t,Mt(this,Tc,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??R3(a,r);let s=this.get(i);return s||(s=new $te({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){ye(this,Tc).has(t.queryHash)||(ye(this,Tc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Tc).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Tc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$a.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Tc).get(t)}getAll(){return[...ye(this,Tc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>i8(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>i8(t,n)):r}notify(t){$a.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$a.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$a.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tc=new WeakMap,zR),Pc,fs,Uh,Oc,zf,qR,Wte=(qR=class extends k9{constructor(t){super();er(this,Oc);er(this,Pc);er(this,fs);er(this,Uh);this.mutationId=t.mutationId,Mt(this,fs,t.mutationCache),Mt(this,Pc,[]),this.state=t.state||E9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,Pc).includes(t)||(ye(this,Pc).push(t),this.clearGcTimeout(),ye(this,fs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Mt(this,Pc,ye(this,Pc).filter(r=>r!==t)),this.scheduleGc(),ye(this,fs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,Pc).length||(this.state.status==="pending"?this.scheduleGc():ye(this,fs).remove(this))}continue(){var t;return((t=ye(this,Uh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,s,o,c,u,f,d,h,p,g,m,v,x,y,b,j,k,O,N;Mt(this,Uh,N9({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,D)=>{wr(this,Oc,zf).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{wr(this,Oc,zf).call(this,{type:"pause"})},onContinue:()=>{wr(this,Oc,zf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,fs).canRun(this)}));const r=this.state.status==="pending",n=!ye(this,Uh).canStart();try{if(!r){wr(this,Oc,zf).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=ye(this,fs).config).onMutate)==null?void 0:i.call(a,t,this));const D=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,t));D!==this.state.context&&wr(this,Oc,zf).call(this,{type:"pending",context:D,variables:t,isPaused:n})}const E=await ye(this,Uh).start();return await((u=(c=ye(this,fs).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,E,t,this.state.context)),await((p=(h=ye(this,fs).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,E,null,t,this.state.context)),wr(this,Oc,zf).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(v=ye(this,fs).config).onError)==null?void 0:x.call(v,E,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,t,this.state.context)),await((k=(j=ye(this,fs).config).onSettled)==null?void 0:k.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(O=this.options).onSettled)==null?void 0:N.call(O,void 0,E,t,this.state.context)),E}finally{wr(this,Oc,zf).call(this,{type:"error",error:E})}}finally{ye(this,fs).runNext(this)}}},Pc=new WeakMap,fs=new WeakMap,Uh=new WeakMap,Oc=new WeakSet,zf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$a.batch(()=>{ye(this,Pc).forEach(n=>{n.onMutationUpdate(t)}),ye(this,fs).notify({mutation:this,type:"updated",action:t})})},qR);function E9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var co,F1,WR,Vte=(WR=class extends ug{constructor(t={}){super();er(this,co);er(this,F1);this.config=t,Mt(this,co,new Map),Mt(this,F1,Date.now())}build(t,r,n){const a=new Wte({mutationCache:this,mutationId:++f2(this,F1)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=C2(t),n=ye(this,co).get(r)??[];n.push(t),ye(this,co).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=C2(t);if(ye(this,co).has(r)){const a=(n=ye(this,co).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?ye(this,co).delete(r):ye(this,co).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ye(this,co).get(C2(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ye(this,co).get(C2(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){$a.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ye(this,co).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>s8(r,n))}findAll(t={}){return this.getAll().filter(r=>s8(t,r))}notify(t){$a.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $a.batch(()=>Promise.all(t.map(r=>r.continue().catch(Jo))))}},co=new WeakMap,F1=new WeakMap,WR);function C2(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function c8(e){return{onFetch:(t,r)=>{var f,d,h,p,g;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=_9(t.options,t.fetchOptions),y=async(b,j,k)=>{if(m)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};v(O);const N=await x(O),{maxPages:E}=t.options,D=k?Ite:Lte;return{pages:D(b.pages,N,E),pageParams:D(b.pageParams,j,E)}};if(a&&i.length){const b=a==="backward",j=b?Hte:u8,k={pages:i,pageParams:s},O=j(n,k);o=await y(k,O,b)}else{const b=e??i.length;do{const j=c===0?s[0]??n.initialPageParam:u8(n,o);if(c>0&&j==null)break;o=await y(o,j),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function u8(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Hte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ia,rd,nd,Cm,Tm,ad,Pm,Om,VR,Gte=(VR=class{constructor(e={}){er(this,ia);er(this,rd);er(this,nd);er(this,Cm);er(this,Tm);er(this,ad);er(this,Pm);er(this,Om);Mt(this,ia,e.queryCache||new qte),Mt(this,rd,e.mutationCache||new Vte),Mt(this,nd,e.defaultOptions||{}),Mt(this,Cm,new Map),Mt(this,Tm,new Map),Mt(this,ad,0)}mount(){f2(this,ad)._++,ye(this,ad)===1&&(Mt(this,Pm,B3.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,ia).onFocus())})),Mt(this,Om,db.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,ia).onOnline())})))}unmount(){var e,t;f2(this,ad)._--,ye(this,ad)===0&&((e=ye(this,Pm))==null||e.call(this),Mt(this,Pm,void 0),(t=ye(this,Om))==null||t.call(this),Mt(this,Om,void 0))}isFetching(e){return ye(this,ia).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,rd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,ia).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ye(this,ia).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(sm(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ye(this,ia).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ye(this,ia).get(n.queryHash),i=a==null?void 0:a.state.data,s=Fte(t,i);if(s!==void 0)return ye(this,ia).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return $a.batch(()=>ye(this,ia).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,ia).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ye(this,ia);$a.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,ia),n={type:"active",...e};return $a.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=$a.batch(()=>ye(this,ia).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Jo).catch(Jo)}invalidateQueries(e={},t={}){return $a.batch(()=>{if(ye(this,ia).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=$a.batch(()=>ye(this,ia).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Jo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Jo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,ia).build(this,t);return r.isStaleByTime(sm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jo).catch(Jo)}fetchInfiniteQuery(e){return e.behavior=c8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jo).catch(Jo)}ensureInfiniteQueryData(e){return e.behavior=c8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return db.isOnline()?ye(this,rd).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,ia)}getMutationCache(){return ye(this,rd)}getDefaultOptions(){return ye(this,nd)}setDefaultOptions(e){Mt(this,nd,e)}setQueryDefaults(e,t){ye(this,Cm).set(c0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Cm).values()];let r={};return t.forEach(n=>{Ux(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ye(this,Tm).set(c0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,Tm).values()];let r={};return t.forEach(n=>{Ux(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,nd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=R3(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===M3&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,nd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,ia).clear(),ye(this,rd).clear()}},ia=new WeakMap,rd=new WeakMap,nd=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,ad=new WeakMap,Pm=new WeakMap,Om=new WeakMap,VR),Rs,Ur,D1,ds,$h,Fm,id,Fc,L1,Dm,Lm,zh,qh,sd,Im,an,Lv,jk,Nk,kk,Ak,Ek,Ck,Tk,C9,HR,Kte=(HR=class extends ug{constructor(t,r){super();er(this,an);er(this,Rs);er(this,Ur);er(this,D1);er(this,ds);er(this,$h);er(this,Fm);er(this,id);er(this,Fc);er(this,L1);er(this,Dm);er(this,Lm);er(this,zh);er(this,qh);er(this,sd);er(this,Im,new Set);this.options=r,Mt(this,Rs,t),Mt(this,Fc,null),Mt(this,id,Sk()),this.options.experimental_prefetchInRender||ye(this,id).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Ur).addObserver(this),f8(ye(this,Ur),this.options)?wr(this,an,Lv).call(this):this.updateResult(),wr(this,an,Ak).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pk(ye(this,Ur),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pk(ye(this,Ur),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,wr(this,an,Ek).call(this),wr(this,an,Ck).call(this),ye(this,Ur).removeObserver(this)}setOptions(t,r){const n=this.options,a=ye(this,Ur);if(this.options=ye(this,Rs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zl(this.options.enabled,ye(this,Ur))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");wr(this,an,Tk).call(this),ye(this,Ur).setOptions(this.options),n._defaulted&&!fb(this.options,n)&&ye(this,Rs).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Ur),observer:this});const i=this.hasListeners();i&&d8(ye(this,Ur),a,this.options,n)&&wr(this,an,Lv).call(this),this.updateResult(r),i&&(ye(this,Ur)!==a||zl(this.options.enabled,ye(this,Ur))!==zl(n.enabled,ye(this,Ur))||sm(this.options.staleTime,ye(this,Ur))!==sm(n.staleTime,ye(this,Ur)))&&wr(this,an,jk).call(this);const s=wr(this,an,Nk).call(this);i&&(ye(this,Ur)!==a||zl(this.options.enabled,ye(this,Ur))!==zl(n.enabled,ye(this,Ur))||s!==ye(this,sd))&&wr(this,an,kk).call(this,s)}getOptimisticResult(t){const r=ye(this,Rs).getQueryCache().build(ye(this,Rs),t),n=this.createResult(r,t);return Xte(this,n)&&(Mt(this,ds,n),Mt(this,Fm,this.options),Mt(this,$h,ye(this,Ur).state)),n}getCurrentResult(){return ye(this,ds)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){ye(this,Im).add(t)}getCurrentQuery(){return ye(this,Ur)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ye(this,Rs).defaultQueryOptions(t),n=ye(this,Rs).getQueryCache().build(ye(this,Rs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return wr(this,an,Lv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,ds)))}createResult(t,r){var E;const n=ye(this,Ur),a=this.options,i=ye(this,ds),s=ye(this,$h),o=ye(this,Fm),u=t!==n?t.state:ye(this,D1),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const D=this.hasListeners(),M=!D&&f8(t,r),C=D&&d8(t,n,r,a);(M||C)&&(d={...d,...A9(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=d;if(r.select&&d.data!==void 0)if(i&&d.data===(s==null?void 0:s.data)&&r.select===ye(this,L1))p=ye(this,Dm);else try{Mt(this,L1,r.select),p=r.select(d.data),p=_k(i==null?void 0:i.data,p,r),Mt(this,Dm,p),Mt(this,Fc,null)}catch(D){Mt(this,Fc,D)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let D;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))D=i.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData((E=ye(this,Lm))==null?void 0:E.state.data,ye(this,Lm)):r.placeholderData,r.select&&D!==void 0)try{D=r.select(D),Mt(this,Fc,null)}catch(M){Mt(this,Fc,M)}D!==void 0&&(v="success",p=_k(i==null?void 0:i.data,D,r),h=!0)}ye(this,Fc)&&(g=ye(this,Fc),p=ye(this,Dm),m=Date.now(),v="error");const x=d.fetchStatus==="fetching",y=v==="pending",b=v==="error",j=y&&x,k=p!==void 0,N={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&k,isStale:U3(t,r),refetch:this.refetch,promise:ye(this,id)};if(this.options.experimental_prefetchInRender){const D=P=>{N.status==="error"?P.reject(N.error):N.data!==void 0&&P.resolve(N.data)},M=()=>{const P=Mt(this,id,N.promise=Sk());D(P)},C=ye(this,id);switch(C.status){case"pending":t.queryHash===n.queryHash&&D(C);break;case"fulfilled":(N.status==="error"||N.data!==C.value)&&M();break;case"rejected":(N.status!=="error"||N.error!==C.reason)&&M();break}}return N}updateResult(t){const r=ye(this,ds),n=this.createResult(ye(this,Ur),this.options);if(Mt(this,$h,ye(this,Ur).state),Mt(this,Fm,this.options),ye(this,$h).data!==void 0&&Mt(this,Lm,ye(this,Ur)),fb(n,r))return;Mt(this,ds,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!ye(this,Im).size)return!0;const c=new Set(o??ye(this,Im));return this.options.throwOnError&&c.add("error"),Object.keys(ye(this,ds)).some(u=>{const f=u;return ye(this,ds)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),wr(this,an,C9).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&wr(this,an,Ak).call(this)}},Rs=new WeakMap,Ur=new WeakMap,D1=new WeakMap,ds=new WeakMap,$h=new WeakMap,Fm=new WeakMap,id=new WeakMap,Fc=new WeakMap,L1=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,zh=new WeakMap,qh=new WeakMap,sd=new WeakMap,Im=new WeakMap,an=new WeakSet,Lv=function(t){wr(this,an,Tk).call(this);let r=ye(this,Ur).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Jo)),r},jk=function(){wr(this,an,Ek).call(this);const t=sm(this.options.staleTime,ye(this,Ur));if(l0||ye(this,ds).isStale||!wk(t))return;const n=w9(ye(this,ds).dataUpdatedAt,t)+1;Mt(this,zh,setTimeout(()=>{ye(this,ds).isStale||this.updateResult()},n))},Nk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Ur)):this.options.refetchInterval)??!1},kk=function(t){wr(this,an,Ck).call(this),Mt(this,sd,t),!(l0||zl(this.options.enabled,ye(this,Ur))===!1||!wk(ye(this,sd))||ye(this,sd)===0)&&Mt(this,qh,setInterval(()=>{(this.options.refetchIntervalInBackground||B3.isFocused())&&wr(this,an,Lv).call(this)},ye(this,sd)))},Ak=function(){wr(this,an,jk).call(this),wr(this,an,kk).call(this,wr(this,an,Nk).call(this))},Ek=function(){ye(this,zh)&&(clearTimeout(ye(this,zh)),Mt(this,zh,void 0))},Ck=function(){ye(this,qh)&&(clearInterval(ye(this,qh)),Mt(this,qh,void 0))},Tk=function(){const t=ye(this,Rs).getQueryCache().build(ye(this,Rs),this.options);if(t===ye(this,Ur))return;const r=ye(this,Ur);Mt(this,Ur,t),Mt(this,D1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},C9=function(t){$a.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ye(this,ds))}),ye(this,Rs).getQueryCache().notify({query:ye(this,Ur),type:"observerResultsUpdated"})})},HR);function Yte(e,t){return zl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function f8(e,t){return Yte(e,t)||e.state.data!==void 0&&Pk(e,t,t.refetchOnMount)}function Pk(e,t,r){if(zl(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&U3(e,t)}return!1}function d8(e,t,r,n){return(e!==t||zl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&U3(e,r)}function U3(e,t){return zl(t.enabled,e)!==!1&&e.isStaleByTime(sm(t.staleTime,e))}function Xte(e,t){return!fb(e.getCurrentResult(),t)}var od,ld,Ms,Cu,Gu,Aw,Ok,GR,Zte=(GR=class extends ug{constructor(r,n){super();er(this,Gu);er(this,od);er(this,ld);er(this,Ms);er(this,Cu);Mt(this,od,r),this.setOptions(n),this.bindMethods(),wr(this,Gu,Aw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ye(this,od).defaultMutationOptions(r),fb(this.options,n)||ye(this,od).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,Ms),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&c0(n.mutationKey)!==c0(this.options.mutationKey)?this.reset():((a=ye(this,Ms))==null?void 0:a.state.status)==="pending"&&ye(this,Ms).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ye(this,Ms))==null||r.removeObserver(this)}onMutationUpdate(r){wr(this,Gu,Aw).call(this),wr(this,Gu,Ok).call(this,r)}getCurrentResult(){return ye(this,ld)}reset(){var r;(r=ye(this,Ms))==null||r.removeObserver(this),Mt(this,Ms,void 0),wr(this,Gu,Aw).call(this),wr(this,Gu,Ok).call(this)}mutate(r,n){var a;return Mt(this,Cu,n),(a=ye(this,Ms))==null||a.removeObserver(this),Mt(this,Ms,ye(this,od).getMutationCache().build(ye(this,od),this.options)),ye(this,Ms).addObserver(this),ye(this,Ms).execute(r)}},od=new WeakMap,ld=new WeakMap,Ms=new WeakMap,Cu=new WeakMap,Gu=new WeakSet,Aw=function(){var n;const r=((n=ye(this,Ms))==null?void 0:n.state)??E9();Mt(this,ld,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ok=function(r){$a.batch(()=>{var n,a,i,s,o,c,u,f;if(ye(this,Cu)&&this.hasListeners()){const d=ye(this,ld).variables,h=ye(this,ld).context;(r==null?void 0:r.type)==="success"?((a=(n=ye(this,Cu)).onSuccess)==null||a.call(n,r.data,d,h),(s=(i=ye(this,Cu)).onSettled)==null||s.call(i,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(o=ye(this,Cu)).onError)==null||c.call(o,r.error,d,h),(f=(u=ye(this,Cu)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(ye(this,ld))})})},GR),T9=S.createContext(void 0),Cn=e=>{const t=S.useContext(T9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jte=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(T9.Provider,{value:e,children:t})),P9=S.createContext(!1),Qte=()=>S.useContext(P9);P9.Provider;function ere(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tre=S.createContext(ere()),rre=()=>S.useContext(tre);function O9(e,t){return typeof e=="function"?e(...t):!!e}function Fk(){}var nre=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},are=e=>{S.useEffect(()=>{e.clearReset()},[e])},ire=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&O9(r,[e.error,n]),sre=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ore=(e,t)=>e.isLoading&&e.isFetching&&!t,lre=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,h8=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function cre(e,t,r){var f,d,h,p,g;const n=Cn(),a=Qte(),i=rre(),s=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,s),s._optimisticResults=a?"isRestoring":"optimistic",sre(s),nre(s,i),are(i);const o=!n.getQueryCache().get(s.queryHash),[c]=S.useState(()=>new t(n,s)),u=c.getOptimisticResult(s);if(S.useSyncExternalStore(S.useCallback(m=>{const v=a?Fk:c.subscribe($a.batchCalls(m));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(s,{listeners:!1})},[s,c]),lre(s,u))throw h8(s,c,i);if(ire({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,s,u),s.experimental_prefetchInRender&&!l0&&ore(u,a)){const m=o?h8(s,c,i):(g=n.getQueryCache().get(s.queryHash))==null?void 0:g.promise;m==null||m.catch(Fk).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function Tr(e,t){return cre(e,Kte)}function Jr(e,t){const r=Cn(),[n]=S.useState(()=>new Zte(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const a=S.useSyncExternalStore(S.useCallback(s=>n.subscribe($a.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((s,o)=>{n.mutate(s,o).catch(Fk)},[n]);if(a.error&&O9(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function ure(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const fre=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await ure(r),await r.json())},dre=new Gte({defaultOptions:{queries:{queryFn:fre({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hre=1,pre=1e6;let c4=0;function mre(){return c4=(c4+1)%Number.MAX_SAFE_INTEGER,c4.toString()}const u4=new Map,p8=e=>{if(u4.has(e))return;const t=setTimeout(()=>{u4.delete(e),tx({type:"REMOVE_TOAST",toastId:e})},pre);u4.set(e,t)},gre=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?p8(r):e.toasts.forEach(n=>{p8(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ew=[];let Cw={toasts:[]};function tx(e){Cw=gre(Cw,e),Ew.forEach(t=>{t(Cw)})}function vre({...e}){const t=mre(),r=a=>tx({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>tx({type:"DISMISS_TOAST",toastId:t});return tx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function zr(){const[e,t]=S.useState(Cw);return S.useEffect(()=>(Ew.push(t),()=>{const r=Ew.indexOf(t);r>-1&&Ew.splice(r,1)}),[e]),{...e,toast:vre,dismiss:r=>tx({type:"DISMISS_TOAST",toastId:r})}}function At(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function m8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function c5(...e){return t=>{let r=!1;const n=e.map(a=>{const i=m8(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():m8(e[a],null)}}}}function $r(...e){return S.useCallback(c5(...e),e)}function xre(e,t){const r=S.createContext(t),n=i=>{const{children:s,...o}=i,c=S.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=S.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ks(e,t=[]){let r=[];function n(i,s){const o=S.createContext(s),c=r.length;r=[...r,s];const u=d=>{var x;const{scope:h,children:p,...g}=d,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||o,v=S.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function f(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=S.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(s=>S.createContext(s));return function(o){const c=(o==null?void 0:o[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[n,yre(a,...t)]}function yre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...o,...d}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function u0(e){const t=wre(e),r=S.forwardRef((n,a)=>{const{children:i,...s}=n,o=S.Children.toArray(i),c=o.find(bre);if(c){const u=c.props.children,f=o.map(d=>d===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...s,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,f):null})}return l.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var F9=u0("Slot");function wre(e){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const s=Sre(a),o=_re(i,a.props);return a.type!==S.Fragment&&(o.ref=n?c5(n,s):s),S.cloneElement(a,o)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D9=Symbol("radix.slottable");function L9(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=D9,t}function bre(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D9}function _re(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function u5(e){const t=e+"CollectionProvider",[r,n]=ks(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:x}=m,y=Ft.useRef(null),b=Ft.useRef(new Map).current;return l.jsx(a,{scope:v,itemMap:b,collectionRef:y,children:x})};s.displayName=t;const o=e+"CollectionSlot",c=u0(o),u=Ft.forwardRef((m,v)=>{const{scope:x,children:y}=m,b=i(o,x),j=$r(v,b.collectionRef);return l.jsx(c,{ref:j,children:y})});u.displayName=o;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=u0(f),p=Ft.forwardRef((m,v)=>{const{scope:x,children:y,...b}=m,j=Ft.useRef(null),k=$r(v,j),O=i(f,x);return Ft.useEffect(()=>(O.itemMap.set(j,{ref:j,...b}),()=>void O.itemMap.delete(j))),l.jsx(h,{[d]:"",ref:k,children:y})});p.displayName=f;function g(m){const v=i(e+"CollectionConsumer",m);return Ft.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((O,N)=>b.indexOf(O.ref.current)-b.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},g,n]}var jre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=jre.reduce((e,t)=>{const r=u0(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:s,...o}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $3(e,t){e&&Gd.flushSync(()=>e.dispatchEvent(t))}function Fi(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Nre(e,t=globalThis==null?void 0:globalThis.document){const r=Fi(e);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kre="DismissableLayer",Dk="dismissableLayer.update",Are="dismissableLayer.pointerDownOutside",Ere="dismissableLayer.focusOutside",g8,I9=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fg=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...c}=e,u=S.useContext(I9),[f,d]=S.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),g=$r(t,N=>d(N)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=f?m.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,k=Tre(N=>{const E=N.target,D=[...u.branches].some(M=>M.contains(E));!j||D||(a==null||a(N),s==null||s(N),N.defaultPrevented||o==null||o())},h),O=Pre(N=>{const E=N.target;[...u.branches].some(M=>M.contains(E))||(i==null||i(N),s==null||s(N),N.defaultPrevented||o==null||o())},h);return Nre(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},h),S.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g8=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),v8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g8)}},[f,h,r,u]),S.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),v8())},[f,u]),S.useEffect(()=>{const N=()=>p({});return document.addEventListener(Dk,N),()=>document.removeEventListener(Dk,N)},[]),l.jsx(Kt.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,O.onFocusCapture),onBlurCapture:At(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,k.onPointerDownCapture)})});fg.displayName=kre;var Cre="DismissableLayerBranch",R9=S.forwardRef((e,t)=>{const r=S.useContext(I9),n=S.useRef(null),a=$r(t,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(Kt.div,{...e,ref:a})});R9.displayName=Cre;function Tre(e,t=globalThis==null?void 0:globalThis.document){const r=Fi(e),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){M9(Are,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Pre(e,t=globalThis==null?void 0:globalThis.document){const r=Fi(e),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&M9(Ere,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v8(){const e=new CustomEvent(Dk);document.dispatchEvent(e)}function M9(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?$3(a,i):a.dispatchEvent(i)}var Ore=fg,Fre=R9,Ha=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Dre="Portal",z1=S.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,i]=S.useState(!1);Ha(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?ate.createPortal(l.jsx(Kt.div,{...n,ref:t}),s):null});z1.displayName=Dre;function Lre(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var vl=e=>{const{present:t,children:r}=e,n=Ire(t),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=$r(n.ref,Rre(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};vl.displayName="Presence";function Ire(e){const[t,r]=S.useState(),n=S.useRef({}),a=S.useRef(e),i=S.useRef("none"),s=e?"mounted":"unmounted",[o,c]=Lre(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=T2(n.current);i.current=o==="mounted"?u:"none"},[o]),Ha(()=>{const u=n.current,f=a.current;if(f!==e){const h=i.current,p=T2(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ha(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const m=T2(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=T2(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function T2(e){return(e==null?void 0:e.animationName)||"none"}function Rre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Yc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Mre({defaultProp:t,onChange:r}),i=e!==void 0,s=i?e:n,o=Fi(r),c=S.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&o(d)}else a(u)},[i,e,a,o]);return[s,c]}function Mre({defaultProp:e,onChange:t}){const r=S.useState(e),[n]=r,a=S.useRef(n),i=Fi(t);return S.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Bre="VisuallyHidden",q1=S.forwardRef((e,t)=>l.jsx(Kt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));q1.displayName=Bre;var Ure=q1,z3="ToastProvider",[q3,$re,zre]=u5("Toast"),[B9,cLe]=ks("Toast",[zre]),[qre,f5]=B9(z3),U9=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[o,c]=S.useState(null),[u,f]=S.useState(0),d=S.useRef(!1),h=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${z3}\`. Expected non-empty \`string\`.`),l.jsx(q3.Provider,{scope:t,children:l.jsx(qre,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:S.useCallback(()=>f(p=>p+1),[]),onToastRemove:S.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};U9.displayName=z3;var $9="ToastViewport",Wre=["F8"],Lk="toast.viewportPause",Ik="toast.viewportResume",z9=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Wre,label:a="Notifications ({hotkey})",...i}=e,s=f5($9,r),o=$re(r),c=S.useRef(null),u=S.useRef(null),f=S.useRef(null),d=S.useRef(null),h=$r(t,d,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;S.useEffect(()=>{const v=x=>{var b;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),S.useEffect(()=>{const v=c.current,x=d.current;if(g&&v&&x){const y=()=>{if(!s.isClosePausedRef.current){const O=new CustomEvent(Lk);x.dispatchEvent(O),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const O=new CustomEvent(Ik);x.dispatchEvent(O),s.isClosePausedRef.current=!1}},j=O=>{!v.contains(O.relatedTarget)&&b()},k=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",y),v.addEventListener("focusout",j),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",k),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",k),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,s.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:v})=>{const y=o().map(b=>{const j=b.ref.current,k=[j,...nne(j)];return v==="forwards"?k:k.reverse()});return(v==="forwards"?y.reverse():y).flat()},[o]);return S.useEffect(()=>{const v=d.current;if(v){const x=y=>{var k,O,N;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,D=y.shiftKey;if(y.target===v&&D){(k=u.current)==null||k.focus();return}const P=m({tabbingDirection:D?"backwards":"forwards"}),R=P.findIndex(U=>U===E);f4(P.slice(R+1))?y.preventDefault():D?(O=u.current)==null||O.focus():(N=f.current)==null||N.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[o,m]),l.jsxs(Fre,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(Rk,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});f4(v)}}),l.jsx(q3.Slot,{scope:r,children:l.jsx(Kt.ol,{tabIndex:-1,...i,ref:h})}),g&&l.jsx(Rk,{ref:f,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});f4(v)}})]})});z9.displayName=$9;var q9="ToastFocusProxy",Rk=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=f5(q9,r);return l.jsx(q1,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&n()}})});Rk.displayName=q9;var d5="Toast",Vre="toast.swipeStart",Hre="toast.swipeMove",Gre="toast.swipeCancel",Kre="toast.swipeEnd",W9=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[o=!0,c]=Yc({prop:n,defaultProp:a,onChange:i});return l.jsx(vl,{present:r||o,children:l.jsx(Zre,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:Fi(e.onPause),onResume:Fi(e.onResume),onSwipeStart:At(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:At(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:At(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:At(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});W9.displayName=d5;var[Yre,Xre]=B9(d5,{onClose(){}}),Zre=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=f5(d5,r),[v,x]=S.useState(null),y=$r(t,U=>x(U)),b=S.useRef(null),j=S.useRef(null),k=a||m.duration,O=S.useRef(0),N=S.useRef(k),E=S.useRef(0),{onToastAdd:D,onToastRemove:M}=m,C=Fi(()=>{var ee;(v==null?void 0:v.contains(document.activeElement))&&((ee=m.viewport)==null||ee.focus()),s()}),P=S.useCallback(U=>{!U||U===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(C,U))},[C]);S.useEffect(()=>{const U=m.viewport;if(U){const ee=()=>{P(N.current),u==null||u()},J=()=>{const ae=new Date().getTime()-O.current;N.current=N.current-ae,window.clearTimeout(E.current),c==null||c()};return U.addEventListener(Lk,J),U.addEventListener(Ik,ee),()=>{U.removeEventListener(Lk,J),U.removeEventListener(Ik,ee)}}},[m.viewport,k,c,u,P]),S.useEffect(()=>{i&&!m.isClosePausedRef.current&&P(k)},[i,k,m.isClosePausedRef,P]),S.useEffect(()=>(D(),()=>M()),[D,M]);const R=S.useMemo(()=>v?Z9(v):null,[v]);return m.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(Jre,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(Yre,{scope:r,onClose:C,children:Gd.createPortal(l.jsx(q3.ItemSlot,{scope:r,children:l.jsx(Ore,{asChild:!0,onEscapeKeyDown:At(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:At(e.onKeyDown,U=>{U.key==="Escape"&&(o==null||o(U.nativeEvent),U.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:At(e.onPointerDown,U=>{U.button===0&&(b.current={x:U.clientX,y:U.clientY})}),onPointerMove:At(e.onPointerMove,U=>{if(!b.current)return;const ee=U.clientX-b.current.x,J=U.clientY-b.current.y,ae=!!j.current,X=["left","right"].includes(m.swipeDirection),W=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,fe=X?W(0,ee):0,Se=X?0:W(0,J),T=U.pointerType==="touch"?10:2,L={x:fe,y:Se},B={originalEvent:U,delta:L};ae?(j.current=L,P2(Hre,d,B,{discrete:!1})):x8(L,m.swipeDirection,T)?(j.current=L,P2(Vre,f,B,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(ee)>T||Math.abs(J)>T)&&(b.current=null)}),onPointerUp:At(e.onPointerUp,U=>{const ee=j.current,J=U.target;if(J.hasPointerCapture(U.pointerId)&&J.releasePointerCapture(U.pointerId),j.current=null,b.current=null,ee){const ae=U.currentTarget,X={originalEvent:U,delta:ee};x8(ee,m.swipeDirection,m.swipeThreshold)?P2(Kre,p,X,{discrete:!0}):P2(Gre,h,X,{discrete:!0}),ae.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Jre=e=>{const{__scopeToast:t,children:r,...n}=e,a=f5(d5,t),[i,s]=S.useState(!1),[o,c]=S.useState(!1);return tne(()=>s(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(z1,{asChild:!0,children:l.jsx(q1,{...n,children:i&&l.jsxs(l.Fragment,{children:[a.label," ",r]})})})},Qre="ToastTitle",V9=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Kt.div,{...n,ref:t})});V9.displayName=Qre;var ene="ToastDescription",H9=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Kt.div,{...n,ref:t})});H9.displayName=ene;var G9="ToastAction",K9=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(X9,{altText:r,asChild:!0,children:l.jsx(W3,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${G9}\`. Expected non-empty \`string\`.`),null)});K9.displayName=G9;var Y9="ToastClose",W3=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Xre(Y9,r);return l.jsx(X9,{asChild:!0,children:l.jsx(Kt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,a.onClose)})})});W3.displayName=Y9;var X9=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return l.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Z9(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),rne(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...Z9(n))}}),t}function P2(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?$3(a,i):a.dispatchEvent(i)}var x8=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function tne(e=()=>{}){const t=Fi(e);Ha(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function rne(e){return e.nodeType===e.ELEMENT_NODE}function nne(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function f4(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ane=U9,J9=z9,Q9=W9,eB=V9,tB=H9,rB=K9,nB=W3;function aB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _n(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aB(e))&&(n&&(n+=" "),n+=t);return n}const y8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,w8=_n,dg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return w8(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const h=y8(f)||y8(d);return a[u][h]}),o=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...o}[m]):{...i,...o}[m]===v})?[...u,d,h]:u},[]);return w8(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iB=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>S.createElement("svg",{ref:c,...sne,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iB("lucide",a),...o},[...s.map(([u,f])=>S.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(e,t)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(one,{ref:i,iconNode:t,className:iB(`lucide-${ine(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=Qt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=Qt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Qt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=Qt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Qt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=Qt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Qt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Qt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=Qt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=Qt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Qt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Qt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=Qt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=Qt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Qt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Qt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Qt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=Qt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Qt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Qt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Qt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Qt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Qt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Qt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=Qt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Qt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Qt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Qt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=Qt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Qt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=Qt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=Qt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Qt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Qt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Qt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Qt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Qt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Qt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=Qt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Qt("University",[["circle",{cx:"12",cy:"10",r:"1",key:"1gnqs8"}],["path",{d:"M22 20V8h-4l-6-4-6 4H2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"1qj5sn"}],["path",{d:"M6 17v.01",key:"roodi6"}],["path",{d:"M6 13v.01",key:"67c122"}],["path",{d:"M18 17v.01",key:"12ktxm"}],["path",{d:"M18 13v.01",key:"tn1rt1"}],["path",{d:"M14 22v-5a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"11g7fi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Qt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=Qt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V3="-",Sne=e=>{const t=Nne(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(V3);return o[0]===""&&o.length!==1&&o.shift(),cB(o,t)||jne(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},cB=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?cB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(V3);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},S8=/^\[(.+)\]$/,jne=e=>{if(S8.test(e)){const t=S8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Nne=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ane(Object.entries(e.classGroups),r).forEach(([i,s])=>{qk(s,n,i,t)}),n},qk=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:j8(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(kne(a)){qk(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{qk(s,j8(t,i),r,n)})})},j8=(e,t)=>{let r=e;return t.split(V3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kne=e=>e.isThemeGetter,Ane=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[t+s,o])):i);return[r,a]}):e,Ene=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},uB="!",Cne=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=o=>{const c=[];let u=0,f=0,d;for(let v=0;v<o.length;v++){let x=o[v];if(u===0){if(x===a&&(n||o.slice(v,v+i)===t)){c.push(o.slice(f,v)),f=v+i;continue}if(x==="/"){d=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?o:o.substring(f),p=h.startsWith(uB),g=p?h.substring(1):h,m=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},Tne=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Pne=e=>({cache:Ene(e.cacheSize),parseClassName:Cne(e),...Sne(e)}),One=/\s+/,Fne=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(One);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=Tne(f).join(":"),x=d?v+uB:v,y=x+m;if(i.includes(y))continue;i.push(y);const b=a(m,g);for(let j=0;j<b.length;++j){const k=b[j];i.push(x+k)}o=u+(o.length>0?" "+o:o)}return o};function Dne(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fB(t))&&(n&&(n+=" "),n+=r);return n}const fB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Lne(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((f,d)=>d(f),e());return r=Pne(u),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const f=Fne(c,r);return a(c,f),f}return function(){return i(Dne.apply(null,arguments))}}const Pn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},dB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ine=/^\d+\/\d+$/,Rne=new Set(["px","full","screen"]),Mne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Une=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$ne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xu=e=>om(e)||Rne.has(e)||Ine.test(e),Df=e=>hg(e,"length",Xne),om=e=>!!e&&!Number.isNaN(Number(e)),d4=e=>hg(e,"number",om),mv=e=>!!e&&Number.isInteger(Number(e)),qne=e=>e.endsWith("%")&&om(e.slice(0,-1)),xr=e=>dB.test(e),Lf=e=>Mne.test(e),Wne=new Set(["length","size","percentage"]),Vne=e=>hg(e,Wne,hB),Hne=e=>hg(e,"position",hB),Gne=new Set(["image","url"]),Kne=e=>hg(e,Gne,Jne),Yne=e=>hg(e,"",Zne),gv=()=>!0,hg=(e,t,r)=>{const n=dB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Xne=e=>Bne.test(e)&&!Une.test(e),hB=()=>!1,Zne=e=>$ne.test(e),Jne=e=>zne.test(e),Qne=()=>{const e=Pn("colors"),t=Pn("spacing"),r=Pn("blur"),n=Pn("brightness"),a=Pn("borderColor"),i=Pn("borderRadius"),s=Pn("borderSpacing"),o=Pn("borderWidth"),c=Pn("contrast"),u=Pn("grayscale"),f=Pn("hueRotate"),d=Pn("invert"),h=Pn("gap"),p=Pn("gradientColorStops"),g=Pn("gradientColorStopPositions"),m=Pn("inset"),v=Pn("margin"),x=Pn("opacity"),y=Pn("padding"),b=Pn("saturate"),j=Pn("scale"),k=Pn("sepia"),O=Pn("skew"),N=Pn("space"),E=Pn("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",xr,t],P=()=>[xr,t],R=()=>["",xu,Df],U=()=>["auto",om,xr],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",xr],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>[om,xr];return{cacheSize:500,separator:":",theme:{colors:[gv],spacing:[xu,Df],blur:["none","",Lf,xr],brightness:Se(),borderColor:[e],borderRadius:["none","","full",Lf,xr],borderSpacing:P(),borderWidth:R(),contrast:Se(),grayscale:W(),hueRotate:Se(),invert:W(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[qne,Df],inset:C(),margin:C(),opacity:Se(),padding:P(),saturate:Se(),scale:Se(),sepia:W(),skew:Se(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",xr]}],container:["container"],columns:[{columns:[Lf]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),xr]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mv,xr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xr]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",mv,xr]}],"grid-cols":[{"grid-cols":[gv]}],"col-start-end":[{col:["auto",{span:["full",mv,xr]},xr]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[gv]}],"row-start-end":[{row:["auto",{span:[mv,xr]},xr]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xr,t]}],"min-w":[{"min-w":[xr,t,"min","max","fit"]}],"max-w":[{"max-w":[xr,t,"none","full","min","max","fit","prose",{screen:[Lf]},Lf]}],h:[{h:[xr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lf,Df]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",d4]}],"font-family":[{font:[gv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xr]}],"line-clamp":[{"line-clamp":["none",om,d4]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xu,xr]}],"list-image":[{"list-image":["none",xr]}],"list-style-type":[{list:["none","disc","decimal",xr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xu,Df]}],"underline-offset":[{"underline-offset":["auto",xu,xr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),Hne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:J()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[xu,xr]}],"outline-w":[{outline:[xu,Df]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[xu,Df]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lf,Yne]}],"shadow-color":[{shadow:[gv]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lf,xr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xr]}],duration:[{duration:Se()}],ease:[{ease:["linear","in","out","in-out",xr]}],delay:[{delay:Se()}],animate:[{animate:["none","spin","ping","pulse","bounce",xr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[mv,xr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xu,Df,d4]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eae=Lne(Qne);function Et(...e){return eae(_n(e))}const tae=ane,pB=S.forwardRef(({className:e,...t},r)=>l.jsx(J9,{ref:r,className:Et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pB.displayName=J9.displayName;const rae=dg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mB=S.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(Q9,{ref:n,className:Et(rae({variant:t}),e),...r}));mB.displayName=Q9.displayName;const nae=S.forwardRef(({className:e,...t},r)=>l.jsx(rB,{ref:r,className:Et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nae.displayName=rB.displayName;const gB=S.forwardRef(({className:e,...t},r)=>l.jsx(nB,{ref:r,className:Et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Ju,{className:"h-4 w-4"})}));gB.displayName=nB.displayName;const vB=S.forwardRef(({className:e,...t},r)=>l.jsx(eB,{ref:r,className:Et("text-sm font-semibold",e),...t}));vB.displayName=eB.displayName;const xB=S.forwardRef(({className:e,...t},r)=>l.jsx(tB,{ref:r,className:Et("text-sm opacity-90",e),...t}));xB.displayName=tB.displayName;function aae(){const{toasts:e}=zr();return l.jsxs(tae,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return l.jsxs(mB,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(vB,{children:r}),n&&l.jsx(xB,{children:n})]}),a,l.jsx(gB,{})]},t)}),l.jsx(pB,{})]})}var iae=aM[" useId ".trim().toString()]||(()=>{}),sae=0;function tc(e){const[t,r]=S.useState(iae());return Ha(()=>{r(n=>n??String(sae++))},[e]),t?`radix-${t}`:""}const oae=["top","right","bottom","left"],Ed=Math.min,mo=Math.max,vb=Math.round,F2=Math.floor,Vc=e=>({x:e,y:e}),lae={left:"right",right:"left",bottom:"top",top:"bottom"},cae={start:"end",end:"start"};function Wk(e,t,r){return mo(e,Ed(t,r))}function Qu(e,t){return typeof e=="function"?e(t):e}function ef(e){return e.split("-")[0]}function pg(e){return e.split("-")[1]}function H3(e){return e==="x"?"y":"x"}function G3(e){return e==="y"?"height":"width"}function Cd(e){return["top","bottom"].includes(ef(e))?"y":"x"}function K3(e){return H3(Cd(e))}function uae(e,t,r){r===void 0&&(r=!1);const n=pg(e),a=K3(e),i=G3(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=xb(s)),[s,xb(s)]}function fae(e){const t=xb(e);return[Vk(e),t,Vk(t)]}function Vk(e){return e.replace(/start|end/g,t=>cae[t])}function dae(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function hae(e,t,r,n){const a=pg(e);let i=dae(ef(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Vk)))),i}function xb(e){return e.replace(/left|right|bottom|top/g,t=>lae[t])}function pae(e){return{top:0,right:0,bottom:0,left:0,...e}}function yB(e){return typeof e!="number"?pae(e):{top:e,right:e,bottom:e,left:e}}function yb(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function N8(e,t,r){let{reference:n,floating:a}=e;const i=Cd(t),s=K3(t),o=G3(s),c=ef(t),u=i==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-a.width,y:d};break;default:p={x:n.x,y:n.y}}switch(pg(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const mae=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=N8(u,n,c),h=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:x}=o[m],{x:y,y:b,data:j,reset:k}=await x({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});f=y??f,d=b??d,p={...p,[v]:{...p[v],...j}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:f,y:d}=N8(u,h,c)),m=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:p}};async function zx(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Qu(t,e),g=yB(p),v=o[h?d==="floating"?"reference":"floating":d],x=yb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),y=d==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=yb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:c}):y);return{top:(x.top-k.top+g.top)/j.y,bottom:(k.bottom-x.bottom+g.bottom)/j.y,left:(x.left-k.left+g.left)/j.x,right:(k.right-x.right+g.right)/j.x}}const gae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:f=0}=Qu(e,t)||{};if(u==null)return{};const d=yB(f),h={x:r,y:n},p=K3(a),g=G3(p),m=await s.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[p]-h[p]-i.floating[g],k=h[p]-i.reference[p],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=O?O[b]:0;(!N||!await(s.isElement==null?void 0:s.isElement(O)))&&(N=o.floating[b]||i.floating[g]);const E=j/2-k/2,D=N/2-m[g]/2-1,M=Ed(d[x],D),C=Ed(d[y],D),P=M,R=N-m[g]-C,U=N/2-m[g]/2+E,ee=Wk(P,U,R),J=!c.arrow&&pg(a)!=null&&U!==ee&&i.reference[g]/2-(U<P?M:C)-m[g]/2<0,ae=J?U<P?U-P:U-R:0;return{[p]:h[p]+ae,data:{[p]:ee,centerOffset:U-ee-ae,...J&&{alignmentOffset:ae}},reset:J}}}),vae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Qu(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=ef(a),y=Cd(o),b=ef(o)===o,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=h||(b||!m?[xb(o)]:fae(o)),O=g!=="none";!h&&O&&k.push(...hae(o,m,g,j));const N=[o,...k],E=await zx(t,v),D=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&D.push(E[x]),d){const U=uae(a,s,j);D.push(E[U[0]],E[U[1]])}if(M=[...M,{placement:a,overflows:D}],!D.every(U=>U<=0)){var C,P;const U=(((C=i.flip)==null?void 0:C.index)||0)+1,ee=N[U];if(ee)return{data:{index:U,overflows:M},reset:{placement:ee}};let J=(P=M.filter(ae=>ae.overflows[0]<=0).sort((ae,X)=>ae.overflows[1]-X.overflows[1])[0])==null?void 0:P.placement;if(!J)switch(p){case"bestFit":{var R;const ae=(R=M.filter(X=>{if(O){const W=Cd(X.placement);return W===y||W==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(W=>W>0).reduce((W,fe)=>W+fe,0)]).sort((X,W)=>X[1]-W[1])[0])==null?void 0:R[0];ae&&(J=ae);break}case"initialPlacement":J=o;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function k8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function A8(e){return oae.some(t=>e[t]>=0)}const xae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Qu(e,t);switch(n){case"referenceHidden":{const i=await zx(t,{...a,elementContext:"reference"}),s=k8(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:A8(s)}}}case"escaped":{const i=await zx(t,{...a,altBoundary:!0}),s=k8(i,r.floating);return{data:{escapedOffsets:s,escaped:A8(s)}}}default:return{}}}}};async function yae(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=ef(r),o=pg(r),c=Cd(r)==="y",u=["left","top"].includes(s)?-1:1,f=i&&c?-1:1,d=Qu(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const wae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,c=await yae(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},bae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x,y}=v;return{x,y}}},...c}=Qu(e,t),u={x:r,y:n},f=await zx(t,c),d=Cd(ef(a)),h=H3(d);let p=u[h],g=u[d];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+f[v],b=p-f[x];p=Wk(y,p,b)}if(s){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=g+f[v],b=g-f[x];g=Wk(y,g,b)}const m=o.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[d]:s}}}}}},_ae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Qu(e,t),f={x:r,y:n},d=Cd(a),h=H3(d);let p=f[h],g=f[d];const m=Qu(o,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+v.mainAxis,k=i.reference[h]+i.reference[b]-v.mainAxis;p<j?p=j:p>k&&(p=k)}if(u){var x,y;const b=h==="y"?"width":"height",j=["top","left"].includes(ef(a)),k=i.reference[d]-i.floating[b]+(j&&((x=s.offset)==null?void 0:x[d])||0)+(j?0:v.crossAxis),O=i.reference[d]+i.reference[b]+(j?0:((y=s.offset)==null?void 0:y[d])||0)-(j?v.crossAxis:0);g<k?g=k:g>O&&(g=O)}return{[h]:p,[d]:g}}}},Sae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:c=()=>{},...u}=Qu(e,t),f=await zx(t,u),d=ef(a),h=pg(a),p=Cd(a)==="y",{width:g,height:m}=i.floating;let v,x;d==="top"||d==="bottom"?(v=d,x=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(x=d,v=h==="end"?"top":"bottom");const y=m-f.top-f.bottom,b=g-f.left-f.right,j=Ed(m-f[v],y),k=Ed(g-f[x],b),O=!t.middlewareData.shift;let N=j,E=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),O&&!h){const M=mo(f.left,0),C=mo(f.right,0),P=mo(f.top,0),R=mo(f.bottom,0);p?E=g-2*(M!==0||C!==0?M+C:mo(f.left,f.right)):N=m-2*(P!==0||R!==0?P+R:mo(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:N});const D=await s.getDimensions(o.floating);return g!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function h5(){return typeof window<"u"}function mg(e){return wB(e)?(e.nodeName||"").toLowerCase():"#document"}function ko(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nu(e){var t;return(t=(wB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wB(e){return h5()?e instanceof Node||e instanceof ko(e).Node:!1}function oc(e){return h5()?e instanceof Element||e instanceof ko(e).Element:!1}function Zc(e){return h5()?e instanceof HTMLElement||e instanceof ko(e).HTMLElement:!1}function E8(e){return!h5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ko(e).ShadowRoot}function W1(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=lc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function jae(e){return["table","td","th"].includes(mg(e))}function p5(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Y3(e){const t=X3(),r=oc(e)?lc(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Nae(e){let t=Td(e);for(;Zc(t)&&!Vm(t);){if(Y3(t))return t;if(p5(t))return null;t=Td(t)}return null}function X3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vm(e){return["html","body","#document"].includes(mg(e))}function lc(e){return ko(e).getComputedStyle(e)}function m5(e){return oc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Td(e){if(mg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||E8(e)&&e.host||nu(e);return E8(t)?t.host:t}function bB(e){const t=Td(e);return Vm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zc(t)&&W1(t)?t:bB(t)}function qx(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=bB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=ko(a);if(i){const o=Hk(s);return t.concat(s,s.visualViewport||[],W1(a)?a:[],o&&r?qx(o):[])}return t.concat(a,qx(a,[],r))}function Hk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _B(e){const t=lc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zc(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=vb(r)!==i||vb(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function Z3(e){return oc(e)?e:e.contextElement}function lm(e){const t=Z3(e);if(!Zc(t))return Vc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=_B(t);let s=(i?vb(r.width):r.width)/n,o=(i?vb(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const kae=Vc(0);function SB(e){const t=ko(e);return!X3()||!t.visualViewport?kae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ko(e)?!1:t}function d0(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Z3(e);let s=Vc(1);t&&(n?oc(n)&&(s=lm(n)):s=lm(e));const o=Aae(i,r,n)?SB(i):Vc(0);let c=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,f=a.width/s.x,d=a.height/s.y;if(i){const h=ko(i),p=n&&oc(n)?ko(n):n;let g=h,m=Hk(g);for(;m&&n&&p!==g;){const v=lm(m),x=m.getBoundingClientRect(),y=lc(m),b=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,j=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,f*=v.x,d*=v.y,c+=b,u+=j,g=ko(m),m=Hk(g)}}return yb({width:f,height:d,x:c,y:u})}function J3(e,t){const r=m5(e).scrollLeft;return t?t.left+r:d0(nu(e)).left+r}function jB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:J3(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Eae(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=nu(n),o=t?p5(t.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Vc(1);const f=Vc(0),d=Zc(n);if((d||!d&&!i)&&((mg(n)!=="body"||W1(s))&&(c=m5(n)),Zc(n))){const p=d0(n);u=lm(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const h=s&&!d&&!i?jB(s,c,!0):Vc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function Cae(e){return Array.from(e.getClientRects())}function Tae(e){const t=nu(e),r=m5(e),n=e.ownerDocument.body,a=mo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=mo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+J3(e);const o=-r.scrollTop;return lc(n).direction==="rtl"&&(s+=mo(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function Pae(e,t){const r=ko(e),n=nu(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const u=X3();(!u||u&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function Oae(e,t){const r=d0(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zc(e)?lm(e):Vc(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:o,x:c,y:u}}function C8(e,t,r){let n;if(t==="viewport")n=Pae(e,r);else if(t==="document")n=Tae(nu(e));else if(oc(t))n=Oae(t,r);else{const a=SB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return yb(n)}function NB(e,t){const r=Td(e);return r===t||!oc(r)||Vm(r)?!1:lc(r).position==="fixed"||NB(r,t)}function Fae(e,t){const r=t.get(e);if(r)return r;let n=qx(e,[],!1).filter(o=>oc(o)&&mg(o)!=="body"),a=null;const i=lc(e).position==="fixed";let s=i?Td(e):e;for(;oc(s)&&!Vm(s);){const o=lc(s),c=Y3(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||W1(s)&&!c&&NB(e,s))?n=n.filter(f=>f!==s):a=o,s=Td(s)}return t.set(e,n),n}function Dae(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?p5(t)?[]:Fae(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,f)=>{const d=C8(t,f,a);return u.top=mo(d.top,u.top),u.right=Ed(d.right,u.right),u.bottom=Ed(d.bottom,u.bottom),u.left=mo(d.left,u.left),u},C8(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lae(e){const{width:t,height:r}=_B(e);return{width:t,height:r}}function Iae(e,t,r){const n=Zc(t),a=nu(t),i=r==="fixed",s=d0(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=Vc(0);if(n||!n&&!i)if((mg(t)!=="body"||W1(a))&&(o=m5(t)),n){const h=d0(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=J3(a));const u=a&&!n&&!i?jB(a,o):Vc(0),f=s.left+o.scrollLeft-c.x-u.x,d=s.top+o.scrollTop-c.y-u.y;return{x:f,y:d,width:s.width,height:s.height}}function h4(e){return lc(e).position==="static"}function T8(e,t){if(!Zc(e)||lc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nu(e)===r&&(r=r.ownerDocument.body),r}function kB(e,t){const r=ko(e);if(p5(e))return r;if(!Zc(e)){let a=Td(e);for(;a&&!Vm(a);){if(oc(a)&&!h4(a))return a;a=Td(a)}return r}let n=T8(e,t);for(;n&&jae(n)&&h4(n);)n=T8(n,t);return n&&Vm(n)&&h4(n)&&!Y3(n)?r:n||Nae(e)||r}const Rae=async function(e){const t=this.getOffsetParent||kB,r=this.getDimensions,n=await r(e.floating);return{reference:Iae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mae(e){return lc(e).direction==="rtl"}const Bae={convertOffsetParentRelativeRectToViewportRelativeRect:Eae,getDocumentElement:nu,getClippingRect:Dae,getOffsetParent:kB,getElementRects:Rae,getClientRects:Cae,getDimensions:Lae,getScale:lm,isElement:oc,isRTL:Mae};function AB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uae(e,t){let r=null,n;const a=nu(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(o||t(),!h||!p)return;const g=F2(d),m=F2(a.clientWidth-(f+h)),v=F2(a.clientHeight-(d+p)),x=F2(f),b={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:mo(0,Ed(1,c))||1};let j=!0;function k(O){const N=O[0].intersectionRatio;if(N!==c){if(!j)return s();N?s(!1,N):n=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!AB(u,e.getBoundingClientRect())&&s(),j=!1}try{r=new IntersectionObserver(k,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,b)}r.observe(e)}return s(!0),i}function $ae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Z3(e),f=a||i?[...u?qx(u):[],...qx(t)]:[];f.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const d=u&&o?Uae(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?d0(e):null;c&&v();function v(){const x=d0(e);m&&!AB(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;f.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const zae=wae,qae=bae,Wae=vae,Vae=Sae,Hae=xae,P8=gae,Gae=_ae,Kae=(e,t,r)=>{const n=new Map,a={platform:Bae,...r},i={...a.platform,_c:n};return mae(e,t,{...a,platform:i})};var Pw=typeof document<"u"?S.useLayoutEffect:S.useEffect;function wb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wb(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!wb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function EB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function O8(e,t){const r=EB(e);return Math.round(t*r)/r}function p4(e){const t=S.useRef(e);return Pw(()=>{t.current=e}),t}function Yae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[f,d]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(n);wb(h,n)||p(n);const[g,m]=S.useState(null),[v,x]=S.useState(null),y=S.useCallback(X=>{X!==O.current&&(O.current=X,m(X))},[]),b=S.useCallback(X=>{X!==N.current&&(N.current=X,x(X))},[]),j=i||g,k=s||v,O=S.useRef(null),N=S.useRef(null),E=S.useRef(f),D=c!=null,M=p4(c),C=p4(a),P=p4(u),R=S.useCallback(()=>{if(!O.current||!N.current)return;const X={placement:t,strategy:r,middleware:h};C.current&&(X.platform=C.current),Kae(O.current,N.current,X).then(W=>{const fe={...W,isPositioned:P.current!==!1};U.current&&!wb(E.current,fe)&&(E.current=fe,Gd.flushSync(()=>{d(fe)}))})},[h,t,r,C,P]);Pw(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(X=>({...X,isPositioned:!1})))},[u]);const U=S.useRef(!1);Pw(()=>(U.current=!0,()=>{U.current=!1}),[]),Pw(()=>{if(j&&(O.current=j),k&&(N.current=k),j&&k){if(M.current)return M.current(j,k,R);R()}},[j,k,R,M,D]);const ee=S.useMemo(()=>({reference:O,floating:N,setReference:y,setFloating:b}),[y,b]),J=S.useMemo(()=>({reference:j,floating:k}),[j,k]),ae=S.useMemo(()=>{const X={position:r,left:0,top:0};if(!J.floating)return X;const W=O8(J.floating,f.x),fe=O8(J.floating,f.y);return o?{...X,transform:"translate("+W+"px, "+fe+"px)",...EB(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:fe}},[r,o,J.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:R,refs:ee,elements:J,floatingStyles:ae}),[f,R,ee,J,ae])}const Xae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?P8({element:n.current,padding:a}).fn(r):{}:n?P8({element:n,padding:a}).fn(r):{}}}},Zae=(e,t)=>({...zae(e),options:[e,t]}),Jae=(e,t)=>({...qae(e),options:[e,t]}),Qae=(e,t)=>({...Gae(e),options:[e,t]}),eie=(e,t)=>({...Wae(e),options:[e,t]}),tie=(e,t)=>({...Vae(e),options:[e,t]}),rie=(e,t)=>({...Hae(e),options:[e,t]}),nie=(e,t)=>({...Xae(e),options:[e,t]});var aie="Arrow",CB=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return l.jsx(Kt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});CB.displayName=aie;var iie=CB;function Q3(e){const[t,r]=S.useState(void 0);return Ha(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var eC="Popper",[TB,gg]=ks(eC),[sie,PB]=TB(eC),OB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=S.useState(null);return l.jsx(sie,{scope:t,anchor:n,onAnchorChange:a,children:r})};OB.displayName=eC;var FB="PopperAnchor",DB=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=PB(FB,r),s=S.useRef(null),o=$r(t,s);return S.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(Kt.div,{...a,ref:o})});DB.displayName=FB;var tC="PopperContent",[oie,lie]=TB(tC),LB=S.forwardRef((e,t)=>{var ie,pe,Q,ge,_e,q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=PB(tC,r),[x,y]=S.useState(null),b=$r(t,Be=>y(Be)),[j,k]=S.useState(null),O=Q3(j),N=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,D=n+(i!=="center"?"-"+i:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},C=Array.isArray(u)?u:[u],P=C.length>0,R={padding:M,boundary:C.filter(uie),altBoundary:P},{refs:U,floatingStyles:ee,placement:J,isPositioned:ae,middlewareData:X}=Yae({strategy:"fixed",placement:D,whileElementsMounted:(...Be)=>$ae(...Be,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Zae({mainAxis:a+E,alignmentAxis:s}),c&&Jae({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Qae():void 0,...R}),c&&eie({...R}),tie({...R,apply:({elements:Be,rects:We,availableWidth:Ae,availableHeight:se})=>{const{width:Ie,height:yt}=We.reference,Je=Be.floating.style;Je.setProperty("--radix-popper-available-width",`${Ae}px`),Je.setProperty("--radix-popper-available-height",`${se}px`),Je.setProperty("--radix-popper-anchor-width",`${Ie}px`),Je.setProperty("--radix-popper-anchor-height",`${yt}px`)}}),j&&nie({element:j,padding:o}),fie({arrowWidth:N,arrowHeight:E}),h&&rie({strategy:"referenceHidden",...R})]}),[W,fe]=MB(J),Se=Fi(g);Ha(()=>{ae&&(Se==null||Se())},[ae,Se]);const T=(ie=X.arrow)==null?void 0:ie.x,L=(pe=X.arrow)==null?void 0:pe.y,B=((Q=X.arrow)==null?void 0:Q.centerOffset)!==0,[z,te]=S.useState();return Ha(()=>{x&&te(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ae?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ge=X.transformOrigin)==null?void 0:ge.x,(_e=X.transformOrigin)==null?void 0:_e.y].join(" "),...((q=X.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(oie,{scope:r,placedSide:W,onArrowChange:k,arrowX:T,arrowY:L,shouldHideArrow:B,children:l.jsx(Kt.div,{"data-side":W,"data-align":fe,...m,ref:b,style:{...m.style,animation:ae?void 0:"none"}})})})});LB.displayName=tC;var IB="PopperArrow",cie={top:"bottom",right:"left",bottom:"top",left:"right"},RB=S.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=lie(IB,n),s=cie[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(iie,{...a,ref:r,style:{...a.style,display:"block"}})})});RB.displayName=IB;function uie(e){return e!==null}var fie=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:r,rects:n,middlewareData:a}=t,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,f]=MB(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=a.arrow)==null?void 0:x.x)??0)+o/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?d:`${h}px`,m=`${-c}px`):u==="top"?(g=s?d:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?d:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?d:`${p}px`),{data:{x:g,y:m}}}});function MB(e){const[t,r="center"]=e.split("-");return[t,r]}var rC=OB,nC=DB,aC=LB,iC=RB,[g5,uLe]=ks("Tooltip",[gg]),v5=gg(),BB="TooltipProvider",die=700,Gk="tooltip.open",[hie,sC]=g5(BB),UB=e=>{const{__scopeTooltip:t,delayDuration:r=die,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=S.useRef(!0),o=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(hie,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:i})};UB.displayName=BB;var x5="Tooltip",[pie,y5]=g5(x5),$B=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:o}=e,c=sC(x5,e.__scopeTooltip),u=v5(t),[f,d]=S.useState(null),h=tc(),p=S.useRef(0),g=s??c.disableHoverableContent,m=o??c.delayDuration,v=S.useRef(!1),[x=!1,y]=Yc({prop:n,defaultProp:a,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(Gk))):c.onClose(),i==null||i(N)}}),b=S.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),j=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),k=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),O=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},m)},[m,y]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(rC,{...u,children:l.jsx(pie,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?O():j()},[c.isOpenDelayedRef,O,j]),onTriggerLeave:S.useCallback(()=>{g?k():(window.clearTimeout(p.current),p.current=0)},[k,g]),onOpen:j,onClose:k,disableHoverableContent:g,children:r})})};$B.displayName=x5;var Kk="TooltipTrigger",zB=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=y5(Kk,r),i=sC(Kk,r),s=v5(r),o=S.useRef(null),c=$r(t,o,a.onTriggerChange),u=S.useRef(!1),f=S.useRef(!1),d=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),l.jsx(nC,{asChild:!0,...s,children:l.jsx(Kt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:At(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:At(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:At(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:At(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:At(e.onBlur,a.onClose),onClick:At(e.onClick,a.onClose)})})});zB.displayName=Kk;var mie="TooltipPortal",[fLe,gie]=g5(mie,{forceMount:void 0}),Hm="TooltipContent",qB=S.forwardRef((e,t)=>{const r=gie(Hm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=y5(Hm,e.__scopeTooltip);return l.jsx(vl,{present:n||s.open,children:s.disableHoverableContent?l.jsx(WB,{side:a,...i,ref:t}):l.jsx(vie,{side:a,...i,ref:t})})}),vie=S.forwardRef((e,t)=>{const r=y5(Hm,e.__scopeTooltip),n=sC(Hm,e.__scopeTooltip),a=S.useRef(null),i=$r(t,a),[s,o]=S.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=S.useCallback(()=>{o(null),d(!1)},[d]),p=S.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=_ie(x,v.getBoundingClientRect()),b=Sie(x,y),j=jie(m.getBoundingClientRect()),k=kie([...b,...j]);o(k),d(!0)},[d]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(c&&f){const g=v=>p(v,f),m=v=>p(v,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",m)}}},[c,f,p,h]),S.useEffect(()=>{if(s){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),b=!Nie(x,s);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,s,u,h]),l.jsx(WB,{...e,ref:i})}),[xie,yie]=g5(x5,{isInside:!1}),wie=L9("TooltipContent"),WB=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=e,c=y5(Hm,r),u=v5(r),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(Gk,f),()=>document.removeEventListener(Gk,f)),[f]),S.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:l.jsxs(aC,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(wie,{children:n}),l.jsx(xie,{scope:r,isInside:!0,children:l.jsx(Ure,{id:c.contentId,role:"tooltip",children:a||n})})]})})});qB.displayName=Hm;var VB="TooltipArrow",bie=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=v5(r);return yie(VB,r).isInside?null:l.jsx(iC,{...a,...n,ref:t})});bie.displayName=VB;function _ie(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Sie(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jie(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Nie(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i].x,c=t[i].y,u=t[s].x,f=t[s].y;c>n!=f>n&&r<(u-o)*(n-c)/(f-c)+o&&(a=!a)}return a}function kie(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Aie(t)}function Aie(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Eie=UB,Cie=$B,Tie=zB,HB=qB;const Pie=Eie,Fr=Cie,Dr=Tie,Nr=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(HB,{ref:n,sideOffset:t,className:Et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Nr.displayName=HB.displayName;const Oie="modulepreload",Fie=function(e){return"/"+e},F8={},Pd=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Fie(c),c in F8)return;F8[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Oie,u||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Die=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pd(async()=>{const{default:n}=await Promise.resolve().then(()=>vg);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class oC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Lie extends oC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D8 extends oC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L8 extends oC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yk;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yk||(Yk={}));var Iie=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Rie{constructor(t,{headers:r={},customFetch:n,region:a=Yk.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Die(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Iie(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(o["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(o["Content-Type"]="application/json",f=JSON.stringify(s)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:f}).catch(m=>{throw new Lie(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new D8(d);if(!d.ok)throw new L8(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(a){return{data:null,error:a,response:a instanceof L8||a instanceof D8?a.context:void 0}}})}}var zs={},lC={},w5={},V1={},b5={},_5={},Mie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gm=Mie();const Bie=Gm.fetch,GB=Gm.fetch.bind(Gm),KB=Gm.Headers,Uie=Gm.Request,$ie=Gm.Response,vg=Object.freeze(Object.defineProperty({__proto__:null,Headers:KB,Request:Uie,Response:$ie,default:GB,fetch:Bie},Symbol.toStringTag,{value:"Module"})),zie=OJ(vg);var S5={};Object.defineProperty(S5,"__esModule",{value:!0});let qie=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};S5.default=qie;var YB=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_5,"__esModule",{value:!0});const Wie=YB(zie),Vie=YB(S5);let Hie=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Wie.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Vie.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};_5.default=Hie;var Gie=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b5,"__esModule",{value:!0});const Kie=Gie(_5);let Yie=class extends Kie.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};b5.default=Yie;var Xie=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V1,"__esModule",{value:!0});const Zie=Xie(b5);let Jie=class extends Zie.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};V1.default=Jie;var Qie=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(w5,"__esModule",{value:!0});const vv=Qie(V1);let ese=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new vv.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new vv.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new vv.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new vv.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vv.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};w5.default=ese;var j5={},N5={};Object.defineProperty(N5,"__esModule",{value:!0});N5.version=void 0;N5.version="0.0.0-automated";Object.defineProperty(j5,"__esModule",{value:!0});j5.DEFAULT_HEADERS=void 0;const tse=N5;j5.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tse.version}`};var XB=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lC,"__esModule",{value:!0});const rse=XB(w5),nse=XB(V1),ase=j5;let ise=class ZB{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},ase.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new rse.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ZB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{o.searchParams.append(f,d)})):(s="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new nse.default({method:s,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lC.default=ise;var xg=ul&&ul.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zs,"__esModule",{value:!0});zs.PostgrestError=zs.PostgrestBuilder=zs.PostgrestTransformBuilder=zs.PostgrestFilterBuilder=zs.PostgrestQueryBuilder=zs.PostgrestClient=void 0;const JB=xg(lC);zs.PostgrestClient=JB.default;const QB=xg(w5);zs.PostgrestQueryBuilder=QB.default;const eU=xg(V1);zs.PostgrestFilterBuilder=eU.default;const tU=xg(b5);zs.PostgrestTransformBuilder=tU.default;const rU=xg(_5);zs.PostgrestBuilder=rU.default;const nU=xg(S5);zs.PostgrestError=nU.default;var sse=zs.default={PostgrestClient:JB.default,PostgrestQueryBuilder:QB.default,PostgrestFilterBuilder:eU.default,PostgrestTransformBuilder:tU.default,PostgrestBuilder:rU.default,PostgrestError:nU.default};const{PostgrestClient:ose,PostgrestQueryBuilder:vLe,PostgrestFilterBuilder:xLe,PostgrestTransformBuilder:yLe,PostgrestBuilder:wLe,PostgrestError:bLe}=sse;function lse(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const cse=lse(),use="2.11.15",fse=`realtime-js/${use}`,dse="1.0.0",aU=1e4,hse=1e3;var ax;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ax||(ax={}));var Hi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hi||(Hi={}));var Ul;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ul||(Ul={}));var Xk;(function(e){e.websocket="websocket"})(Xk||(Xk={}));var jh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jh||(jh={}));class pse{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class iU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kn||(kn={}));const I8=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=mse(s,e,t,a),i),{})},mse=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?sU(i,s):Zk(s)},sU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yse(t,r)}switch(e){case kn.bool:return gse(t);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return vse(t);case kn.json:case kn.jsonb:return xse(t);case kn.timestamp:return wse(t);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return Zk(t);default:return Zk(t)}},Zk=e=>e,gse=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vse=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xse=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yse=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>sU(t,o))}return e},wse=e=>typeof e=="string"?e.replace(" ","T"):e,oU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class m4{constructor(t,r,n={},a=aU){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R8;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R8||(R8={}));class ix{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ix.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=ix.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ix.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,f)=>{s[u]||(c[u]=f)}),this.map(s,(u,f)=>{const d=i[u];if(d){const h=f.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0),m=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=f}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const f=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),f.length>0){const d=t[o].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,f,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M8;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M8||(M8={}));var B8;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(B8||(B8={}));var Nu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nu||(Nu={}));class cC{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Hi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new m4(this,Ul.join,this.params,this.timeout),this.rejoinTimer=new iU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ul.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ix(this),this.broadcastEndpointURL=oU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Hi.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(f=>t==null?void 0:t(Nu.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Nu.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Nu.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const v=h[m],{filter:{event:x,schema:y,table:b,filter:j}}=v,k=f&&f[m];if(k&&k.event===x&&k.schema===y&&k.table===b&&k.filter===j)g.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=Hi.errored,t==null||t(Nu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Nu.SUBSCRIBED);return}}).receive("error",f=>{this.state=Hi.errored,t==null||t(Nu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ul.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new m4(this,Ul.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new m4(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:f}=Ul;if(n&&[o,c,u,f].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const j=p.id,k=(g=p.filter)===null||g===void 0?void 0:g.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:x,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Hi.closed}_isJoined(){return this.state===Hi.joined}_isJoining(){return this.state===Hi.joining}_isLeaving(){return this.state===Hi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cC.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ul.close,{},t)}_onError(t){this._on(Ul.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=I8(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=I8(t.columns,t.old_record)),r}}const U8=()=>{},bse=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _se{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=U8,this.ref=0,this.logger=U8,this.conn=null,this.sendBuffer=[],this.serializer=new pse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Pd(async()=>{const{default:c}=await Promise.resolve().then(()=>vg);return{default:c}},void 0).then(({default:c})=>c(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${Xk.websocket}`,this.httpEndpoint=oU(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new iU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=cse),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dse}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ax.connecting:return jh.Connecting;case ax.open:return jh.Open;case ax.closing:return jh.Closing;default:return jh.Closed}}isConnected(){return this.connectionState()===jh.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new cC(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:fse};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ul.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(hse,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ul.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([bse],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class uC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ja(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Sse extends uC{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jk extends uC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jse=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const lU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pd(async()=>{const{default:n}=await Promise.resolve().then(()=>vg);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Nse=()=>jse(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pd(()=>Promise.resolve().then(()=>vg),void 0)).Response:Response}),Qk=e=>{if(Array.isArray(e))return e.map(r=>Qk(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Qk(n)}),t},kse=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var T0=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const g4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ase=(e,t,r)=>T0(void 0,void 0,void 0,function*(){const n=yield Nse();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new Sse(g4(a),i,s))}).catch(a=>{t(new Jk(g4(a),a))}):t(new Jk(g4(e),e))}),Ese=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(kse(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function H1(e,t,r,n,a,i){return T0(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Ese(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Ase(c,o,n))})})}function bb(e,t,r,n){return T0(this,void 0,void 0,function*(){return H1(e,"GET",t,r,n)})}function ku(e,t,r,n,a){return T0(this,void 0,void 0,function*(){return H1(e,"POST",t,n,a,r)})}function eA(e,t,r,n,a){return T0(this,void 0,void 0,function*(){return H1(e,"PUT",t,n,a,r)})}function Cse(e,t,r,n){return T0(this,void 0,void 0,function*(){return H1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cU(e,t,r,n,a){return T0(this,void 0,void 0,function*(){return H1(e,"DELETE",t,n,a,r)})}var Is=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Tse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pse{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=lU(a)}uploadOrUpdate(t,r,n,a){return Is(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$8),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield(t=="PUT"?eA:ku)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Ja(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Is(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$8.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield eA(this.fetch,o.toString(),c,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(Ja(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Is(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ku(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new uC("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(Ja(n))return{data:null,error:n};throw n}})}update(t,r,n){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Is(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ja(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Is(this,void 0,void 0,function*(){try{return{data:{path:(yield ku(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ja(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Is(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ku(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Ja(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Is(this,void 0,void 0,function*(){try{const a=yield ku(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Ja(a))return{data:null,error:a};throw a}})}download(t,r){return Is(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield bb(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ja(o))return{data:null,error:o};throw o}})}info(t){return Is(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield bb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qk(n),error:null}}catch(n){if(Ja(n))return{data:null,error:n};throw n}})}exists(t){return Is(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Cse(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ja(n)&&n instanceof Jk){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Is(this,void 0,void 0,function*(){try{return{data:yield cU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ja(r))return{data:null,error:r};throw r}})}list(t,r,n){return Is(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Tse),r),{prefix:t||""});return{data:yield ku(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ja(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ose="2.10.4",Fse={"X-Client-Info":`storage-js/${Ose}`};var mp=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Dse{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Fse),r),this.fetch=lU(n)}listBuckets(){return mp(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ja(t))return{data:null,error:t};throw t}})}getBucket(t){return mp(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ja(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return mp(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ja(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return mp(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ja(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mp(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ja(r))return{data:null,error:r};throw r}})}deleteBucket(t){return mp(this,void 0,void 0,function*(){try{return{data:yield cU(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ja(r))return{data:null,error:r};throw r}})}}class Lse extends Dse{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Pse(this.url,this.headers,t,this.fetch)}}const Ise="2.53.0";let Iv="";typeof Deno<"u"?Iv="deno":typeof document<"u"?Iv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Iv="react-native":Iv="node";const Rse={"X-Client-Info":`supabase-js-${Iv}/${Ise}`},Mse={headers:Rse},Bse={schema:"public"},Use={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$se={};var zse=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const qse=e=>{let t;return e?t=e:typeof fetch>"u"?t=GB:t=fetch,(...r)=>t(...r)},Wse=()=>typeof Headers>"u"?KB:Headers,Vse=(e,t,r)=>{const n=qse(r),a=Wse();return(i,s)=>zse(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var Hse=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function Gse(e){return e.endsWith("/")?e:e+"/"}function Kse(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hse(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const uU="2.71.1",Pp=30*1e3,tA=3,v4=tA*Pp,Yse="http://localhost:9999",Xse="supabase.auth.token",Zse={"X-Client-Info":`gotrue-js/${uU}`},rA="X-Supabase-Api-Version",fU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qse=10*60*1e3;class fC extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function mr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eoe extends fC{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function toe(e){return mr(e)&&e.name==="AuthApiError"}class dU extends fC{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Kd extends fC{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class qf extends Kd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function roe(e){return mr(e)&&e.name==="AuthSessionMissingError"}class D2 extends Kd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class L2 extends Kd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class I2 extends Kd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function noe(e){return mr(e)&&e.name==="AuthImplicitGrantRedirectError"}class z8 extends Kd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nA extends Kd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function x4(e){return mr(e)&&e.name==="AuthRetryableFetchError"}class q8 extends Kd{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class aA extends Kd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),W8=` 	
\r=`.split(""),aoe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<W8.length;t+=1)e[W8[t].charCodeAt(0)]=-2;for(let t=0;t<_b.length;t+=1)e[_b[t].charCodeAt(0)]=t;return e})();function V8(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_b[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_b[n]),t.queuedBits-=6}}function hU(e,t,r){const n=aoe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function H8(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{ooe(s,n,r)};for(let s=0;s<e.length;s+=1)hU(e.charCodeAt(s),a,i);return t.join("")}function ioe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function soe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ioe(n,t)}}function ooe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function loe(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)hU(e.charCodeAt(a),r,n);return new Uint8Array(t)}function coe(e){const t=[];return soe(e,r=>t.push(r)),new Uint8Array(t)}function uoe(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>V8(a,r,n)),V8(null,r,n),t.join("")}function foe(e){return Math.round(Date.now()/1e3)+e}function doe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dl=()=>typeof window<"u"&&typeof document<"u",mh={tested:!1,writable:!1},pU=()=>{if(!Dl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mh.tested)return mh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mh.tested=!0,mh.writable=!0}catch{mh.tested=!0,mh.writable=!1}return mh.writable};function hoe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const mU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pd(async()=>{const{default:n}=await Promise.resolve().then(()=>vg);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},poe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Op=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},If=async(e,t)=>{await e.removeItem(t)};class k5{constructor(){this.promise=new k5.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}k5.promiseConstructor=Promise;function y4(e){const t=e.split(".");if(t.length!==3)throw new aA("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jse.test(t[n]))throw new aA("JWT not in base64url format");return{header:JSON.parse(H8(t[0])),payload:JSON.parse(H8(t[1])),signature:loe(t[2]),raw:{header:t[0],payload:t[1]}}}async function moe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function goe(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function voe(e){return("0"+e.toString(16)).substr(-2)}function xoe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,voe).join("")}async function yoe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function woe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yoe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gp(e,t,r=!1){const n=xoe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Op(e,`${t}-code-verifier`,a);const i=await woe(n);return[i,n===i?"plain":"s256"]}const boe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _oe(e){const t=e.headers.get(rA);if(!t||!t.match(boe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Soe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function joe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Noe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vp(e){if(!Noe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function w4(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G8(e){return JSON.parse(JSON.stringify(e))}var koe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const yh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Aoe=[502,503,504];async function K8(e){var t;if(!poe(e))throw new nA(yh(e),0);if(Aoe.includes(e.status))throw new nA(yh(e),e.status);let r;try{r=await e.json()}catch(i){throw new dU(yh(i),i)}let n;const a=_oe(e);if(a&&a.getTime()>=fU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new q8(yh(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qf}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new q8(yh(r),e.status,r.weak_password.reasons);throw new eoe(yh(r),e.status||500,n)}const Eoe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Lr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[rA]||(i[rA]=fU["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Coe(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Coe(e,t,r,n,a,i){const s=Eoe(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new nA(yh(c),0)}if(o.ok||await K8(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await K8(c)}}function _u(e){var t;let r=null;Foe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=foe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Y8(e){const t=_u(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xf(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Toe(e){return{data:e,error:null}}function Poe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=koe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Ooe(e){return e}function Foe(e){return e.access_token&&e.refresh_token&&e.expires_in}const b4=["global","local","others"];var Doe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Loe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=b4[0]){if(b4.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${b4.join(", ")}`);try{return await Lr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xf})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Doe(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Poe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(mr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Lr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xf})}catch(r){if(mr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Ooe});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(mr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vp(t);try{return await Lr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xf})}catch(r){if(mr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vp(t);try{return await Lr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xf})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vp(t);try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xf})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vp(t.userId);try{const{data:r,error:n}=await Lr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(mr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vp(t.userId),vp(t.id);try{return{data:await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}}}function X8(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ioe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xp={debug:!!(globalThis&&pU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Roe extends gU{}async function Moe(e,t,r){xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Roe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ioe();const Boe={url:Yse,storageKey:Xse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zse,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z8(e,t,r){return await r()}const yp={};class Wx{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wx.nextInstanceID,Wx.nextInstanceID+=1,this.instanceID>0&&Dl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Boe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Loe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mU(a.fetch),this.lock=a.lock||Z8,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Dl()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Moe:this.lock=Z8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=X8(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=X8(this.memoryStorage)),Dl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=yp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yp[this.storageKey]=Object.assign(Object.assign({},yp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yp[this.storageKey]=Object.assign(Object.assign({},yp[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hoe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Dl()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),noe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return mr(r)?{error:r}:{error:new dU("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:_u}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(mr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await gp(this.storage,this.storageKey)),i=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:_u})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_u})}else throw new L2("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(mr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Y8})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Y8})}else throw new L2("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new D2}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(mr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,s,o,c,u,f,d,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:y,options:b}=t;let j;if(Dl())if(typeof x=="object")j=x;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))j=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const O=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let N;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")N=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)N=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const O=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=O}}try{const{data:v,error:x}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uoe(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_u});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new D2}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(mr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await gh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_u});if(await If(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new D2}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(mr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_u}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new D2}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(mr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await gp(this.storage,this.storageKey));const{error:d}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:f}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new L2("You must provide either an email or phone number.")}catch(o){if(mr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:_u});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(mr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await gp(this.storage,this.storageKey)),await Lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Toe})}catch(i){if(mr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new qf;const{error:a}=await Lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(mr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new L2("You must provide either an email or phone number and a type")}catch(r){if(mr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<v4:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await gh(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=w4()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xf}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qf}:await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xf})})}catch(r){if(mr(r))return roe(r)&&(await this._removeSession(),await If(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new qf;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await gp(this.storage,this.storageKey));const{data:u,error:f}=await Lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Xf});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(mr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qf;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=y4(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(mr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qf;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(mr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Dl())throw new I2("No browser detected.");if(t.error||t.error_description||t.error_code)throw new I2(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new z8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new I2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new z8("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new I2("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=Pp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(mr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(toe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await If(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=doe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await gp(this.storage,this.storageKey,!0));try{return await Lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(mr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(mr(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lr(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Dl()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(mr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Lr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(mr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await goe(async a=>(a>0&&await moe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_u})),(a,i)=>{const s=200*Math.pow(2,a);return i&&x4(i)&&Date.now()+s-n<Pp})}catch(n){if(this._debug(r,"error",n),mr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await gh(this.storage,this.storageKey);if(a&&this.userStorage){let s=await gh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Op(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:w4()}else if(a&&!a.user&&!a.user){const s=await gh(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await If(this.storage,this.storageKey+"-user"),await Op(this.storage,this.storageKey,a)):a.user=w4()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<v4;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${v4}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),x4(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new qf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new k5;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new qf;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),mr(i)){const s={session:null,error:i};return x4(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Op(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=G8(a);await Op(this.storage,this.storageKey,i)}else{const a=G8(r);await Op(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await If(this.storage,this.storageKey),await If(this.storage,this.storageKey+"-code-verifier"),await If(this.storage,this.storageKey+"-user"),this.userStorage&&await If(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pp);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Pp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Pp}ms, refresh threshold is ${tA} ticks`),a<=tA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await gp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Lr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(mr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Lr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(mr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Lr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(mr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Lr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(mr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=y4(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Qse>a)return n;const{data:i,error:s}=await Lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=y4(n);r!=null&&r.allowExpired||Soe(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const f=joe(a.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,s,coe(`${o}.${c}`)))throw new aA("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}}}Wx.nextInstanceID=0;const Uoe=Wx;class $oe extends Uoe{constructor(t){super(t)}}var zoe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class qoe{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Gse(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Bse,realtime:$se,auth:Object.assign(Object.assign({},Use),{storageKey:u}),global:Mse},d=Kse(n??{},f);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Vse(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ose(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Lse(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Rie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return zoe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $oe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new _se(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Woe=(e,t,r)=>new qoe(e,t,r);function Voe(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Voe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hoe="https://tiuamdzezlyxrludmefx.supabase.co",Goe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpdWFtZHplemx5eHJsdWRtZWZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzNDU0MjgsImV4cCI6MjA2OTkyMTQyOH0.X0PN_QbUWSSb6ngb6MsNvw4QvRJ8Q2SJEV8NG2WBASU",De=Woe(Hoe,Goe,{auth:{persistSession:!0,autoRefreshToken:!0}});async function fc(e){try{const{data:{user:t}}=await De.auth.getUser();if(!t){console.warn("No authenticated user found for audit logging");return}const r=navigator.userAgent,n={user_id:t.id,action:e.action,resource:e.resource,resource_id:e.resourceId||null,old_values:e.oldValues||null,new_values:e.newValues||null,ip_address:null,user_agent:r},{error:a}=await De.from("audit_logs").insert(n);a&&console.error("Failed to log audit action:",a)}catch(t){console.error("Error in audit logging:",t)}}async function J8(e,t){await fc({action:`user_${e}`,resource:"users",newValues:{email:t}})}async function vU(e,t,r,n){await fc({action:`staff_${e}`,resource:"staff",resourceId:t,oldValues:r,newValues:n})}async function iA(e,t,r,n){await fc({action:`department_${e}`,resource:"departments",resourceId:t,oldValues:r,newValues:n})}async function sA(e,t,r,n){await fc({action:`payroll_${e}`,resource:"payroll_runs",resourceId:t,oldValues:r,newValues:n})}async function Tu(e,t,r,n,a){await fc({action:`system_${e}`,resource:t,resourceId:r,oldValues:n,newValues:a})}const xU=S.createContext(void 0);function Koe({children:e}){const[t,r]=S.useState(null),[n,a]=S.useState(!0),{toast:i}=zr(),s=Cn();S.useEffect(()=>{De.auth.getSession().then(({data:{session:g}})=>{g!=null&&g.user?o(g.user):a(!1)});const{data:{subscription:p}}=De.auth.onAuthStateChange(async(g,m)=>{m!=null&&m.user?o(m.user):(r(null),a(!1))});return()=>p.unsubscribe()},[]),S.useEffect(()=>{if(!(t!=null&&t.id))return;const p=De.channel("user-notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},g=>{if(console.log("Real-time notification update:",g),s.invalidateQueries({queryKey:["notification-count",t.id]}),s.invalidateQueries({queryKey:["recent-notifications"]}),s.invalidateQueries({queryKey:["notifications",t.id]}),g.eventType==="INSERT"&&g.new){const m=g.new;i({title:m.title,description:m.message,variant:m.type==="error"?"destructive":"default"})}}).subscribe();return()=>{De.removeChannel(p)}},[t==null?void 0:t.id,s,i]);const o=async p=>{try{const{data:g,error:m}=await De.from("users").select("role").eq("id",p.id).single();if(m)throw m;let v=null;if(g.role==="staff"){const{data:x,error:y}=await De.from("staff").select(`
            *,
            departments!staff_department_id_fkey (
              id,
              name,
              code
            )
          `).eq("user_id",p.id).single();y||(v=x)}r({...p,role:g.role,staff_profile:v})}catch(g){console.error("Error fetching user profile:",g),i({title:"Error",description:"Failed to load user profile",variant:"destructive"})}finally{a(!1)}},h={user:t,loading:n,signIn:async(p,g)=>{try{a(!0);const{error:m}=await De.auth.signInWithPassword({email:p,password:g});if(m)throw m;await J8("login",p),i({title:"Success",description:"Signed in successfully"})}catch(m){throw i({title:"Error",description:m.message||"Failed to sign in",variant:"destructive"}),m}},signOut:async()=>{try{const p=t==null?void 0:t.email,{error:g}=await De.auth.signOut();if(g)throw g;p&&await J8("logout",p),i({title:"Success",description:"Signed out successfully"})}catch(p){i({title:"Error",description:p.message||"Failed to sign out",variant:"destructive"})}},sendPasswordResetEmail:async p=>{try{const{error:g}=await De.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;i({title:"Success",description:"Password reset instructions sent to your email"})}catch(g){throw i({title:"Error",description:g.message||"Failed to send password reset email",variant:"destructive"}),g}},hasRole:p=>t!=null&&t.role?(Array.isArray(p)?p:[p]).includes(t.role):!1};return l.jsx(xU.Provider,{value:h,children:e})}function as(){const e=S.useContext(xU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const jt=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jt.displayName="Card";const kr=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("flex flex-col space-y-1.5 p-6",e),...t}));kr.displayName="CardHeader";const Ar=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ar.displayName="CardTitle";const Sb=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("text-sm text-muted-foreground",e),...t}));Sb.displayName="CardDescription";const Nt=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("p-6 pt-0",e),...t}));Nt.displayName="CardContent";const Yoe=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("flex items-center p-6 pt-0",e),...t}));Yoe.displayName="CardFooter";function jc({children:e,roles:t,requireAuth:r=!0}){const{user:n,loading:a,hasRole:i}=as();return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsx(jt,{className:"w-full max-w-md mx-4",children:l.jsx(Nt,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[l.jsx(Mn,{className:"h-8 w-8 animate-spin text-nigeria-green mb-4"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})})})}):r&&!n?null:t&&!i(t)?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsx(jt,{className:"w-full max-w-md mx-4",children:l.jsx(Nt,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"fas fa-ban text-red-600 text-2xl"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-sm text-gray-600",children:"You don't have permission to access this page."})]})})})}):l.jsx(l.Fragment,{children:e})}const dC=dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?F9:"button";return l.jsx(s,{className:Et(dC({variant:t,size:r,className:e})),ref:i,...a})});Ue.displayName="Button";var _4="focusScope.autoFocusOnMount",S4="focusScope.autoFocusOnUnmount",Q8={bubbles:!1,cancelable:!0},Xoe="FocusScope",A5=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[o,c]=S.useState(null),u=Fi(a),f=Fi(i),d=S.useRef(null),h=$r(t,m=>c(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(b){if(p.paused||!o)return;const j=b.target;o.contains(j)?d.current=j:Wf(d.current,{select:!0})},v=function(b){if(p.paused||!o)return;const j=b.relatedTarget;j!==null&&(o.contains(j)||Wf(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&Wf(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,p.paused]),S.useEffect(()=>{if(o){tF.add(p);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(_4,Q8);o.addEventListener(_4,u),o.dispatchEvent(x),x.defaultPrevented||(Zoe(rle(yU(o)),{select:!0}),document.activeElement===m&&Wf(o))}return()=>{o.removeEventListener(_4,u),setTimeout(()=>{const x=new CustomEvent(S4,Q8);o.addEventListener(S4,f),o.dispatchEvent(x),x.defaultPrevented||Wf(m??document.body,{select:!0}),o.removeEventListener(S4,f),tF.remove(p)},0)}}},[o,u,f,p]);const g=S.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[b,j]=Joe(y);b&&j?!m.shiftKey&&x===j?(m.preventDefault(),r&&Wf(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Wf(j,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(Kt.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});A5.displayName=Xoe;function Zoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wf(n,{select:t}),document.activeElement!==r)return}function Joe(e){const t=yU(e),r=eF(t,e),n=eF(t.reverse(),e);return[r,n]}function yU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eF(e,t){for(const r of e)if(!Qoe(r,{upTo:t}))return r}function Qoe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ele(e){return e instanceof HTMLInputElement&&"select"in e}function Wf(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ele(e)&&t&&e.select()}}var tF=tle();function tle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=rF(e,t),e.unshift(t)},remove(t){var r;e=rF(e,t),(r=e[0])==null||r.resume()}}}function rF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rle(e){return e.filter(t=>t.tagName!=="A")}var j4=0;function hC(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nF()),document.body.insertAdjacentElement("beforeend",e[1]??nF()),j4++,()=>{j4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),j4--}},[])}function nF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lc=function(){return Lc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Lc.apply(this,arguments)};function wU(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function nle(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ow="right-scroll-bar-position",Fw="width-before-scroll-bar",ale="with-scroll-bars-hidden",ile="--removed-body-scroll-bar-size";function N4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sle(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var ole=typeof window<"u"?S.useLayoutEffect:S.useEffect,aF=new WeakMap;function lle(e,t){var r=sle(null,function(n){return e.forEach(function(a){return N4(a,n)})});return ole(function(){var n=aF.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(o){i.has(o)||N4(o,null)}),i.forEach(function(o){a.has(o)||N4(o,s)})}aF.set(r,e)},[e]),r}function cle(e){return e}function ule(e,t){t===void 0&&(t=cle);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var c=function(){var f=s;s=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),r}}}};return a}function fle(e){e===void 0&&(e={});var t=ule(null);return t.options=Lc({async:!0,ssr:!1},e),t}var bU=function(e){var t=e.sideCar,r=wU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Lc({},r))};bU.isSideCarExport=!0;function dle(e,t){return e.useMedium(t),bU}var _U=fle(),k4=function(){},E5=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:k4,onWheelCapture:k4,onTouchMoveCapture:k4}),a=n[0],i=n[1],s=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,y=e.gapMode,b=wU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,k=lle([r,t]),O=Lc(Lc({},b),a);return S.createElement(S.Fragment,null,f&&S.createElement(j,{sideCar:_U,removeScrollBar:u,shards:d,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),s?S.cloneElement(S.Children.only(o),Lc(Lc({},O),{ref:k})):S.createElement(x,Lc({},O,{className:c,ref:k}),o))});E5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E5.classNames={fullWidth:Fw,zeroRight:Ow};var hle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ple(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hle();return t&&e.setAttribute("nonce",t),e}function mle(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gle(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ple())&&(mle(t,r),gle(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xle=function(){var e=vle();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},SU=function(){var e=xle(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},yle={left:0,top:0,right:0,gap:0},A4=function(e){return parseInt(e||"",10)||0},wle=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[A4(r),A4(n),A4(a)]},ble=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yle;var t=wle(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_le=SU(),cm="data-scroll-locked",Sle=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ale,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(cm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ow,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Fw,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Ow," .").concat(Ow,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fw," .").concat(Fw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(cm,`] {
    `).concat(ile,": ").concat(o,`px;
  }
`)},iF=function(){var e=parseInt(document.body.getAttribute(cm)||"0",10);return isFinite(e)?e:0},jle=function(){S.useEffect(function(){return document.body.setAttribute(cm,(iF()+1).toString()),function(){var e=iF()-1;e<=0?document.body.removeAttribute(cm):document.body.setAttribute(cm,e.toString())}},[])},Nle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;jle();var i=S.useMemo(function(){return ble(a)},[a]);return S.createElement(_le,{styles:Sle(i,!t,a,r?"":"!important")})},oA=!1;if(typeof window<"u")try{var R2=Object.defineProperty({},"passive",{get:function(){return oA=!0,!0}});window.addEventListener("test",R2,R2),window.removeEventListener("test",R2,R2)}catch{oA=!1}var wp=oA?{passive:!1}:!1,kle=function(e){return e.tagName==="TEXTAREA"},jU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!kle(e)&&r[t]==="visible")},Ale=function(e){return jU(e,"overflowY")},Ele=function(e){return jU(e,"overflowX")},sF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=NU(e,n);if(a){var i=kU(e,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Cle=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Tle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},NU=function(e,t){return e==="v"?Ale(t):Ele(t)},kU=function(e,t){return e==="v"?Cle(t):Tle(t)},Ple=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ole=function(e,t,r,n,a){var i=Ple(e,window.getComputedStyle(t).direction),s=i*n,o=r.target,c=t.contains(o),u=!1,f=s>0,d=0,h=0;do{var p=kU(e,o),g=p[0],m=p[1],v=p[2],x=m-v-i*g;(g||x)&&NU(e,o)&&(d+=x,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},M2=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oF=function(e){return[e.deltaX,e.deltaY]},lF=function(e){return e&&"current"in e?e.current:e},Fle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lle=0,bp=[];function Ile(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(Lle++)[0],i=S.useState(SU)[0],s=S.useRef(e);S.useEffect(function(){s.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=nle([e.lockRef.current],(e.shards||[]).map(lF),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=S.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=M2(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-x[0],j="deltaY"in m?m.deltaY:y[1]-x[1],k,O=m.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in m&&N==="h"&&O.type==="range")return!1;var E=sF(N,O);if(!E)return!0;if(E?k=N:(k=N==="v"?"h":"v",E=sF(N,O)),!E)return!1;if(!n.current&&"changedTouches"in m&&(b||j)&&(n.current=k),!k)return!0;var D=n.current||k;return Ole(D,v,m,D==="h"?b:j,!0)},[]),c=S.useCallback(function(m){var v=m;if(!(!bp.length||bp[bp.length-1]!==i)){var x="deltaY"in v?oF(v):M2(v),y=t.current.filter(function(k){return k.name===v.type&&(k.target===v.target||v.target===k.shadowParent)&&Fle(k.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(lF).filter(Boolean).filter(function(k){return k.contains(v.target)}),j=b.length>0?o(v,b[0]):!s.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=S.useCallback(function(m,v,x,y){var b={name:m,delta:v,target:x,should:y,shadowParent:Rle(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=S.useCallback(function(m){r.current=M2(m),n.current=void 0},[]),d=S.useCallback(function(m){u(m.type,oF(m),m.target,o(m,e.lockRef.current))},[]),h=S.useCallback(function(m){u(m.type,M2(m),m.target,o(m,e.lockRef.current))},[]);S.useEffect(function(){return bp.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,wp),document.addEventListener("touchmove",c,wp),document.addEventListener("touchstart",f,wp),function(){bp=bp.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,wp),document.removeEventListener("touchmove",c,wp),document.removeEventListener("touchstart",f,wp)}},[]);var p=e.removeScrollBar,g=e.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:Dle(a)}):null,p?S.createElement(Nle,{gapMode:e.gapMode}):null)}function Rle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mle=dle(_U,Ile);var C5=S.forwardRef(function(e,t){return S.createElement(E5,Lc({},e,{ref:t,sideCar:Mle}))});C5.classNames=E5.classNames;var Ble=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_p=new WeakMap,B2=new WeakMap,U2={},E4=0,AU=function(e){return e&&(e.host||AU(e.parentNode))},Ule=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=AU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$le=function(e,t,r,n){var a=Ule(t,Array.isArray(e)?e:[e]);U2[r]||(U2[r]=new WeakMap);var i=U2[r],s=[],o=new Set,c=new Set(a),u=function(d){!d||o.has(d)||(o.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))f(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(_p.get(h)||0)+1,v=(i.get(h)||0)+1;_p.set(h,m),i.set(h,v),s.push(h),m===1&&g&&B2.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),o.clear(),E4++,function(){s.forEach(function(d){var h=_p.get(d)-1,p=i.get(d)-1;_p.set(d,h),i.set(d,p),h||(B2.has(d)||d.removeAttribute(n),B2.delete(d)),p||d.removeAttribute(r)}),E4--,E4||(_p=new WeakMap,_p=new WeakMap,B2=new WeakMap,U2={})}},pC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Ble(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),$le(n,a,r,"aria-hidden")):function(){return null}},mC="Dialog",[EU,CU]=ks(mC),[zle,dc]=EU(mC),TU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,o=S.useRef(null),c=S.useRef(null),[u=!1,f]=Yc({prop:n,defaultProp:a,onChange:i});return l.jsx(zle,{scope:t,triggerRef:o,contentRef:c,contentId:tc(),titleId:tc(),descriptionId:tc(),open:u,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(d=>!d),[f]),modal:s,children:r})};TU.displayName=mC;var PU="DialogTrigger",OU=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=dc(PU,r),i=$r(t,a.triggerRef);return l.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xC(a.open),...n,ref:i,onClick:At(e.onClick,a.onOpenToggle)})});OU.displayName=PU;var gC="DialogPortal",[qle,FU]=EU(gC,{forceMount:void 0}),DU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=dc(gC,t);return l.jsx(qle,{scope:t,forceMount:r,children:S.Children.map(n,s=>l.jsx(vl,{present:r||i.open,children:l.jsx(z1,{asChild:!0,container:a,children:s})}))})};DU.displayName=gC;var jb="DialogOverlay",LU=S.forwardRef((e,t)=>{const r=FU(jb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=dc(jb,e.__scopeDialog);return i.modal?l.jsx(vl,{present:n||i.open,children:l.jsx(Vle,{...a,ref:t})}):null});LU.displayName=jb;var Wle=u0("DialogOverlay.RemoveScroll"),Vle=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=dc(jb,r);return l.jsx(C5,{as:Wle,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Kt.div,{"data-state":xC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),h0="DialogContent",IU=S.forwardRef((e,t)=>{const r=FU(h0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=dc(h0,e.__scopeDialog);return l.jsx(vl,{present:n||i.open,children:i.modal?l.jsx(Hle,{...a,ref:t}):l.jsx(Gle,{...a,ref:t})})});IU.displayName=h0;var Hle=S.forwardRef((e,t)=>{const r=dc(h0,e.__scopeDialog),n=S.useRef(null),a=$r(t,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return pC(i)},[]),l.jsx(RU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:At(e.onFocusOutside,i=>i.preventDefault())})}),Gle=S.forwardRef((e,t)=>{const r=dc(h0,e.__scopeDialog),n=S.useRef(!1),a=S.useRef(!1);return l.jsx(RU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),RU=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,o=dc(h0,r),c=S.useRef(null),u=$r(t,c);return hC(),l.jsxs(l.Fragment,{children:[l.jsx(A5,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(fg,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":xC(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Yle,{titleId:o.titleId}),l.jsx(Zle,{contentRef:c,descriptionId:o.descriptionId})]})]})}),vC="DialogTitle",MU=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=dc(vC,r);return l.jsx(Kt.h2,{id:a.titleId,...n,ref:t})});MU.displayName=vC;var BU="DialogDescription",UU=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=dc(BU,r);return l.jsx(Kt.p,{id:a.descriptionId,...n,ref:t})});UU.displayName=BU;var $U="DialogClose",zU=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=dc($U,r);return l.jsx(Kt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>a.onOpenChange(!1))})});zU.displayName=$U;function xC(e){return e?"open":"closed"}var qU="DialogTitleWarning",[Kle,WU]=xre(qU,{contentName:h0,titleName:vC,docsSlug:"dialog"}),Yle=({titleId:e})=>{const t=WU(qU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Xle="DialogDescriptionWarning",Zle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WU(Xle).contentName}}.`;return S.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yC=TU,wC=OU,bC=DU,G1=LU,K1=IU,Y1=MU,X1=UU,T5=zU;const cF=yC,Jle=wC,Qle=bC,VU=S.forwardRef(({className:e,...t},r)=>l.jsx(G1,{className:Et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));VU.displayName=G1.displayName;const ece=dg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),HU=S.forwardRef(({side:e="right",className:t,children:r,...n},a)=>l.jsxs(Qle,{children:[l.jsx(VU,{}),l.jsxs(K1,{ref:a,className:Et(ece({side:e}),t),...n,children:[r,l.jsxs(T5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Ju,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));HU.displayName=K1.displayName;const tce=S.forwardRef(({className:e,...t},r)=>l.jsx(Y1,{ref:r,className:Et("text-lg font-semibold text-foreground",e),...t}));tce.displayName=Y1.displayName;const rce=S.forwardRef(({className:e,...t},r)=>l.jsx(X1,{ref:r,className:Et("text-sm text-muted-foreground",e),...t}));rce.displayName=X1.displayName;var _C="Avatar",[nce,_Le]=ks(_C),[ace,GU]=nce(_C),KU=S.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=S.useState("idle");return l.jsx(ace,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:l.jsx(Kt.span,{...n,ref:t})})});KU.displayName=_C;var YU="AvatarImage",XU=S.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=GU(YU,r),o=ice(n,i),c=Fi(u=>{a(u),s.onImageLoadingStatusChange(u)});return Ha(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Kt.img,{...i,ref:t,src:n}):null});XU.displayName=YU;var ZU="AvatarFallback",JU=S.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=GU(ZU,r),[s,o]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?l.jsx(Kt.span,{...a,ref:t}):null});JU.displayName=ZU;function uF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ice(e,{referrerPolicy:t,crossOrigin:r}){const n=oce(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,o]=S.useState(()=>uF(i,e));return Ha(()=>{o(uF(i,e))},[i,e]),Ha(()=>{const c=d=>()=>{o(d)};if(!i)return;const u=c("loaded"),f=c("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),s}function sce(){return()=>{}}function oce(){return S.useSyncExternalStore(sce,()=>!0,()=>!1)}var QU=KU,e$=XU,t$=JU;const Nb=S.forwardRef(({className:e,...t},r)=>l.jsx(QU,{ref:r,className:Et("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Nb.displayName=QU.displayName;const lce=S.forwardRef(({className:e,...t},r)=>l.jsx(e$,{ref:r,className:Et("aspect-square h-full w-full",e),...t}));lce.displayName=e$.displayName;const kb=S.forwardRef(({className:e,...t},r)=>l.jsx(t$,{ref:r,className:Et("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));kb.displayName=t$.displayName;var cce=S.createContext(void 0);function P5(e){const t=S.useContext(cce);return e||t||"ltr"}var C4="rovingFocusGroup.onEntryFocus",uce={bubbles:!1,cancelable:!0},O5="RovingFocusGroup",[lA,r$,fce]=u5(O5),[dce,F5]=ks(O5,[fce]),[hce,pce]=dce(O5),n$=S.forwardRef((e,t)=>l.jsx(lA.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lA.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(mce,{...e,ref:t})})}));n$.displayName=O5;var mce=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=S.useRef(null),p=$r(t,h),g=P5(i),[m=null,v]=Yc({prop:s,defaultProp:o,onChange:c}),[x,y]=S.useState(!1),b=Fi(u),j=r$(r),k=S.useRef(!1),[O,N]=S.useState(0);return S.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(C4,b),()=>E.removeEventListener(C4,b)},[b]),l.jsx(hce,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:S.useCallback(E=>v(E),[v]),onItemShiftTab:S.useCallback(()=>y(!0),[]),onFocusableItemAdd:S.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:S.useCallback(()=>N(E=>E-1),[]),children:l.jsx(Kt.div,{tabIndex:x||O===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{k.current=!0}),onFocus:At(e.onFocus,E=>{const D=!k.current;if(E.target===E.currentTarget&&D&&!x){const M=new CustomEvent(C4,uce);if(E.currentTarget.dispatchEvent(M),!M.defaultPrevented){const C=j().filter(J=>J.focusable),P=C.find(J=>J.active),R=C.find(J=>J.id===m),ee=[P,R,...C].filter(Boolean).map(J=>J.ref.current);s$(ee,f)}}k.current=!1}),onBlur:At(e.onBlur,()=>y(!1))})})}),a$="RovingFocusGroupItem",i$=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...s}=e,o=tc(),c=i||o,u=pce(a$,r),f=u.currentTabStopId===c,d=r$(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return S.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),l.jsx(lA.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:l.jsx(Kt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:At(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:At(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:At(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=xce(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=d().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=u.loop?yce(x,y+1):x.slice(y+1)}setTimeout(()=>s$(x))}})})})});i$.displayName=a$;var gce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xce(e,t,r){const n=vce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gce[n]}function s$(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o$=n$,l$=i$,cA=["Enter"," "],wce=["ArrowDown","PageUp","Home"],c$=["ArrowUp","PageDown","End"],bce=[...wce,...c$],_ce={ltr:[...cA,"ArrowRight"],rtl:[...cA,"ArrowLeft"]},Sce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Z1="Menu",[Vx,jce,Nce]=u5(Z1),[P0,u$]=ks(Z1,[Nce,gg,F5]),D5=gg(),f$=F5(),[kce,O0]=P0(Z1),[Ace,J1]=P0(Z1),d$=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,o=D5(t),[c,u]=S.useState(null),f=S.useRef(!1),d=Fi(i),h=P5(a);return S.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(rC,{...o,children:l.jsx(kce,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:l.jsx(Ace,{scope:t,onClose:S.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:s,children:n})})})};d$.displayName=Z1;var Ece="MenuAnchor",SC=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=D5(r);return l.jsx(nC,{...a,...n,ref:t})});SC.displayName=Ece;var jC="MenuPortal",[Cce,h$]=P0(jC,{forceMount:void 0}),p$=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=O0(jC,t);return l.jsx(Cce,{scope:t,forceMount:r,children:l.jsx(vl,{present:r||i.open,children:l.jsx(z1,{asChild:!0,container:a,children:n})})})};p$.displayName=jC;var ll="MenuContent",[Tce,NC]=P0(ll),m$=S.forwardRef((e,t)=>{const r=h$(ll,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=O0(ll,e.__scopeMenu),s=J1(ll,e.__scopeMenu);return l.jsx(Vx.Provider,{scope:e.__scopeMenu,children:l.jsx(vl,{present:n||i.open,children:l.jsx(Vx.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(Pce,{...a,ref:t}):l.jsx(Oce,{...a,ref:t})})})})}),Pce=S.forwardRef((e,t)=>{const r=O0(ll,e.__scopeMenu),n=S.useRef(null),a=$r(t,n);return S.useEffect(()=>{const i=n.current;if(i)return pC(i)},[]),l.jsx(kC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:At(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Oce=S.forwardRef((e,t)=>{const r=O0(ll,e.__scopeMenu);return l.jsx(kC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Fce=u0("MenuContent.ScrollLock"),kC=S.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=O0(ll,r),x=J1(ll,r),y=D5(r),b=f$(r),j=jce(r),[k,O]=S.useState(null),N=S.useRef(null),E=$r(t,N,v.onContentChange),D=S.useRef(0),M=S.useRef(""),C=S.useRef(0),P=S.useRef(null),R=S.useRef("right"),U=S.useRef(0),ee=g?C5:S.Fragment,J=g?{as:Fce,allowPinchZoom:!0}:void 0,ae=W=>{var ie,pe;const fe=M.current+W,Se=j().filter(Q=>!Q.disabled),T=document.activeElement,L=(ie=Se.find(Q=>Q.ref.current===T))==null?void 0:ie.textValue,B=Se.map(Q=>Q.textValue),z=Vce(B,fe,L),te=(pe=Se.find(Q=>Q.textValue===z))==null?void 0:pe.ref.current;(function Q(ge){M.current=ge,window.clearTimeout(D.current),ge!==""&&(D.current=window.setTimeout(()=>Q(""),1e3))})(fe),te&&setTimeout(()=>te.focus())};S.useEffect(()=>()=>window.clearTimeout(D.current),[]),hC();const X=S.useCallback(W=>{var Se,T;return R.current===((Se=P.current)==null?void 0:Se.side)&&Gce(W,(T=P.current)==null?void 0:T.area)},[]);return l.jsx(Tce,{scope:r,searchRef:M,onItemEnter:S.useCallback(W=>{X(W)&&W.preventDefault()},[X]),onItemLeave:S.useCallback(W=>{var fe;X(W)||((fe=N.current)==null||fe.focus(),O(null))},[X]),onTriggerLeave:S.useCallback(W=>{X(W)&&W.preventDefault()},[X]),pointerGraceTimerRef:C,onPointerGraceIntentChange:S.useCallback(W=>{P.current=W},[]),children:l.jsx(ee,{...J,children:l.jsx(A5,{asChild:!0,trapped:a,onMountAutoFocus:At(i,W=>{var fe;W.preventDefault(),(fe=N.current)==null||fe.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:l.jsx(o$,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:At(c,W=>{x.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(aC,{role:"menu","aria-orientation":"vertical","data-state":P$(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:E,style:{outline:"none",...m.style},onKeyDown:At(m.onKeyDown,W=>{const Se=W.target.closest("[data-radix-menu-content]")===W.currentTarget,T=W.ctrlKey||W.altKey||W.metaKey,L=W.key.length===1;Se&&(W.key==="Tab"&&W.preventDefault(),!T&&L&&ae(W.key));const B=N.current;if(W.target!==B||!bce.includes(W.key))return;W.preventDefault();const te=j().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);c$.includes(W.key)&&te.reverse(),qce(te)}),onBlur:At(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(D.current),M.current="")}),onPointerMove:At(e.onPointerMove,Hx(W=>{const fe=W.target,Se=U.current!==W.clientX;if(W.currentTarget.contains(fe)&&Se){const T=W.clientX>U.current?"right":"left";R.current=T,U.current=W.clientX}}))})})})})})})});m$.displayName=ll;var Dce="MenuGroup",AC=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Kt.div,{role:"group",...n,ref:t})});AC.displayName=Dce;var Lce="MenuLabel",g$=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Kt.div,{...n,ref:t})});g$.displayName=Lce;var Ab="MenuItem",fF="menu.itemSelect",L5=S.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=S.useRef(null),s=J1(Ab,e.__scopeMenu),o=NC(Ab,e.__scopeMenu),c=$r(t,i),u=S.useRef(!1),f=()=>{const d=i.current;if(!r&&d){const h=new CustomEvent(fF,{bubbles:!0,cancelable:!0});d.addEventListener(fF,p=>n==null?void 0:n(p),{once:!0}),$3(d,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(v$,{...a,ref:c,disabled:r,onClick:At(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:At(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:At(e.onKeyDown,d=>{const h=o.searchRef.current!=="";r||h&&d.key===" "||cA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});L5.displayName=Ab;var v$=S.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=NC(Ab,r),o=f$(r),c=S.useRef(null),u=$r(t,c),[f,d]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),l.jsx(Vx.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:l.jsx(l$,{asChild:!0,...o,focusable:!n,children:l.jsx(Kt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:At(e.onPointerMove,Hx(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:At(e.onPointerLeave,Hx(g=>s.onItemLeave(g))),onFocus:At(e.onFocus,()=>d(!0)),onBlur:At(e.onBlur,()=>d(!1))})})})}),Ice="MenuCheckboxItem",x$=S.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return l.jsx(S$,{scope:e.__scopeMenu,checked:r,children:l.jsx(L5,{role:"menuitemcheckbox","aria-checked":Eb(r)?"mixed":r,...a,ref:t,"data-state":CC(r),onSelect:At(a.onSelect,()=>n==null?void 0:n(Eb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});x$.displayName=Ice;var y$="MenuRadioGroup",[Rce,Mce]=P0(y$,{value:void 0,onValueChange:()=>{}}),w$=S.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Fi(n);return l.jsx(Rce,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l.jsx(AC,{...a,ref:t})})});w$.displayName=y$;var b$="MenuRadioItem",_$=S.forwardRef((e,t)=>{const{value:r,...n}=e,a=Mce(b$,e.__scopeMenu),i=r===a.value;return l.jsx(S$,{scope:e.__scopeMenu,checked:i,children:l.jsx(L5,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":CC(i),onSelect:At(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});_$.displayName=b$;var EC="MenuItemIndicator",[S$,Bce]=P0(EC,{checked:!1}),j$=S.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Bce(EC,r);return l.jsx(vl,{present:n||Eb(i.checked)||i.checked===!0,children:l.jsx(Kt.span,{...a,ref:t,"data-state":CC(i.checked)})})});j$.displayName=EC;var Uce="MenuSeparator",N$=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});N$.displayName=Uce;var $ce="MenuArrow",k$=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=D5(r);return l.jsx(iC,{...a,...n,ref:t})});k$.displayName=$ce;var zce="MenuSub",[SLe,A$]=P0(zce),Rv="MenuSubTrigger",E$=S.forwardRef((e,t)=>{const r=O0(Rv,e.__scopeMenu),n=J1(Rv,e.__scopeMenu),a=A$(Rv,e.__scopeMenu),i=NC(Rv,e.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>f,[f]),S.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),c(null)}},[o,c]),l.jsx(SC,{asChild:!0,...u,children:l.jsx(v$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":P$(r.open),...e,ref:c5(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:At(e.onPointerMove,Hx(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:At(e.onPointerLeave,Hx(d=>{var p,g;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,y=h[v?"left":"right"],b=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:At(e.onKeyDown,d=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&d.key===" "||_ce[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});E$.displayName=Rv;var C$="MenuSubContent",T$=S.forwardRef((e,t)=>{const r=h$(ll,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=O0(ll,e.__scopeMenu),s=J1(ll,e.__scopeMenu),o=A$(C$,e.__scopeMenu),c=S.useRef(null),u=$r(t,c);return l.jsx(Vx.Provider,{scope:e.__scopeMenu,children:l.jsx(vl,{present:n||i.open,children:l.jsx(Vx.Slot,{scope:e.__scopeMenu,children:l.jsx(kC,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;s.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:At(e.onFocusOutside,f=>{f.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:At(e.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:At(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=Sce[s.dir].includes(f.key);d&&h&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),f.preventDefault())})})})})})});T$.displayName=C$;function P$(e){return e?"open":"closed"}function Eb(e){return e==="indeterminate"}function CC(e){return Eb(e)?"indeterminate":e?"checked":"unchecked"}function qce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Wce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Vce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Wce(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hce(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i].x,c=t[i].y,u=t[s].x,f=t[s].y;c>n!=f>n&&r<(u-o)*(n-c)/(f-c)+o&&(a=!a)}return a}function Gce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hce(r,t)}function Hx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Kce=d$,Yce=SC,Xce=p$,Zce=m$,Jce=AC,Qce=g$,eue=L5,tue=x$,rue=w$,nue=_$,aue=j$,iue=N$,sue=k$,oue=E$,lue=T$,TC="DropdownMenu",[cue,jLe]=ks(TC,[u$]),As=u$(),[uue,O$]=cue(TC),F$=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=As(t),u=S.useRef(null),[f=!1,d]=Yc({prop:a,defaultProp:i,onChange:s});return l.jsx(uue,{scope:t,triggerId:tc(),triggerRef:u,contentId:tc(),open:f,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:o,children:l.jsx(Kce,{...c,open:f,onOpenChange:d,dir:n,modal:o,children:r})})};F$.displayName=TC;var D$="DropdownMenuTrigger",L$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=O$(D$,r),s=As(r);return l.jsx(Yce,{asChild:!0,...s,children:l.jsx(Kt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:c5(t,i.triggerRef),onPointerDown:At(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:At(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});L$.displayName=D$;var fue="DropdownMenuPortal",I$=e=>{const{__scopeDropdownMenu:t,...r}=e,n=As(t);return l.jsx(Xce,{...n,...r})};I$.displayName=fue;var R$="DropdownMenuContent",M$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=O$(R$,r),i=As(r),s=S.useRef(!1);return l.jsx(Zce,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:At(e.onCloseAutoFocus,o=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:At(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M$.displayName=R$;var due="DropdownMenuGroup",hue=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(Jce,{...a,...n,ref:t})});hue.displayName=due;var pue="DropdownMenuLabel",B$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(Qce,{...a,...n,ref:t})});B$.displayName=pue;var mue="DropdownMenuItem",U$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(eue,{...a,...n,ref:t})});U$.displayName=mue;var gue="DropdownMenuCheckboxItem",$$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(tue,{...a,...n,ref:t})});$$.displayName=gue;var vue="DropdownMenuRadioGroup",xue=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(rue,{...a,...n,ref:t})});xue.displayName=vue;var yue="DropdownMenuRadioItem",z$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(nue,{...a,...n,ref:t})});z$.displayName=yue;var wue="DropdownMenuItemIndicator",q$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(aue,{...a,...n,ref:t})});q$.displayName=wue;var bue="DropdownMenuSeparator",W$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(iue,{...a,...n,ref:t})});W$.displayName=bue;var _ue="DropdownMenuArrow",Sue=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(sue,{...a,...n,ref:t})});Sue.displayName=_ue;var jue="DropdownMenuSubTrigger",V$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(oue,{...a,...n,ref:t})});V$.displayName=jue;var Nue="DropdownMenuSubContent",H$=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=As(r);return l.jsx(lue,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H$.displayName=Nue;var kue=F$,Aue=L$,Eue=I$,G$=M$,K$=B$,Y$=U$,X$=$$,Z$=z$,J$=q$,Q$=W$,ez=V$,tz=H$;const Cue=kue,Tue=Aue,Pue=S.forwardRef(({className:e,inset:t,children:r,...n},a)=>l.jsxs(ez,{ref:a,className:Et("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,l.jsx(dne,{className:"ml-auto"})]}));Pue.displayName=ez.displayName;const Oue=S.forwardRef(({className:e,...t},r)=>l.jsx(tz,{ref:r,className:Et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Oue.displayName=tz.displayName;const rz=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Eue,{children:l.jsx(G$,{ref:n,sideOffset:t,className:Et("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));rz.displayName=G$.displayName;const Dw=S.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(Y$,{ref:n,className:Et("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Dw.displayName=Y$.displayName;const Fue=S.forwardRef(({className:e,children:t,checked:r,...n},a)=>l.jsxs(X$,{ref:a,className:Et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(J$,{children:l.jsx(Xc,{className:"h-4 w-4"})})}),t]}));Fue.displayName=X$.displayName;const Due=S.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Z$,{ref:n,className:Et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(J$,{children:l.jsx(mne,{className:"h-2 w-2 fill-current"})})}),t]}));Due.displayName=Z$.displayName;const Lue=S.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(K$,{ref:n,className:Et("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Lue.displayName=K$.displayName;const uA=S.forwardRef(({className:e,...t},r)=>l.jsx(Q$,{ref:r,className:Et("-mx-1 my-1 h-px bg-muted",e),...t}));uA.displayName=Q$.displayName;function so({children:e}){var y;const{user:t,signOut:r}=as(),[n]=I3(),[a,i]=S.useState(!1),[s,o]=S.useState(!1),c=Ft.useMemo(()=>[{name:"Dashboard",href:"/dashboard",icon:b8,roles:["super_admin","account_admin","payroll_admin"]},{name:"Staff Portal",href:"/staff-portal",icon:b8,roles:["staff"]},{name:"Staff Management",href:"/staff",icon:Wc,roles:["super_admin"]},{name:"Departments",href:"/departments",icon:une,roles:["super_admin","account_admin","payroll_admin"]},{name:"Payroll",href:"/payroll",icon:Tw,roles:["super_admin","account_admin","payroll_admin"]},{name:"Payroll Workflow",href:"/payroll/workflow",icon:Tw,roles:["super_admin","account_admin","payroll_admin"]},{name:"Individual Adjustments",href:"/payroll/adjustments",icon:Tw,roles:["super_admin","payroll_admin"]},{name:"Payslips",href:"/payslips",icon:Pi,roles:["super_admin","account_admin","payroll_admin","staff"]},{name:"Leave Approval",href:"/leave/approval",icon:Va,roles:["super_admin","account_admin","payroll_admin"]},{name:"Reports",href:"/reports",icon:sB,roles:["super_admin","account_admin"]},{name:"Settings",href:"/settings",icon:$k,roles:["super_admin"]}],[]),{data:u}=Tr({queryKey:["notification-count",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return 0;const{count:b,error:j}=await De.from("notifications").select("id",{count:"exact"}).eq("user_id",t.id).eq("is_read",!1);if(j)throw j;return b||0},enabled:!!(t!=null&&t.id),refetchInterval:3e4}),f=Ft.useRef(u);Ft.useEffect(()=>{if(u&&f.current!==void 0&&u>f.current){o(!0);const b=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(b)}f.current=u},[u]);const d=async()=>{await r()},h=b=>n===b||(t==null?void 0:t.role)==="staff"&&b==="/staff-portal"&&n==="/dashboard"?!0:b==="/"?n==="/":n.startsWith(b+"/")&&b!=="/payroll"&&b!=="/staff",p=()=>{var b;return t!=null&&t.staff_profile?`${t.staff_profile.first_name[0]}${t.staff_profile.last_name[0]}`:((b=t==null?void 0:t.email)==null?void 0:b.substring(0,2).toUpperCase())||"U"},g=()=>t!=null&&t.staff_profile?`${t.staff_profile.first_name} ${t.staff_profile.last_name}`:(t==null?void 0:t.email)||"User",{hasRole:m}=as(),v=c.filter(b=>m(b.roles)),x=({isMobile:b=!1})=>{var j;return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx("div",{className:"flex h-16 shrink-0 items-center px-4 lg:px-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-nigeria-green flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"JSC"})}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Payroll System"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Judicial Service Committee"})]})]})}),l.jsx("nav",{className:"flex-1 px-4 lg:px-6 py-4 space-y-1",children:v.map(k=>{const O=h(k.href);return l.jsx(ji,{href:k.href,children:l.jsxs("button",{onClick:()=>b&&i(!1),className:`
                  group flex items-center w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors
                  ${O?"bg-nigeria-green text-white":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}
                `,children:[l.jsx(k.icon,{className:`
                    mr-3 h-5 w-5 flex-shrink-0
                    ${O?"text-white":"text-gray-400 group-hover:text-gray-900"}
                  `}),k.name]})},k.name)})}),b&&l.jsxs("div",{className:"px-4 lg:px-6 py-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(Nb,{className:"h-8 w-8",children:l.jsx(kb,{className:"bg-nigeria-green text-white text-sm",children:p()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g()}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(j=t==null?void 0:t.role)==null?void 0:j.replace("_"," ")})]})]}),l.jsxs(Ue,{onClick:d,variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(_8,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})};return l.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:w-72 lg:flex-col lg:fixed lg:inset-y-0",children:l.jsx("div",{className:"flex flex-col flex-grow bg-white shadow-sm border-r border-gray-200",children:l.jsx(x,{})})}),l.jsx(cF,{open:a,onOpenChange:i,children:l.jsx(HU,{side:"left",className:"p-0 w-72",children:l.jsx("div",{className:"bg-white h-full",children:l.jsx(x,{isMobile:!0})})})}),l.jsxs("div",{className:"flex flex-col w-0 flex-1 lg:pl-72",children:[l.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[l.jsx(cF,{children:l.jsx(Jle,{asChild:!0,children:l.jsxs(Ue,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>i(!0),children:[l.jsx(xne,{className:"h-6 w-6"}),l.jsx("span",{className:"sr-only",children:"Open sidebar"})]})})}),l.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[l.jsx("div",{className:"flex flex-1"}),l.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(ji,{href:"/notifications",children:l.jsxs(Ue,{variant:"ghost",size:"sm",className:`relative transition-all duration-300 ${s?"animate-pulse bg-blue-50 hover:bg-blue-100":""}`,children:[l.jsx(Bk,{className:"h-5 w-5"}),u&&u>0&&l.jsx("span",{className:`absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center transition-all duration-300 ${s?"animate-bounce scale-110":""}`,children:u>99?"99+":u}),s&&l.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-blue-500 rounded-full animate-ping"})]})})}),l.jsx(Nr,{children:l.jsxs("p",{children:["View notifications (",u||0," unread)"]})})]}),l.jsxs(Cue,{children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Tue,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:l.jsx(Nb,{className:"h-8 w-8",children:l.jsx(kb,{className:"bg-nigeria-green text-white text-sm",children:p()})})})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Account menu"})})]}),l.jsxs(rz,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:l.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[l.jsx("p",{className:"font-medium",children:g()}),l.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:t==null?void 0:t.email}),l.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:(y=t==null?void 0:t.role)==null?void 0:y.replace("_"," ")})]})}),l.jsx(uA,{}),l.jsx(Dw,{asChild:!0,children:l.jsxs(ji,{href:"/settings/profile",className:"w-full",children:[l.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Profile"]})}),m(["super_admin"])&&l.jsx(Dw,{asChild:!0,children:l.jsxs(ji,{href:"/settings",className:"w-full",children:[l.jsx($k,{className:"mr-2 h-4 w-4"}),"Settings"]})}),l.jsx(uA,{}),l.jsxs(Dw,{onClick:d,className:"text-red-600",children:[l.jsx(_8,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]})]})]}),l.jsxs("main",{className:"flex-1 py-6 px-4 sm:px-6 lg:px-8 overflow-y-auto",children:[l.jsx("div",{className:"mx-auto max-w-7xl",children:e}),l.jsx("footer",{className:"mt-12 pt-8 border-t border-gray-200",children:l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-gray-500",style:{fontSize:"0.7em"},children:["JSC Payroll | Powered by"," ",l.jsx("a",{href:"https://elxis.com.ng",target:"_blank",rel:"noopener noreferrer",className:"text-nigeria-green hover:text-green-700 underline",children:"eLxis"})]})})})]})]})]})}const Dt=S.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Dt.displayName="Input";var Iue="Label",nz=S.forwardRef((e,t)=>l.jsx(Kt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nz.displayName=Iue;var az=nz;const Rue=dg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Or=S.forwardRef(({className:e,...t},r)=>l.jsx(az,{ref:r,className:Et(Rue(),e),...t}));Or.displayName=az.displayName;function PC(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OC="Checkbox",[Mue,NLe]=ks(OC),[Bue,Uue]=Mue(OC),iz=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=S.useState(null),g=$r(t,j=>p(j)),m=S.useRef(!1),v=h?f||!!h.closest("form"):!0,[x=!1,y]=Yc({prop:a,defaultProp:i,onChange:u}),b=S.useRef(x);return S.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const k=()=>y(b.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[h,y]),l.jsxs(Bue,{scope:r,state:x,disabled:o,children:[l.jsx(Kt.button,{type:"button",role:"checkbox","aria-checked":_d(x)?"mixed":x,"aria-required":s,"data-state":lz(x),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:g,onKeyDown:At(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:At(e.onClick,j=>{y(k=>_d(k)?!0:!k),v&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),v&&l.jsx($ue,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"},defaultChecked:_d(i)?!1:i})]})});iz.displayName=OC;var sz="CheckboxIndicator",oz=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Uue(sz,r);return l.jsx(vl,{present:n||_d(i.state)||i.state===!0,children:l.jsx(Kt.span,{"data-state":lz(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});oz.displayName=sz;var $ue=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,s=S.useRef(null),o=PC(r),c=Q3(t);S.useEffect(()=>{const f=s.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});f.indeterminate=_d(r),p.call(f,_d(r)?!1:r),f.dispatchEvent(g)}},[o,r,n]);const u=S.useRef(_d(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _d(e){return e==="indeterminate"}function lz(e){return _d(e)?"indeterminate":e?"checked":"unchecked"}var cz=iz,zue=oz;const uz=S.forwardRef(({className:e,...t},r)=>l.jsx(cz,{ref:r,className:Et("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(zue,{className:Et("flex items-center justify-center text-current"),children:l.jsx(Xc,{className:"h-4 w-4"})})}));uz.displayName=cz.displayName;function que(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[a,i]=S.useState(!1),[s,o]=S.useState(!1),{signIn:c}=as(),{toast:u}=zr(),f=async d=>{if(d.preventDefault(),!e||!r){u({title:"Error",description:"Please enter both email and password",variant:"destructive"});return}o(!0);try{await c(e,r)}catch{}finally{o(!1)}};return l.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-gradient-to-br from-nigeria-green to-gov-navy p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Ad,{className:"text-nigeria-green h-8 w-8"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"JSC Payroll System"}),l.jsx("p",{className:"mt-1 text-base text-green-100",children:"Login to your account"})]})]}),l.jsxs(jt,{className:"shadow-2xl",children:[l.jsxs(kr,{children:[l.jsx(Ar,{children:"Welcome Back"}),l.jsx(Sb,{children:"Enter your credentials to access your account."})]}),l.jsxs(Nt,{children:[l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsx("div",{className:"space-y-2",children:l.jsx(Dt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:d=>t(d.target.value),placeholder:"Enter your email"})}),l.jsx("div",{className:"space-y-2",children:l.jsx(Dt,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:d=>n(d.target.value),placeholder:"Enter your password"})}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uz,{id:"remember-me",checked:a,onCheckedChange:d=>i(d)}),l.jsx(Or,{htmlFor:"remember-me",className:"cursor-pointer",children:"Remember me"})]}),l.jsx(ji,{href:"/forgot-password",children:l.jsx("a",{className:"font-medium text-nigeria-green hover:text-green-600 hover:underline",children:"Forgot password?"})})]}),l.jsx(Ue,{type:"submit",disabled:s,className:"w-full bg-nigeria-green hover:bg-green-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]}),l.jsxs("div",{className:"mt-6 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Test Users:"}),l.jsxs("div",{className:"text-xs text-blue-700 space-y-1.5",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Super Admin:"})," superadmin@jsc.gov.ng / admin123"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Account Manager:"})," accounts@jsc.gov.ng / Acc12345"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Payroll Manager:"})," payroll@jsc.gov.ng / pay123"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Staff:"})," staff@jsc.gov.ng / staff123"]})]})]})]})]}),l.jsxs("footer",{className:"text-center text-sm text-green-200",children:["© ",new Date().getFullYear()," JSC Payroll. All Rights Reserved."]})]})})}function Wue(){const[e,t]=S.useState(""),[r,n]=S.useState(!1),[a,i]=S.useState(!1),{sendPasswordResetEmail:s}=as(),{toast:o}=zr(),c=async u=>{if(u.preventDefault(),!e){o({title:"Error",description:"Please enter your email address",variant:"destructive"});return}n(!0);try{await s(e),i(!0)}catch{}finally{n(!1)}};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-nigeria-green to-gov-navy py-6 px-4 sm:py-12 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(ol,{className:"text-nigeria-green",size:24})}),l.jsx("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-white",children:"Check Your Email"}),l.jsx("p",{className:"mt-2 text-base sm:text-lg text-green-100",children:"Password reset instructions sent"})]}),l.jsx(jt,{className:"mt-6 sm:mt-8 shadow-2xl",children:l.jsx(Nt,{className:"p-6 sm:p-8",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx($x,{className:"text-nigeria-green",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Reset Email Sent"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We've sent password reset instructions to:"}),l.jsx("p",{className:"font-medium text-gray-900 bg-gray-50 px-3 py-2 rounded-lg",children:e})]}),l.jsxs("div",{className:"text-left bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Next Steps:"}),l.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Check your email inbox (and spam folder)"}),l.jsx("li",{children:"Click the password reset link in the email"}),l.jsx("li",{children:"Create a new secure password"}),l.jsx("li",{children:"Return to login with your new password"})]})]}),l.jsx("div",{className:"pt-4",children:l.jsx(ji,{href:"/",children:l.jsxs(Ue,{variant:"outline",className:"w-full",children:[l.jsx(Mk,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the email?"," ",l.jsx("button",{onClick:()=>{i(!1),t("")},className:"text-nigeria-green hover:text-green-600 underline",children:"Try again"})]})})]})})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-nigeria-green to-gov-navy py-6 px-4 sm:py-12 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Ad,{className:"text-nigeria-green",size:24})}),l.jsx("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-white",children:"Reset Password"}),l.jsx("p",{className:"mt-2 text-base sm:text-lg text-green-100",children:"Enter your email to receive reset instructions"})]}),l.jsxs(jt,{className:"mt-6 sm:mt-8 shadow-2xl",children:[l.jsx(kr,{children:l.jsx(Ar,{className:"text-center",children:"Forgot Your Password?"})}),l.jsxs(Nt,{className:"p-6 sm:p-8",children:[l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx(Dt,{id:"email",name:"email",type:"email",required:!0,value:e,onChange:u=>t(u.target.value),className:"mt-1 focus:ring-nigeria-green focus:border-nigeria-green",placeholder:"Enter your JSC email address"}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Enter the email address associated with your JSC account"})]}),l.jsx(Ue,{type:"submit",disabled:r,className:"w-full bg-nigeria-green hover:bg-green-700 text-white",children:r?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Reset Email..."]}):l.jsxs(l.Fragment,{children:[l.jsx($x,{className:"mr-2 h-4 w-4"}),"Send Reset Instructions"]})}),l.jsx("div",{className:"text-center",children:l.jsx(ji,{href:"/",children:l.jsxs(Ue,{variant:"ghost",className:"text-sm text-gray-600 hover:text-gray-900",children:[l.jsx(Mk,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-800 mb-2",children:"Need Help?"}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsx("p",{children:"• Use your official JSC email address"}),l.jsx("p",{children:"• Check your spam/junk folder if you don't see the email"}),l.jsx("p",{children:"• Contact your system administrator if you continue having issues"}),l.jsx("p",{children:"• The reset link will expire in 1 hour for security"})]})]})]})]})]})})}function Vue(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[a,i]=S.useState(!1),[s,o]=S.useState(!1),[c,u]=S.useState(!1),[f,d]=S.useState(!1);I3();const{toast:h}=zr();S.useEffect(()=>{const x=new URLSearchParams(window.location.hash.substring(1)),y=new URLSearchParams(window.location.search),b=y.get("access_token"),j=y.get("refresh_token"),k=x.get("access_token"),O=x.get("refresh_token");(!b||!j)&&(!k||!O)?h({title:"Invalid Reset Link",description:"This password reset link is invalid or has expired",variant:"destructive"}):k&&O&&De.auth.setSession({access_token:k,refresh_token:O})},[h]);const g=(x=>{const y=x.length>=8,b=/[A-Z]/.test(x),j=/[a-z]/.test(x),k=/\d/.test(x);return{isValid:y&&b&&j&&k,minLength:y,hasUpper:b,hasLower:j,hasNumber:k}})(e),m=e===r,v=async x=>{if(x.preventDefault(),!e||!r){h({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(!g.isValid){h({title:"Error",description:"Password does not meet security requirements",variant:"destructive"});return}if(!m){h({title:"Error",description:"Passwords do not match",variant:"destructive"});return}u(!0);try{const{error:y}=await De.auth.updateUser({password:e});if(y)throw y;d(!0),h({title:"Success",description:"Password updated successfully"}),setTimeout(()=>{setLocation("/")},2e3)}catch(y){h({title:"Error",description:y.message||"Failed to update password",variant:"destructive"})}finally{u(!1)}};return f?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-nigeria-green to-gov-navy py-6 px-4 sm:py-12 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(ol,{className:"text-nigeria-green",size:24})}),l.jsx("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-white",children:"Password Updated"}),l.jsx("p",{className:"mt-2 text-base sm:text-lg text-green-100",children:"You can now sign in with your new password"})]}),l.jsx(jt,{className:"mt-6 sm:mt-8 shadow-2xl",children:l.jsx(Nt,{className:"p-6 sm:p-8",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx(hb,{className:"text-nigeria-green",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Successfully Updated"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your password has been updated successfully. You can now sign in to your JSC account."})]}),l.jsx("div",{className:"pt-4",children:l.jsx(ji,{href:"/",children:l.jsx(Ue,{className:"w-full bg-nigeria-green hover:bg-green-700",children:"Continue to Login"})})})]})})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-nigeria-green to-gov-navy py-6 px-4 sm:py-12 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Ad,{className:"text-nigeria-green",size:24})}),l.jsx("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-white",children:"Set New Password"}),l.jsx("p",{className:"mt-2 text-base sm:text-lg text-green-100",children:"Create a secure password for your account"})]}),l.jsxs(jt,{className:"mt-6 sm:mt-8 shadow-2xl",children:[l.jsx(kr,{children:l.jsx(Ar,{className:"text-center",children:"Create New Password"})}),l.jsx(Nt,{className:"p-6 sm:p-8",children:l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Dt,{id:"password",name:"password",type:a?"text":"password",required:!0,value:e,onChange:x=>t(x.target.value),className:"pr-10 focus:ring-nigeria-green focus:border-nigeria-green",placeholder:"Enter new password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?l.jsx(rx,{className:"h-4 w-4 text-gray-400"}):l.jsx(qc,{className:"h-4 w-4 text-gray-400"})})]}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${g.minLength?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${g.minLength?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"At least 8 characters"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${g.hasUpper?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasUpper?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One uppercase letter"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${g.hasLower?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasLower?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One lowercase letter"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${g.hasNumber?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasNumber?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One number"})]})]})]}),l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Dt,{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",required:!0,value:r,onChange:x=>n(x.target.value),className:"pr-10 focus:ring-nigeria-green focus:border-nigeria-green",placeholder:"Confirm new password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!s),children:s?l.jsx(rx,{className:"h-4 w-4 text-gray-400"}):l.jsx(qc,{className:"h-4 w-4 text-gray-400"})})]}),r&&l.jsxs("div",{className:`mt-1 text-xs flex items-center space-x-2 ${m?"text-green-600":"text-red-600"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${m?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{children:m?"Passwords match":"Passwords do not match"})]})]}),l.jsx(Ue,{type:"submit",disabled:c||!g.isValid||!m,className:"w-full bg-nigeria-green hover:bg-green-700 text-white",children:c?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Password..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hb,{className:"mr-2 h-4 w-4"}),"Update Password"]})}),l.jsx("div",{className:"text-center",children:l.jsx(ji,{href:"/",children:l.jsxs(Ue,{variant:"ghost",className:"text-sm text-gray-600 hover:text-gray-900",children:[l.jsx(Mk,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})})]})})]})]})})}class Hue{constructor(t){this.subscriptions=new Map,this.queryClient=t}subscribeToUserNotifications(t,r){const n=`user-notifications-${t}`;this.unsubscribe(n);const a=De.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t}`},i=>{console.log("Real-time notification update:",i),this.queryClient.invalidateQueries({queryKey:["notification-count",t]}),this.queryClient.invalidateQueries({queryKey:["recent-notifications"]}),this.queryClient.invalidateQueries({queryKey:["notifications",t]}),r&&r(i)}).subscribe();return this.subscriptions.set(n,a),a}subscribeToPayrollUpdates(t){const r="payroll-updates";this.unsubscribe(r);const n=De.channel(r).on("postgres_changes",{event:"*",schema:"public",table:"payroll_runs"},a=>{console.log("Real-time payroll update:",a),this.queryClient.invalidateQueries({queryKey:["payroll-workflow"]}),this.queryClient.invalidateQueries({queryKey:["recent-payrolls"]}),this.queryClient.invalidateQueries({queryKey:["dashboard-stats"]}),t&&t(a)}).subscribe();return this.subscriptions.set(r,n),n}subscribeToStaffUpdates(t){const r="staff-updates";this.unsubscribe(r);const n=De.channel(r).on("postgres_changes",{event:"*",schema:"public",table:"staff"},a=>{console.log("Real-time staff update:",a),this.queryClient.invalidateQueries({queryKey:["staff"]}),this.queryClient.invalidateQueries({queryKey:["dashboard-stats"]}),this.queryClient.invalidateQueries({queryKey:["departments-with-staff"]}),t&&t(a)}).subscribe();return this.subscriptions.set(r,n),n}subscribeToDepartmentUpdates(t){const r="department-updates";this.unsubscribe(r);const n=De.channel(r).on("postgres_changes",{event:"*",schema:"public",table:"departments"},a=>{console.log("Real-time department update:",a),this.queryClient.invalidateQueries({queryKey:["departments"]}),this.queryClient.invalidateQueries({queryKey:["departments-with-staff"]}),t&&t(a)}).subscribe();return this.subscriptions.set(r,n),n}unsubscribe(t){const r=this.subscriptions.get(t);r&&(De.removeChannel(r),this.subscriptions.delete(t))}unsubscribeAll(){this.subscriptions.forEach((t,r)=>{De.removeChannel(t)}),this.subscriptions.clear()}getActiveSubscriptionCount(){return this.subscriptions.size}isSubscribed(t){return this.subscriptions.has(t)}}let T4=null;function Gue(e){return T4||(T4=new Hue(e)),T4}function Q1(e={}){const{user:t,hasRole:r}=as(),n=Cn(),{toast:a}=zr(),i=Gue(n),{enableNotifications:s=!0,enablePayrollUpdates:o=!1,enableStaffUpdates:c=!1,enableDepartmentUpdates:u=!1}=e;return S.useEffect(()=>{if(t!=null&&t.id)return s&&i.subscribeToUserNotifications(t.id,f=>{if(f.eventType==="INSERT"&&f.new){const d=f.new;d.title.includes("System")||a({title:d.title,description:d.message,variant:d.type==="error"?"destructive":"default"})}}),o&&r(["super_admin","account_admin","payroll_admin"])&&i.subscribeToPayrollUpdates(f=>{var d,h;if(f.eventType==="UPDATE"&&((d=f.new)==null?void 0:d.status)!==((h=f.old)==null?void 0:h.status)){const p=f.new.status,g=f.new.period;a({title:"Payroll Status Updated",description:`Payroll for ${g} is now ${p.replace("_"," ")}`,variant:"default"})}}),c&&r(["super_admin","payroll_admin"])&&i.subscribeToStaffUpdates(f=>{f.eventType==="INSERT"&&a({title:"New Staff Added",description:`${f.new.first_name} ${f.new.last_name} has been added to the system`})}),u&&r(["super_admin","payroll_admin"])&&i.subscribeToDepartmentUpdates(f=>{f.eventType==="INSERT"&&a({title:"New Department Created",description:`Department "${f.new.name}" has been created`})}),()=>{s&&i.unsubscribe(`user-notifications-${t.id}`),o&&i.unsubscribe("payroll-updates"),c&&i.unsubscribe("staff-updates"),u&&i.unsubscribe("department-updates")}},[t==null?void 0:t.id,r,s,o,c,u,i,a]),{isConnected:t!=null&&t.id?i.getActiveSubscriptionCount()>0:!1,activeSubscriptions:i.getActiveSubscriptionCount()}}function Cb(e,t){const r=new Date(e),n=new Date(t);let a=0;const i=new Date(r);for(;i<=n;){const s=i.getDay();s!==0&&s!==6&&a++,i.setDate(i.getDate()+1)}return a}async function fz(){const{data:e,error:t}=await De.from("leave_types").select("*").eq("is_active",!0).order("name");if(t)throw t;return(e||[]).map(r=>({id:r.id,name:r.name,code:r.code,description:r.description,isPaid:r.is_paid,maxDaysPerYear:r.max_days_per_year,accrualRate:parseFloat(r.accrual_rate),requiresApproval:r.requires_approval,isActive:r.is_active}))}async function Kue(e){const{data:t,error:r}=await De.from("leave_types").insert({name:e.name,code:e.code.toUpperCase(),description:e.description,is_paid:e.isPaid,max_days_per_year:e.maxDaysPerYear,accrual_rate:e.accrualRate.toString(),requires_approval:e.requiresApproval,is_active:e.isActive}).select().single();if(r)throw r;return await fc({action:"leave_type_created",resource:"leave_types",resourceId:t.id,newValues:e}),{id:t.id,name:t.name,code:t.code,description:t.description,isPaid:t.is_paid,maxDaysPerYear:t.max_days_per_year,accrualRate:parseFloat(t.accrual_rate),requiresApproval:t.requires_approval,isActive:t.is_active}}async function Yue(e,t){const r={updated_at:new Date().toISOString()};t.name&&(r.name=t.name),t.code&&(r.code=t.code.toUpperCase()),t.description!==void 0&&(r.description=t.description),t.isPaid!==void 0&&(r.is_paid=t.isPaid),t.maxDaysPerYear&&(r.max_days_per_year=t.maxDaysPerYear),t.accrualRate!==void 0&&(r.accrual_rate=t.accrualRate.toString()),t.requiresApproval!==void 0&&(r.requires_approval=t.requiresApproval),t.isActive!==void 0&&(r.is_active=t.isActive);const{error:n}=await De.from("leave_types").update(r).eq("id",e);if(n)throw n;await fc({action:"leave_type_updated",resource:"leave_types",resourceId:e,newValues:t})}async function Xue(e){const{data:{user:t}}=await De.auth.getUser(),r=Cb(e.startDate,e.endDate),{data:n,error:a}=await De.from("leave_requests").insert({staff_id:e.staffId,leave_type_id:e.leaveTypeId,start_date:e.startDate,end_date:e.endDate,total_days:r,reason:e.reason,requested_by:t==null?void 0:t.id}).select().single();if(a)throw a;await fc({action:"leave_request_submitted",resource:"leave_requests",resourceId:n.id,newValues:{...e,totalDays:r}});const{data:i}=await De.from("users").select("id").in("role",["super_admin","account_admin","payroll_admin"]);if(i!=null&&i.length){const s=i.map(o=>({user_id:o.id,title:"New Leave Request",message:"A new leave request has been submitted and requires approval.",type:"info"}));await De.from("notifications").insert(s)}return n.id}async function Zue(e){const{data:t,error:r}=await De.from("leave_requests").select(`
      *,
      leave_types (
        name,
        code,
        is_paid
      ),
      approved_by_user:users!leave_requests_approved_by_fkey (
        email
      )
    `).eq("staff_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function Jue(){const{data:e,error:t}=await De.from("leave_requests").select(`
      *,
      staff (
        staff_id,
        first_name,
        last_name,
        departments!staff_department_id_fkey (
          name
        )
      ),
      leave_types (
        name,
        code,
        is_paid
      ),
      requested_by_user:users!leave_requests_requested_by_fkey (
        email
      )
    `).eq("status","pending").order("created_at",{ascending:!0});if(t)throw t;return e||[]}async function Que(e,t,r){var o,c;const{data:{user:n}}=await De.auth.getUser(),a={status:t,approved_by:n==null?void 0:n.id,approved_at:new Date().toISOString(),updated_at:new Date().toISOString()};r&&(a.approval_comments=r);const{data:i,error:s}=await De.from("leave_requests").update(a).eq("id",e).select(`
      *,
      staff (
        user_id,
        first_name,
        last_name
      ),
      leave_types (
        name
      )
    `).single();if(s)throw s;await fc({action:`leave_request_${t}`,resource:"leave_requests",resourceId:e,newValues:{status:t,comments:r}}),(o=i.staff)!=null&&o.user_id&&await De.from("notifications").insert({user_id:i.staff.user_id,title:`Leave Request ${t.charAt(0).toUpperCase()+t.slice(1)}`,message:`Your ${(c=i.leave_types)==null?void 0:c.name} request has been ${t}. ${r?`Comments: ${r}`:""}`,type:t==="approved"?"success":"warning"})}async function efe(e,t){const r=t||new Date().getFullYear(),{data:n,error:a}=await De.from("staff_leave_balances").select(`
      *,
      leave_types (
        name,
        code,
        is_paid,
        max_days_per_year
      )
    `).eq("staff_id",e).eq("year",r).order("leave_types(name)");if(a)throw a;return(n||[]).map(i=>({id:i.id,staffId:i.staff_id,leaveTypeId:i.leave_type_id,year:i.year,accruedDays:parseFloat(i.accrued_days),usedDays:parseFloat(i.used_days),remainingDays:parseFloat(i.remaining_days),carriedForward:parseFloat(i.carried_forward),leaveType:i.leave_types?{id:i.leave_type_id,name:i.leave_types.name,code:i.leave_types.code,isPaid:i.leave_types.is_paid,maxDaysPerYear:i.leave_types.max_days_per_year,accrualRate:0,requiresApproval:!0,isActive:!0}:void 0}))}async function tfe(e){const{error:t}=await De.rpc("initialize_staff_leave_balances",{staff_id_param:e});if(t)throw t;await fc({action:"leave_balances_initialized",resource:"staff_leave_balances",resourceId:e,newValues:{staffId:e}})}async function rfe(e,t,r,n){const a=n||new Date().getFullYear(),{data:i,error:s}=await De.from("leave_types").select("is_paid, name").eq("id",t).single();if(s)throw new Error("Could not verify the leave type.");if(!i.is_paid)return{hasBalance:!0,message:"Sufficient balance."};const{data:o,error:c}=await De.from("staff_leave_balances").select("remaining_days").eq("staff_id",e).eq("leave_type_id",t).eq("year",a).maybeSingle();if(c)throw c;if(!o||parseFloat(o.remaining_days)<r){const u=new Error("Insufficient leave balance.");throw u.code="PGRST116",u}return{hasBalance:!0,message:"Sufficient balance."}}async function nfe(e){const{error:t}=await De.from("leave_requests").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending");if(t)throw t;await fc({action:"leave_request_cancelled",resource:"leave_requests",resourceId:e,newValues:{status:"cancelled"}})}async function afe(e){const[t,r]=e.split("-"),n=`${t}-${r}-01`,a=new Date(parseInt(t),parseInt(r),0).toISOString().split("T")[0],{data:i,error:s}=await De.from("leave_requests").select(`
      *,
      staff (
        id,
        staff_id,
        first_name,
        last_name
      ),
      leave_types (
        name,
        is_paid
      )
    `).eq("status","approved").or(`start_date.lte.${a},end_date.gte.${n}`).order("start_date");if(s)throw s;return(i||[]).map(o=>{var m;const c=new Date(o.start_date),u=new Date(o.end_date),f=new Date(n),d=new Date(a),h=new Date(Math.max(c.getTime(),f.getTime())),p=new Date(Math.min(u.getTime(),d.getTime())),g=Cb(h.toISOString().split("T")[0],p.toISOString().split("T")[0]);return{...o,daysInPeriod:g,isPaid:((m=o.leave_types)==null?void 0:m.is_paid)||!1}})}async function ife(){var c,u;const e=new Date().toISOString().slice(0,7),t=new Date().toISOString().split("T")[0],[r,n,a,i]=await Promise.all([De.from("leave_requests").select("id",{count:"exact"}).eq("status","pending"),De.from("leave_requests").select("id",{count:"exact"}).eq("status","approved").gte("created_at",`${e}-01`),De.from("leave_requests").select("id",{count:"exact"}).eq("status","approved").lte("start_date",t).gte("end_date",t),De.from("leave_requests").select(`
        leave_type_id,
        leave_types (name)
      `).eq("status","approved").gte("created_at",`${new Date().getFullYear()}-01-01`)]),s={};(c=i.data)==null||c.forEach(f=>{var h;const d=((h=f.leave_types)==null?void 0:h.name)||"Unknown";s[d]=(s[d]||0)+1});const o=((u=Object.entries(s).sort(([,f],[,d])=>d-f)[0])==null?void 0:u[0])||"None";return{totalPendingRequests:r.count||0,totalApprovedThisMonth:n.count||0,totalStaffOnLeave:a.count||0,mostUsedLeaveType:o}}function dz(e,t={}){const{compact:r=!0,showSymbol:n=!0,precision:a=2}=t,i=typeof e=="string"?parseFloat(e):e;if(isNaN(i))return n?"₦0":"0";const s=n?"₦":"";if(r&&Math.abs(i)>=1e3){if(Math.abs(i)>=1e9){const o=i/1e9;return`${s}${o.toFixed(1)}B`}else if(Math.abs(i)>=1e6){const o=i/1e6;return`${s}${o.toFixed(1)}M`}else if(Math.abs(i)>=1e3){const o=i/1e3;return`${s}${o.toFixed(1)}K`}}return new Intl.NumberFormat("en-NG",{style:n?"currency":"decimal",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:Math.min(a,2)}).format(i)}function An(e){return dz(e,{compact:!0,showSymbol:!0})}function fo(e){return dz(e,{compact:!1,showSymbol:!0})}var ey=e=>e.type==="checkbox",Th=e=>e instanceof Date,ms=e=>e==null;const hz=e=>typeof e=="object";var _a=e=>!ms(e)&&!Array.isArray(e)&&hz(e)&&!Th(e),pz=e=>_a(e)&&e.target?ey(e.target)?e.target.checked:e.target.value:e,sfe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mz=(e,t)=>e.has(sfe(t)),ofe=e=>{const t=e.constructor&&e.constructor.prototype;return _a(t)&&t.hasOwnProperty("isPrototypeOf")},FC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(FC&&(e instanceof Blob||n))&&(r||_a(e)))if(t=r?[]:{},!r&&!ofe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=yi(e[a]));else return e;return t}var I5=e=>Array.isArray(e)?e.filter(Boolean):[],va=e=>e===void 0,Tt=(e,t,r)=>{if(!t||!_a(e))return r;const n=I5(t.split(/[,[\].]+?/)).reduce((a,i)=>ms(a)?a:a[i],e);return va(n)||n===e?va(e[t])?r:e[t]:n},ho=e=>typeof e=="boolean",DC=e=>/^\w*$/.test(e),gz=e=>I5(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nn=(e,t,r)=>{let n=-1;const a=DC(t)?[t]:gz(t),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=e[o];c=_a(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const Tb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vz=Ft.createContext(null),R5=()=>Ft.useContext(vz),lfe=e=>{const{children:t,...r}=e;return Ft.createElement(vz.Provider,{value:r},t)};var xz=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Hl.all&&(t._proxyFormState[s]=!n||Hl.all),r&&(r[s]=!0),e[s]}});return a};function cfe(e){const t=R5(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[s,o]=Ft.useState(r._formState),c=Ft.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ft.useRef(a);return u.current=a,Ft.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:f=>{!n&&o({...r._formState,...f})}}),[r,n,i]),Ft.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Ft.useMemo(()=>xz(s,r,c.current,!1),[s,r])}var Rc=e=>typeof e=="string",yz=(e,t,r,n,a)=>Rc(e)?(n&&t.watch.add(e),Tt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Tt(r,i))):(n&&(t.watchAll=!0),r);function ufe(e){const t=R5(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:s}=e||{},o=Ft.useRef(n),c=Ft.useRef(a);o.current=n,Ft.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:s,callback:d=>!i&&f(yz(o.current,r._names,d.values||r._formValues,!1,c.current))}),[r,i,s]);const[u,f]=Ft.useState(r._getWatch(n,a));return Ft.useEffect(()=>r._removeUnmounted()),u}function ffe(e){const t=R5(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,s=mz(a._names.array,r),o=ufe({control:a,name:r,defaultValue:Tt(a._formValues,r,Tt(a._defaultValues,r,e.defaultValue)),exact:!0}),c=cfe({control:a,name:r,exact:!0}),u=Ft.useRef(e),f=Ft.useRef(a.register(r,{...e.rules,value:o,...ho(e.disabled)?{disabled:e.disabled}:{}})),d=Ft.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Tt(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Tt(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Tt(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Tt(c.validatingFields,r)},error:{enumerable:!0,get:()=>Tt(c.errors,r)}}),[c,r]),h=Ft.useCallback(v=>f.current.onChange({target:{value:pz(v),name:r},type:Tb.CHANGE}),[r]),p=Ft.useCallback(()=>f.current.onBlur({target:{value:Tt(a._formValues,r),name:r},type:Tb.BLUR}),[r,a._formValues]),g=Ft.useCallback(v=>{const x=Tt(a._fields,r);x&&v&&(x._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:y=>v.setCustomValidity(y),reportValidity:()=>v.reportValidity()})},[a._fields,r]),m=Ft.useMemo(()=>({name:r,value:o,...ho(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:g}),[r,n,c.disabled,h,p,g,o]);return Ft.useEffect(()=>{const v=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...ho(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(y,b)=>{const j=Tt(a._fields,y);j&&j._f&&(j._f.mount=b)};if(x(r,!0),v){const y=yi(Tt(a._options.defaultValues,r));nn(a._defaultValues,r,y),va(Tt(a._formValues,r))&&nn(a._formValues,r,y)}return!s&&a.register(r),()=>{(s?v&&!a._state.action:v)?a.unregister(r):x(r,!1)}},[r,a,s,i]),Ft.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Ft.useMemo(()=>({field:m,formState:c,fieldState:d}),[m,c,d])}const dfe=e=>e.render(ffe(e));var wz=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},sx=e=>Array.isArray(e)?e:[e],dF=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},fA=e=>ms(e)||!hz(e);function Zf(e,t){if(fA(e)||fA(t))return e===t;if(Th(e)&&Th(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=t[a];if(Th(i)&&Th(s)||_a(i)&&_a(s)||Array.isArray(i)&&Array.isArray(s)?!Zf(i,s):i!==s)return!1}}return!0}var hs=e=>_a(e)&&!Object.keys(e).length,LC=e=>e.type==="file",Gl=e=>typeof e=="function",Pb=e=>{if(!FC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bz=e=>e.type==="select-multiple",IC=e=>e.type==="radio",hfe=e=>IC(e)||ey(e),P4=e=>Pb(e)&&e.isConnected;function pfe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=va(e)?n++:e[t[n++]];return e}function mfe(e){for(const t in e)if(e.hasOwnProperty(t)&&!va(e[t]))return!1;return!0}function Ba(e,t){const r=Array.isArray(t)?t:DC(t)?[t]:gz(t),n=r.length===1?e:pfe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(_a(n)&&hs(n)||Array.isArray(n)&&mfe(n))&&Ba(e,r.slice(0,-1)),e}var _z=e=>{for(const t in e)if(Gl(e[t]))return!0;return!1};function Ob(e,t={}){const r=Array.isArray(e);if(_a(e)||r)for(const n in e)Array.isArray(e[n])||_a(e[n])&&!_z(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ob(e[n],t[n])):ms(e[n])||(t[n]=!0);return t}function Sz(e,t,r){const n=Array.isArray(e);if(_a(e)||n)for(const a in e)Array.isArray(e[a])||_a(e[a])&&!_z(e[a])?va(t)||fA(r[a])?r[a]=Array.isArray(e[a])?Ob(e[a],[]):{...Ob(e[a])}:Sz(e[a],ms(t)?{}:t[a],r[a]):r[a]=!Zf(e[a],t[a]);return r}var xv=(e,t)=>Sz(e,t,Ob(t));const hF={value:!1,isValid:!1},pF={value:!0,isValid:!0};var jz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!va(e[0].attributes.value)?va(e[0].value)||e[0].value===""?pF:{value:e[0].value,isValid:!0}:pF:hF}return hF},Nz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>va(e)?e:t?e===""?NaN:e&&+e:r&&Rc(e)?new Date(e):n?n(e):e;const mF={isValid:!1,value:null};var kz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,mF):mF;function gF(e){const t=e.ref;return LC(t)?t.files:IC(t)?kz(e.refs).value:bz(t)?[...t.selectedOptions].map(({value:r})=>r):ey(t)?jz(e.refs).value:Nz(va(t.value)?e.ref.value:t.value,e)}var gfe=(e,t,r,n)=>{const a={};for(const i of e){const s=Tt(t,i);s&&nn(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Fb=e=>e instanceof RegExp,yv=e=>va(e)?e:Fb(e)?e.source:_a(e)?Fb(e.value)?e.value.source:e.value:e,vF=e=>({isOnSubmit:!e||e===Hl.onSubmit,isOnBlur:e===Hl.onBlur,isOnChange:e===Hl.onChange,isOnAll:e===Hl.all,isOnTouch:e===Hl.onTouched});const xF="AsyncFunction";var vfe=e=>!!e&&!!e.validate&&!!(Gl(e.validate)&&e.validate.constructor.name===xF||_a(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xF)),xfe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yF=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ox=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Tt(e,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(ox(o,t))break}else if(_a(o)&&ox(o,t))break}}};function wF(e,t,r){const n=Tt(e,r);if(n||DC(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=Tt(t,i),o=Tt(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var yfe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return hs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Hl.all))},wfe=(e,t,r)=>!e||!t||e===t||sx(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),bfe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,_fe=(e,t)=>!I5(Tt(e,t)).length&&Ba(e,t),Sfe=(e,t,r)=>{const n=sx(Tt(e,r));return nn(n,"root",t[r]),nn(e,r,n),e},Lw=e=>Rc(e);function bF(e,t,r="validate"){if(Lw(e)||Array.isArray(e)&&e.every(Lw)||ho(e)&&!e)return{type:r,message:Lw(e)?e:"",ref:t}}var Sp=e=>_a(e)&&!Fb(e)?e:{value:e,message:""},_F=async(e,t,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:f,min:d,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:x}=e._f,y=Tt(r,m);if(!x||t.has(m))return{};const b=o?o[0]:s,j=P=>{a&&b.reportValidity&&(b.setCustomValidity(ho(P)?"":P||""),b.reportValidity())},k={},O=IC(s),N=ey(s),E=O||N,D=(v||LC(s))&&va(s.value)&&va(y)||Pb(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,M=wz.bind(null,m,n,k),C=(P,R,U,ee=yu.maxLength,J=yu.minLength)=>{const ae=P?R:U;k[m]={type:P?ee:J,message:ae,ref:s,...M(P?ee:J,ae)}};if(i?!Array.isArray(y)||!y.length:c&&(!E&&(D||ms(y))||ho(y)&&!y||N&&!jz(o).isValid||O&&!kz(o).isValid)){const{value:P,message:R}=Lw(c)?{value:!!c,message:c}:Sp(c);if(P&&(k[m]={type:yu.required,message:R,ref:b,...M(yu.required,R)},!n))return j(R),k}if(!D&&(!ms(d)||!ms(h))){let P,R;const U=Sp(h),ee=Sp(d);if(!ms(y)&&!isNaN(y)){const J=s.valueAsNumber||y&&+y;ms(U.value)||(P=J>U.value),ms(ee.value)||(R=J<ee.value)}else{const J=s.valueAsDate||new Date(y),ae=fe=>new Date(new Date().toDateString()+" "+fe),X=s.type=="time",W=s.type=="week";Rc(U.value)&&y&&(P=X?ae(y)>ae(U.value):W?y>U.value:J>new Date(U.value)),Rc(ee.value)&&y&&(R=X?ae(y)<ae(ee.value):W?y<ee.value:J<new Date(ee.value))}if((P||R)&&(C(!!P,U.message,ee.message,yu.max,yu.min),!n))return j(k[m].message),k}if((u||f)&&!D&&(Rc(y)||i&&Array.isArray(y))){const P=Sp(u),R=Sp(f),U=!ms(P.value)&&y.length>+P.value,ee=!ms(R.value)&&y.length<+R.value;if((U||ee)&&(C(U,P.message,R.message),!n))return j(k[m].message),k}if(p&&!D&&Rc(y)){const{value:P,message:R}=Sp(p);if(Fb(P)&&!y.match(P)&&(k[m]={type:yu.pattern,message:R,ref:s,...M(yu.pattern,R)},!n))return j(R),k}if(g){if(Gl(g)){const P=await g(y,r),R=bF(P,b);if(R&&(k[m]={...R,...M(yu.validate,R.message)},!n))return j(R.message),k}else if(_a(g)){let P={};for(const R in g){if(!hs(P)&&!n)break;const U=bF(await g[R](y,r),b,R);U&&(P={...U,...M(R,U.message)},j(U.message),n&&(k[m]=P))}if(!hs(P)&&(k[m]={ref:b,...P},!n))return k}}return j(!0),k};const jfe={mode:Hl.onSubmit,reValidateMode:Hl.onChange,shouldFocusError:!0};function Nfe(e={}){let t={...jfe,...e},r={submitCount:0,isDirty:!1,isLoading:Gl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=_a(t.defaultValues)||_a(t.values)?yi(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:yi(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const h={array:dF(),state:dF()},p=vF(t.mode),g=vF(t.reValidateMode),m=t.criteriaMode===Hl.all,v=le=>ve=>{clearTimeout(u),u=setTimeout(le,ve)},x=async le=>{if(!t.disabled&&(f.isValid||d.isValid||le)){const ve=t.resolver?hs((await D()).errors):await C(n,!0);ve!==r.isValid&&h.state.next({isValid:ve})}},y=(le,ve)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((le||Array.from(o.mount)).forEach(ke=>{ke&&(ve?nn(r.validatingFields,ke,ve):Ba(r.validatingFields,ke))}),h.state.next({validatingFields:r.validatingFields,isValidating:!hs(r.validatingFields)}))},b=(le,ve=[],ke,Ge,He=!0,qe=!0)=>{if(Ge&&ke&&!t.disabled){if(s.action=!0,qe&&Array.isArray(Tt(n,le))){const tt=ke(Tt(n,le),Ge.argA,Ge.argB);He&&nn(n,le,tt)}if(qe&&Array.isArray(Tt(r.errors,le))){const tt=ke(Tt(r.errors,le),Ge.argA,Ge.argB);He&&nn(r.errors,le,tt),_fe(r.errors,le)}if((f.touchedFields||d.touchedFields)&&qe&&Array.isArray(Tt(r.touchedFields,le))){const tt=ke(Tt(r.touchedFields,le),Ge.argA,Ge.argB);He&&nn(r.touchedFields,le,tt)}(f.dirtyFields||d.dirtyFields)&&(r.dirtyFields=xv(a,i)),h.state.next({name:le,isDirty:R(le,ve),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else nn(i,le,ve)},j=(le,ve)=>{nn(r.errors,le,ve),h.state.next({errors:r.errors})},k=le=>{r.errors=le,h.state.next({errors:r.errors,isValid:!1})},O=(le,ve,ke,Ge)=>{const He=Tt(n,le);if(He){const qe=Tt(i,le,va(ke)?Tt(a,le):ke);va(qe)||Ge&&Ge.defaultChecked||ve?nn(i,le,ve?qe:gF(He._f)):J(le,qe),s.mount&&x()}},N=(le,ve,ke,Ge,He)=>{let qe=!1,tt=!1;const vt={name:le};if(!t.disabled){if(!ke||Ge){(f.isDirty||d.isDirty)&&(tt=r.isDirty,r.isDirty=vt.isDirty=R(),qe=tt!==vt.isDirty);const dt=Zf(Tt(a,le),ve);tt=!!Tt(r.dirtyFields,le),dt?Ba(r.dirtyFields,le):nn(r.dirtyFields,le,!0),vt.dirtyFields=r.dirtyFields,qe=qe||(f.dirtyFields||d.dirtyFields)&&tt!==!dt}if(ke){const dt=Tt(r.touchedFields,le);dt||(nn(r.touchedFields,le,ke),vt.touchedFields=r.touchedFields,qe=qe||(f.touchedFields||d.touchedFields)&&dt!==ke)}qe&&He&&h.state.next(vt)}return qe?vt:{}},E=(le,ve,ke,Ge)=>{const He=Tt(r.errors,le),qe=(f.isValid||d.isValid)&&ho(ve)&&r.isValid!==ve;if(t.delayError&&ke?(c=v(()=>j(le,ke)),c(t.delayError)):(clearTimeout(u),c=null,ke?nn(r.errors,le,ke):Ba(r.errors,le)),(ke?!Zf(He,ke):He)||!hs(Ge)||qe){const tt={...Ge,...qe&&ho(ve)?{isValid:ve}:{},errors:r.errors,name:le};r={...r,...tt},h.state.next(tt)}},D=async le=>{y(le,!0);const ve=await t.resolver(i,t.context,gfe(le||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(le),ve},M=async le=>{const{errors:ve}=await D(le);if(le)for(const ke of le){const Ge=Tt(ve,ke);Ge?nn(r.errors,ke,Ge):Ba(r.errors,ke)}else r.errors=ve;return ve},C=async(le,ve,ke={valid:!0})=>{for(const Ge in le){const He=le[Ge];if(He){const{_f:qe,...tt}=He;if(qe){const vt=o.array.has(qe.name),dt=He._f&&vfe(He._f);dt&&f.validatingFields&&y([Ge],!0);const et=await _F(He,o.disabled,i,m,t.shouldUseNativeValidation&&!ve,vt);if(dt&&f.validatingFields&&y([Ge]),et[qe.name]&&(ke.valid=!1,ve))break;!ve&&(Tt(et,qe.name)?vt?Sfe(r.errors,et,qe.name):nn(r.errors,qe.name,et[qe.name]):Ba(r.errors,qe.name))}!hs(tt)&&await C(tt,ve,ke)}}return ke.valid},P=()=>{for(const le of o.unMount){const ve=Tt(n,le);ve&&(ve._f.refs?ve._f.refs.every(ke=>!P4(ke)):!P4(ve._f.ref))&&Q(le)}o.unMount=new Set},R=(le,ve)=>!t.disabled&&(le&&ve&&nn(i,le,ve),!Zf(T(),a)),U=(le,ve,ke)=>yz(le,o,{...s.mount?i:va(ve)?a:Rc(le)?{[le]:ve}:ve},ke,ve),ee=le=>I5(Tt(s.mount?i:a,le,t.shouldUnregister?Tt(a,le,[]):[])),J=(le,ve,ke={})=>{const Ge=Tt(n,le);let He=ve;if(Ge){const qe=Ge._f;qe&&(!qe.disabled&&nn(i,le,Nz(ve,qe)),He=Pb(qe.ref)&&ms(ve)?"":ve,bz(qe.ref)?[...qe.ref.options].forEach(tt=>tt.selected=He.includes(tt.value)):qe.refs?ey(qe.ref)?qe.refs.length>1?qe.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(He)?!!He.find(vt=>vt===tt.value):He===tt.value)):qe.refs[0]&&(qe.refs[0].checked=!!He):qe.refs.forEach(tt=>tt.checked=tt.value===He):LC(qe.ref)?qe.ref.value="":(qe.ref.value=He,qe.ref.type||h.state.next({name:le,values:yi(i)})))}(ke.shouldDirty||ke.shouldTouch)&&N(le,He,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&Se(le)},ae=(le,ve,ke)=>{for(const Ge in ve){const He=ve[Ge],qe=`${le}.${Ge}`,tt=Tt(n,qe);(o.array.has(le)||_a(He)||tt&&!tt._f)&&!Th(He)?ae(qe,He,ke):J(qe,He,ke)}},X=(le,ve,ke={})=>{const Ge=Tt(n,le),He=o.array.has(le),qe=yi(ve);nn(i,le,qe),He?(h.array.next({name:le,values:yi(i)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&ke.shouldDirty&&h.state.next({name:le,dirtyFields:xv(a,i),isDirty:R(le,qe)})):Ge&&!Ge._f&&!ms(qe)?ae(le,qe,ke):J(le,qe,ke),yF(le,o)&&h.state.next({...r}),h.state.next({name:s.mount?le:void 0,values:yi(i)})},W=async le=>{s.mount=!0;const ve=le.target;let ke=ve.name,Ge=!0;const He=Tt(n,ke),qe=tt=>{Ge=Number.isNaN(tt)||Th(tt)&&isNaN(tt.getTime())||Zf(tt,Tt(i,ke,tt))};if(He){let tt,vt;const dt=ve.type?gF(He._f):pz(le),et=le.type===Tb.BLUR||le.type===Tb.FOCUS_OUT,en=!xfe(He._f)&&!t.resolver&&!Tt(r.errors,ke)&&!He._f.deps||bfe(et,Tt(r.touchedFields,ke),r.isSubmitted,g,p),Vt=yF(ke,o,et);nn(i,ke,dt),et?(He._f.onBlur&&He._f.onBlur(le),c&&c(0)):He._f.onChange&&He._f.onChange(le);const Gn=N(ke,dt,et),Yr=!hs(Gn)||Vt;if(!et&&h.state.next({name:ke,type:le.type,values:yi(i)}),en)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?et&&x():et||x()),Yr&&h.state.next({name:ke,...Vt?{}:Gn});if(!et&&Vt&&h.state.next({...r}),t.resolver){const{errors:sn}=await D([ke]);if(qe(dt),Ge){const Cs=wF(r.errors,n,ke),Rr=wF(sn,n,Cs.name||ke);tt=Rr.error,ke=Rr.name,vt=hs(sn)}}else y([ke],!0),tt=(await _F(He,o.disabled,i,m,t.shouldUseNativeValidation))[ke],y([ke]),qe(dt),Ge&&(tt?vt=!1:(f.isValid||d.isValid)&&(vt=await C(n,!0)));Ge&&(He._f.deps&&Se(He._f.deps),E(ke,vt,tt,Gn))}},fe=(le,ve)=>{if(Tt(r.errors,ve)&&le.focus)return le.focus(),1},Se=async(le,ve={})=>{let ke,Ge;const He=sx(le);if(t.resolver){const qe=await M(va(le)?le:He);ke=hs(qe),Ge=le?!He.some(tt=>Tt(qe,tt)):ke}else le?(Ge=(await Promise.all(He.map(async qe=>{const tt=Tt(n,qe);return await C(tt&&tt._f?{[qe]:tt}:tt)}))).every(Boolean),!(!Ge&&!r.isValid)&&x()):Ge=ke=await C(n);return h.state.next({...!Rc(le)||(f.isValid||d.isValid)&&ke!==r.isValid?{}:{name:le},...t.resolver||!le?{isValid:ke}:{},errors:r.errors}),ve.shouldFocus&&!Ge&&ox(n,fe,le?He:o.mount),Ge},T=le=>{const ve={...s.mount?i:a};return va(le)?ve:Rc(le)?Tt(ve,le):le.map(ke=>Tt(ve,ke))},L=(le,ve)=>({invalid:!!Tt((ve||r).errors,le),isDirty:!!Tt((ve||r).dirtyFields,le),error:Tt((ve||r).errors,le),isValidating:!!Tt(r.validatingFields,le),isTouched:!!Tt((ve||r).touchedFields,le)}),B=le=>{le&&sx(le).forEach(ve=>Ba(r.errors,ve)),h.state.next({errors:le?r.errors:{}})},z=(le,ve,ke)=>{const Ge=(Tt(n,le,{_f:{}})._f||{}).ref,He=Tt(r.errors,le)||{},{ref:qe,message:tt,type:vt,...dt}=He;nn(r.errors,le,{...dt,...ve,ref:Ge}),h.state.next({name:le,errors:r.errors,isValid:!1}),ke&&ke.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},te=(le,ve)=>Gl(le)?h.state.subscribe({next:ke=>le(U(void 0,ve),ke)}):U(le,ve,!0),ie=le=>h.state.subscribe({next:ve=>{wfe(le.name,ve.name,le.exact)&&yfe(ve,le.formState||f,Je,le.reRenderRoot)&&le.callback({values:{...i},...r,...ve})}}).unsubscribe,pe=le=>(s.mount=!0,d={...d,...le.formState},ie({...le,formState:d})),Q=(le,ve={})=>{for(const ke of le?sx(le):o.mount)o.mount.delete(ke),o.array.delete(ke),ve.keepValue||(Ba(n,ke),Ba(i,ke)),!ve.keepError&&Ba(r.errors,ke),!ve.keepDirty&&Ba(r.dirtyFields,ke),!ve.keepTouched&&Ba(r.touchedFields,ke),!ve.keepIsValidating&&Ba(r.validatingFields,ke),!t.shouldUnregister&&!ve.keepDefaultValue&&Ba(a,ke);h.state.next({values:yi(i)}),h.state.next({...r,...ve.keepDirty?{isDirty:R()}:{}}),!ve.keepIsValid&&x()},ge=({disabled:le,name:ve})=>{(ho(le)&&s.mount||le||o.disabled.has(ve))&&(le?o.disabled.add(ve):o.disabled.delete(ve))},_e=(le,ve={})=>{let ke=Tt(n,le);const Ge=ho(ve.disabled)||ho(t.disabled);return nn(n,le,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:le}},name:le,mount:!0,...ve}}),o.mount.add(le),ke?ge({disabled:ho(ve.disabled)?ve.disabled:t.disabled,name:le}):O(le,!0,ve.value),{...Ge?{disabled:ve.disabled||t.disabled}:{},...t.progressive?{required:!!ve.required,min:yv(ve.min),max:yv(ve.max),minLength:yv(ve.minLength),maxLength:yv(ve.maxLength),pattern:yv(ve.pattern)}:{},name:le,onChange:W,onBlur:W,ref:He=>{if(He){_e(le,ve),ke=Tt(n,le);const qe=va(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,tt=hfe(qe),vt=ke._f.refs||[];if(tt?vt.find(dt=>dt===qe):qe===ke._f.ref)return;nn(n,le,{_f:{...ke._f,...tt?{refs:[...vt.filter(P4),qe,...Array.isArray(Tt(a,le))?[{}]:[]],ref:{type:qe.type,name:le}}:{ref:qe}}}),O(le,!1,void 0,qe)}else ke=Tt(n,le,{}),ke._f&&(ke._f.mount=!1),(t.shouldUnregister||ve.shouldUnregister)&&!(mz(o.array,le)&&s.action)&&o.unMount.add(le)}}},q=()=>t.shouldFocusError&&ox(n,fe,o.mount),Be=le=>{ho(le)&&(h.state.next({disabled:le}),ox(n,(ve,ke)=>{const Ge=Tt(n,ke);Ge&&(ve.disabled=Ge._f.disabled||le,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(He=>{He.disabled=Ge._f.disabled||le}))},0,!1))},We=(le,ve)=>async ke=>{let Ge;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let He=yi(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:qe,values:tt}=await D();r.errors=qe,He=tt}else await C(n);if(o.disabled.size)for(const qe of o.disabled)nn(He,qe,void 0);if(Ba(r.errors,"root"),hs(r.errors)){h.state.next({errors:{}});try{await le(He,ke)}catch(qe){Ge=qe}}else ve&&await ve({...r.errors},ke),q(),setTimeout(q);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hs(r.errors)&&!Ge,submitCount:r.submitCount+1,errors:r.errors}),Ge)throw Ge},Ae=(le,ve={})=>{Tt(n,le)&&(va(ve.defaultValue)?X(le,yi(Tt(a,le))):(X(le,ve.defaultValue),nn(a,le,yi(ve.defaultValue))),ve.keepTouched||Ba(r.touchedFields,le),ve.keepDirty||(Ba(r.dirtyFields,le),r.isDirty=ve.defaultValue?R(le,yi(Tt(a,le))):R()),ve.keepError||(Ba(r.errors,le),f.isValid&&x()),h.state.next({...r}))},se=(le,ve={})=>{const ke=le?yi(le):a,Ge=yi(ke),He=hs(le),qe=He?a:Ge;if(ve.keepDefaultValues||(a=ke),!ve.keepValues){if(ve.keepDirtyValues){const tt=new Set([...o.mount,...Object.keys(xv(a,i))]);for(const vt of Array.from(tt))Tt(r.dirtyFields,vt)?nn(qe,vt,Tt(i,vt)):X(vt,Tt(qe,vt))}else{if(FC&&va(le))for(const tt of o.mount){const vt=Tt(n,tt);if(vt&&vt._f){const dt=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(Pb(dt)){const et=dt.closest("form");if(et){et.reset();break}}}}for(const tt of o.mount)X(tt,Tt(qe,tt))}i=yi(qe),h.array.next({values:{...qe}}),h.state.next({values:{...qe}})}o={mount:ve.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?r.submitCount:0,isDirty:He?!1:ve.keepDirty?r.isDirty:!!(ve.keepDefaultValues&&!Zf(le,a)),isSubmitted:ve.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:ve.keepDirtyValues?ve.keepDefaultValues&&i?xv(a,i):r.dirtyFields:ve.keepDefaultValues&&le?xv(a,le):ve.keepDirty?r.dirtyFields:{},touchedFields:ve.keepTouched?r.touchedFields:{},errors:ve.keepErrors?r.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=(le,ve)=>se(Gl(le)?le(i):le,ve),yt=(le,ve={})=>{const ke=Tt(n,le),Ge=ke&&ke._f;if(Ge){const He=Ge.refs?Ge.refs[0]:Ge.ref;He.focus&&(He.focus(),ve.shouldSelect&&Gl(He.select)&&He.select())}},Je=le=>{r={...r,...le}},wt={control:{register:_e,unregister:Q,getFieldState:L,handleSubmit:We,setError:z,_subscribe:ie,_runSchema:D,_getWatch:U,_getDirty:R,_setValid:x,_setFieldArray:b,_setDisabledField:ge,_setErrors:k,_getFieldArray:ee,_reset:se,_resetDefaultValues:()=>Gl(t.defaultValues)&&t.defaultValues().then(le=>{Ie(le,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Be,_subjects:h,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(le){s=le},get _defaultValues(){return a},get _names(){return o},set _names(le){o=le},get _formState(){return r},get _options(){return t},set _options(le){t={...t,...le}}},subscribe:pe,trigger:Se,register:_e,handleSubmit:We,watch:te,setValue:X,getValues:T,reset:Ie,resetField:Ae,clearErrors:B,unregister:Q,setError:z,setFocus:yt,getFieldState:L};return{...wt,formControl:wt}}function si(e={}){const t=Ft.useRef(void 0),r=Ft.useRef(void 0),[n,a]=Ft.useState({isDirty:!1,isValidating:!1,isLoading:Gl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Gl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Nfe(e),formState:n},e.formControl&&e.defaultValues&&!Gl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Ft.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),Ft.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ft.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),Ft.useEffect(()=>{e.values&&!Zf(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[e.values,i]),Ft.useEffect(()=>{e.errors&&!hs(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),Ft.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ft.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=xz(n,i),t.current}const SF=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Tt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Az=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?SF(n.ref,r,e):n.refs&&n.refs.forEach(a=>SF(a,r,e))}},kfe=(e,t)=>{t.shouldUseNativeValidation&&Az(e,t);const r={};for(const n in e){const a=Tt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Afe(t.names||Object.keys(e),n)){const s=Object.assign({},Tt(r,n));nn(s,"root",i),nn(r,n,s)}else nn(r,n,i)}return r},Afe=(e,t)=>e.some(r=>r.startsWith(t+"."));var Efe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=wz(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},oi=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Az({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:kfe(Efe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},Wr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Wr||(Wr={}));var dA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dA||(dA={}));const Bt=Wr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Eu=e=>{switch(typeof e){case"undefined":return Bt.undefined;case"string":return Bt.string;case"number":return isNaN(e)?Bt.nan:Bt.number;case"boolean":return Bt.boolean;case"function":return Bt.function;case"bigint":return Bt.bigint;case"symbol":return Bt.symbol;case"object":return Array.isArray(e)?Bt.array:e===null?Bt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Bt.promise:typeof Map<"u"&&e instanceof Map?Bt.map:typeof Set<"u"&&e instanceof Set?Bt.set:typeof Date<"u"&&e instanceof Date?Bt.date:Bt.object;default:return Bt.unknown}},ht=Wr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cfe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ao extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Ao))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ao.create=e=>new Ao(e);const Km=(e,t)=>{let r;switch(e.code){case ht.invalid_type:e.received===Bt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Wr.jsonStringifyReplacer)}`;break;case ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${Wr.joinValues(e.keys,", ")}`;break;case ht.invalid_union:r="Invalid input";break;case ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Wr.joinValues(e.options)}`;break;case ht.invalid_enum_value:r=`Invalid enum value. Expected ${Wr.joinValues(e.options)}, received '${e.received}'`;break;case ht.invalid_arguments:r="Invalid function arguments";break;case ht.invalid_return_type:r="Invalid function return type";break;case ht.invalid_date:r="Invalid date";break;case ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Wr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ht.custom:r="Invalid input";break;case ht.invalid_intersection_types:r="Intersection results could not be merged";break;case ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,Wr.assertNever(e)}return{message:r}};let Ez=Km;function Tfe(e){Ez=e}function Db(){return Ez}const Lb=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}},Pfe=[];function Ot(e,t){const r=Db(),n=Lb({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Km?void 0:Km].filter(a=>!!a)});e.common.issues.push(n)}class is{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return or;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return is.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return or;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const or=Object.freeze({status:"aborted"}),Yp=e=>({status:"dirty",value:e}),Ss=e=>({status:"valid",value:e}),hA=e=>e.status==="aborted",pA=e=>e.status==="dirty",p0=e=>e.status==="valid",Gx=e=>typeof Promise<"u"&&e instanceof Promise;function Ib(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Cz(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var qt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qt||(qt={}));var Mv,Bv;class Jc{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jF=(e,t)=>{if(p0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ao(e.common.issues);return this._error=r,this._error}}};function vr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,o)=>{var c,u;const{message:f}=e;return s.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:o.defaultError}},description:a}}class Sr{get description(){return this._def.description}_getType(t){return Eu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Eu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new is,ctx:{common:t.parent.common,data:t.data,parsedType:Eu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Gx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eu(t)},i=this._parseSync({data:t,path:a.path,parent:a});return jF(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eu(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return p0(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>p0(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eu(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Gx(a)?a:Promise.resolve(a));return jF(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),o=()=>i.addIssue({code:ht.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new cc({schema:this,typeName:ir.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Hc.create(this,this._def)}nullable(){return Ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rc.create(this)}promise(){return Xm.create(this,this._def)}or(t){return Zx.create([this,t],this._def)}and(t){return Jx.create(this,t,this._def)}transform(t){return new cc({...vr(this._def),schema:this,typeName:ir.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new n1({...vr(this._def),innerType:this,defaultValue:r,typeName:ir.ZodDefault})}brand(){return new RC({typeName:ir.ZodBranded,type:this,...vr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new a1({...vr(this._def),innerType:this,catchValue:r,typeName:ir.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ty.create(this,t)}readonly(){return i1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ofe=/^c[^\s-]{8,}$/i,Ffe=/^[0-9a-z]+$/,Dfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Lfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ife=/^[a-z0-9_-]{21}$/i,Rfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ufe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O4;const $fe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Hfe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gfe=new RegExp(`^${Tz}$`);function Pz(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Kfe(e){return new RegExp(`^${Pz(e)}$`)}function Oz(e){let t=`${Tz}T${Pz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Yfe(e,t){return!!((t==="v4"||!t)&&$fe.test(e)||(t==="v6"||!t)&&qfe.test(e))}function Xfe(e,t){if(!Rfe.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Zfe(e,t){return!!((t==="v4"||!t)&&zfe.test(e)||(t==="v6"||!t)&&Wfe.test(e))}class Xl extends Sr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Bt.string){const i=this._getOrReturnCtx(t);return Ot(i,{code:ht.invalid_type,expected:Bt.string,received:i.parsedType}),or}const n=new is;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(t,a),s?Ot(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Ot(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Bfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"email",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")O4||(O4=new RegExp(Ufe,"u")),O4.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"emoji",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Lfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"uuid",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Ife.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"nanoid",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ofe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cuid",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ffe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cuid2",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Dfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"ulid",code:ht.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ot(a,{validation:"url",code:ht.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"regex",code:ht.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Oz(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Gfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Kfe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Mfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"duration",code:ht.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Yfe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"ip",code:ht.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Xfe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"jwt",code:ht.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Zfe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"cidr",code:ht.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Vfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"base64",code:ht.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Hfe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ot(a,{validation:"base64url",code:ht.invalid_string,message:i.message}),n.dirty()):Wr.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ht.invalid_string,...qt.errToObj(n)})}_addCheck(t){return new Xl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...qt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...qt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...qt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...qt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...qt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...qt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...qt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...qt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...qt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...qt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...qt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...qt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...qt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...qt.errToObj(r)})}nonempty(t){return this.min(1,qt.errToObj(t))}trim(){return new Xl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xl.create=e=>{var t;return new Xl({checks:[],typeName:ir.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...vr(e)})};function Jfe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class Od extends Sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Bt.number){const i=this._getOrReturnCtx(t);return Ot(i,{code:ht.invalid_type,expected:Bt.number,received:i.parsedType}),or}let n;const a=new is;for(const i of this._def.checks)i.kind==="int"?Wr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Jfe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.not_finite,message:i.message}),a.dirty()):Wr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qt.toString(r))}setLimit(t,r,n,a){return new Od({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qt.toString(a)}]})}_addCheck(t){return new Od({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:qt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Wr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Od.create=e=>new Od({checks:[],typeName:ir.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vr(e)});class Fd extends Sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Bt.bigint)return this._getInvalidInput(t);let n;const a=new is;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ot(n,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Wr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ot(r,{code:ht.invalid_type,expected:Bt.bigint,received:r.parsedType}),or}gte(t,r){return this.setLimit("min",t,!0,qt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qt.toString(r))}setLimit(t,r,n,a){return new Fd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qt.toString(a)}]})}_addCheck(t){return new Fd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fd.create=e=>{var t;return new Fd({checks:[],typeName:ir.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...vr(e)})};class Kx extends Sr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Bt.boolean){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.boolean,received:n.parsedType}),or}return Ss(t.data)}}Kx.create=e=>new Kx({typeName:ir.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vr(e)});class m0 extends Sr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Bt.date){const i=this._getOrReturnCtx(t);return Ot(i,{code:ht.invalid_type,expected:Bt.date,received:i.parsedType}),or}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ot(i,{code:ht.invalid_date}),or}const n=new is;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ot(a,{code:ht.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Wr.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new m0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}m0.create=e=>new m0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ir.ZodDate,...vr(e)});class Rb extends Sr{_parse(t){if(this._getType(t)!==Bt.symbol){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.symbol,received:n.parsedType}),or}return Ss(t.data)}}Rb.create=e=>new Rb({typeName:ir.ZodSymbol,...vr(e)});class Yx extends Sr{_parse(t){if(this._getType(t)!==Bt.undefined){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.undefined,received:n.parsedType}),or}return Ss(t.data)}}Yx.create=e=>new Yx({typeName:ir.ZodUndefined,...vr(e)});class Xx extends Sr{_parse(t){if(this._getType(t)!==Bt.null){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.null,received:n.parsedType}),or}return Ss(t.data)}}Xx.create=e=>new Xx({typeName:ir.ZodNull,...vr(e)});class Ym extends Sr{constructor(){super(...arguments),this._any=!0}_parse(t){return Ss(t.data)}}Ym.create=e=>new Ym({typeName:ir.ZodAny,...vr(e)});class Hh extends Sr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ss(t.data)}}Hh.create=e=>new Hh({typeName:ir.ZodUnknown,...vr(e)});class tf extends Sr{_parse(t){const r=this._getOrReturnCtx(t);return Ot(r,{code:ht.invalid_type,expected:Bt.never,received:r.parsedType}),or}}tf.create=e=>new tf({typeName:ir.ZodNever,...vr(e)});class Mb extends Sr{_parse(t){if(this._getType(t)!==Bt.undefined){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.void,received:n.parsedType}),or}return Ss(t.data)}}Mb.create=e=>new Mb({typeName:ir.ZodVoid,...vr(e)});class rc extends Sr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Bt.array)return Ot(r,{code:ht.invalid_type,expected:Bt.array,received:r.parsedType}),or;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(Ot(r,{code:s?ht.too_big:ht.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ot(r,{code:ht.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ot(r,{code:ht.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new Jc(r,s,r.path,o)))).then(s=>is.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new Jc(r,s,r.path,o)));return is.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new rc({...this._def,minLength:{value:t,message:qt.toString(r)}})}max(t,r){return new rc({...this._def,maxLength:{value:t,message:qt.toString(r)}})}length(t,r){return new rc({...this._def,exactLength:{value:t,message:qt.toString(r)}})}nonempty(t){return this.min(1,t)}}rc.create=(e,t)=>new rc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ir.ZodArray,...vr(t)});function Fp(e){if(e instanceof Yn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Hc.create(Fp(n))}return new Yn({...e._def,shape:()=>t})}else return e instanceof rc?new rc({...e._def,type:Fp(e.element)}):e instanceof Hc?Hc.create(Fp(e.unwrap())):e instanceof Ld?Ld.create(Fp(e.unwrap())):e instanceof Qc?Qc.create(e.items.map(t=>Fp(t))):e}class Yn extends Sr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Wr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Bt.object){const u=this._getOrReturnCtx(t);return Ot(u,{code:ht.invalid_type,expected:Bt.object,received:u.parsedType}),or}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof tf&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const f=i[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Jc(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof tf){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(u==="strict")o.length>0&&(Ot(a,{code:ht.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of o){const d=a.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Jc(a,d,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>is.mergeObjectSync(n,u)):is.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qt.errToObj,new Yn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,s,o;const c=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=qt.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Yn({...this._def,unknownKeys:"strip"})}passthrough(){return new Yn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Yn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Yn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ir.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Yn({...this._def,catchall:t})}pick(t){const r={};return Wr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Yn({...this._def,shape:()=>r})}omit(t){const r={};return Wr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Yn({...this._def,shape:()=>r})}deepPartial(){return Fp(this)}partial(t){const r={};return Wr.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Yn({...this._def,shape:()=>r})}required(t){const r={};return Wr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Hc;)i=i._def.innerType;r[n]=i}}),new Yn({...this._def,shape:()=>r})}keyof(){return Fz(Wr.objectKeys(this.shape))}}Yn.create=(e,t)=>new Yn({shape:()=>e,unknownKeys:"strip",catchall:tf.create(),typeName:ir.ZodObject,...vr(t)});Yn.strictCreate=(e,t)=>new Yn({shape:()=>e,unknownKeys:"strict",catchall:tf.create(),typeName:ir.ZodObject,...vr(t)});Yn.lazycreate=(e,t)=>new Yn({shape:e,unknownKeys:"strip",catchall:tf.create(),typeName:ir.ZodObject,...vr(t)});class Zx extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new Ao(o.ctx.common.issues));return Ot(r,{code:ht.invalid_union,unionErrors:s}),or}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(c=>new Ao(c));return Ot(r,{code:ht.invalid_union,unionErrors:o}),or}}get options(){return this._def.options}}Zx.create=(e,t)=>new Zx({options:e,typeName:ir.ZodUnion,...vr(t)});const Su=e=>e instanceof e1?Su(e.schema):e instanceof cc?Su(e.innerType()):e instanceof t1?[e.value]:e instanceof Dd?e.options:e instanceof r1?Wr.objectValues(e.enum):e instanceof n1?Su(e._def.innerType):e instanceof Yx?[void 0]:e instanceof Xx?[null]:e instanceof Hc?[void 0,...Su(e.unwrap())]:e instanceof Ld?[null,...Su(e.unwrap())]:e instanceof RC||e instanceof i1?Su(e.unwrap()):e instanceof a1?Su(e._def.innerType):[];class M5 extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Bt.object)return Ot(r,{code:ht.invalid_type,expected:Bt.object,received:r.parsedType}),or;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ot(r,{code:ht.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),or)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const s=Su(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new M5({typeName:ir.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...vr(n)})}}function mA(e,t){const r=Eu(e),n=Eu(t);if(e===t)return{valid:!0,data:e};if(r===Bt.object&&n===Bt.object){const a=Wr.objectKeys(t),i=Wr.objectKeys(e).filter(o=>a.indexOf(o)!==-1),s={...e,...t};for(const o of i){const c=mA(e[o],t[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===Bt.array&&n===Bt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],c=mA(s,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Bt.date&&n===Bt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Jx extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(hA(i)||hA(s))return or;const o=mA(i.value,s.value);return o.valid?((pA(i)||pA(s))&&r.dirty(),{status:r.value,value:o.data}):(Ot(n,{code:ht.invalid_intersection_types}),or)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jx.create=(e,t,r)=>new Jx({left:e,right:t,typeName:ir.ZodIntersection,...vr(r)});class Qc extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Bt.array)return Ot(n,{code:ht.invalid_type,expected:Bt.array,received:n.parsedType}),or;if(n.data.length<this._def.items.length)return Ot(n,{code:ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),or;!this._def.rest&&n.data.length>this._def.items.length&&(Ot(n,{code:ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Jc(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>is.mergeArray(r,s)):is.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Qc({...this._def,rest:t})}}Qc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qc({items:e,typeName:ir.ZodTuple,rest:null,...vr(t)})};class Qx extends Sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Bt.object)return Ot(n,{code:ht.invalid_type,expected:Bt.object,received:n.parsedType}),or;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new Jc(n,o,n.path,o)),value:s._parse(new Jc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?is.mergeObjectAsync(r,a):is.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Sr?new Qx({keyType:t,valueType:r,typeName:ir.ZodRecord,...vr(n)}):new Qx({keyType:Xl.create(),valueType:t,typeName:ir.ZodRecord,...vr(r)})}}class Bb extends Sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Bt.map)return Ot(n,{code:ht.invalid_type,expected:Bt.map,received:n.parsedType}),or;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new Jc(n,o,n.path,[u,"key"])),value:i._parse(new Jc(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return or;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(u.value,f.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return or;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(u.value,f.value)}return{status:r.value,value:o}}}}Bb.create=(e,t,r)=>new Bb({valueType:t,keyType:e,typeName:ir.ZodMap,...vr(r)});class g0 extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Bt.set)return Ot(n,{code:ht.invalid_type,expected:Bt.set,received:n.parsedType}),or;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ot(n,{code:ht.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ot(n,{code:ht.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const f of c){if(f.status==="aborted")return or;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new Jc(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(t,r){return new g0({...this._def,minSize:{value:t,message:qt.toString(r)}})}max(t,r){return new g0({...this._def,maxSize:{value:t,message:qt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}g0.create=(e,t)=>new g0({valueType:e,minSize:null,maxSize:null,typeName:ir.ZodSet,...vr(t)});class um extends Sr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Bt.function)return Ot(r,{code:ht.invalid_type,expected:Bt.function,received:r.parsedType}),or;function n(o,c){return Lb({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Db(),Km].filter(u=>!!u),issueData:{code:ht.invalid_arguments,argumentsError:c}})}function a(o,c){return Lb({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Db(),Km].filter(u=>!!u),issueData:{code:ht.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Xm){const o=this;return Ss(async function(...c){const u=new Ao([]),f=await o._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(n(c,p)),u}),d=await Reflect.apply(s,this,f);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw u.addIssue(a(d,p)),u})})}else{const o=this;return Ss(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new Ao([n(c,u.error)]);const f=Reflect.apply(s,this,u.data),d=o._def.returns.safeParse(f,i);if(!d.success)throw new Ao([a(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new um({...this._def,args:Qc.create(t).rest(Hh.create())})}returns(t){return new um({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new um({args:t||Qc.create([]).rest(Hh.create()),returns:r||Hh.create(),typeName:ir.ZodFunction,...vr(n)})}}class e1 extends Sr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}e1.create=(e,t)=>new e1({getter:e,typeName:ir.ZodLazy,...vr(t)});class t1 extends Sr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ot(r,{received:r.data,code:ht.invalid_literal,expected:this._def.value}),or}return{status:"valid",value:t.data}}get value(){return this._def.value}}t1.create=(e,t)=>new t1({value:e,typeName:ir.ZodLiteral,...vr(t)});function Fz(e,t){return new Dd({values:e,typeName:ir.ZodEnum,...vr(t)})}class Dd extends Sr{constructor(){super(...arguments),Mv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ot(r,{expected:Wr.joinValues(n),received:r.parsedType,code:ht.invalid_type}),or}if(Ib(this,Mv)||Cz(this,Mv,new Set(this._def.values)),!Ib(this,Mv).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ot(r,{received:r.data,code:ht.invalid_enum_value,options:n}),or}return Ss(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Dd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Dd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Mv=new WeakMap;Dd.create=Fz;class r1 extends Sr{constructor(){super(...arguments),Bv.set(this,void 0)}_parse(t){const r=Wr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Bt.string&&n.parsedType!==Bt.number){const a=Wr.objectValues(r);return Ot(n,{expected:Wr.joinValues(a),received:n.parsedType,code:ht.invalid_type}),or}if(Ib(this,Bv)||Cz(this,Bv,new Set(Wr.getValidEnumValues(this._def.values))),!Ib(this,Bv).has(t.data)){const a=Wr.objectValues(r);return Ot(n,{received:n.data,code:ht.invalid_enum_value,options:a}),or}return Ss(t.data)}get enum(){return this._def.values}}Bv=new WeakMap;r1.create=(e,t)=>new r1({values:e,typeName:ir.ZodNativeEnum,...vr(t)});class Xm extends Sr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Bt.promise&&r.common.async===!1)return Ot(r,{code:ht.invalid_type,expected:Bt.promise,received:r.parsedType}),or;const n=r.parsedType===Bt.promise?r.data:Promise.resolve(r.data);return Ss(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xm.create=(e,t)=>new Xm({type:e,typeName:ir.ZodPromise,...vr(t)});class cc extends Sr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ir.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{Ot(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return or;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?or:c.status==="dirty"||r.value==="dirty"?Yp(c.value):c});{if(r.value==="aborted")return or;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?or:o.status==="dirty"||r.value==="dirty"?Yp(o.value):o}}if(a.type==="refinement"){const s=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?or:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?or:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!p0(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>p0(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):s);Wr.assertNever(a)}}cc.create=(e,t,r)=>new cc({schema:e,typeName:ir.ZodEffects,effect:t,...vr(r)});cc.createWithPreprocess=(e,t,r)=>new cc({schema:t,effect:{type:"preprocess",transform:e},typeName:ir.ZodEffects,...vr(r)});class Hc extends Sr{_parse(t){return this._getType(t)===Bt.undefined?Ss(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hc.create=(e,t)=>new Hc({innerType:e,typeName:ir.ZodOptional,...vr(t)});class Ld extends Sr{_parse(t){return this._getType(t)===Bt.null?Ss(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ld.create=(e,t)=>new Ld({innerType:e,typeName:ir.ZodNullable,...vr(t)});class n1 extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Bt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}n1.create=(e,t)=>new n1({innerType:e,typeName:ir.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vr(t)});class a1 extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ao(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ao(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}a1.create=(e,t)=>new a1({innerType:e,typeName:ir.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vr(t)});class Ub extends Sr{_parse(t){if(this._getType(t)!==Bt.nan){const n=this._getOrReturnCtx(t);return Ot(n,{code:ht.invalid_type,expected:Bt.nan,received:n.parsedType}),or}return{status:"valid",value:t.data}}}Ub.create=e=>new Ub({typeName:ir.ZodNaN,...vr(e)});const Qfe=Symbol("zod_brand");class RC extends Sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ty extends Sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?or:i.status==="dirty"?(r.dirty(),Yp(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?or:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new ty({in:t,out:r,typeName:ir.ZodPipeline})}}class i1 extends Sr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(p0(a)&&(a.value=Object.freeze(a.value)),a);return Gx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}i1.create=(e,t)=>new i1({innerType:e,typeName:ir.ZodReadonly,...vr(t)});function NF(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Dz(e,t={},r){return e?Ym.create().superRefine((n,a)=>{var i,s;const o=e(n);if(o instanceof Promise)return o.then(c=>{var u,f;if(!c){const d=NF(t,n),h=(f=(u=d.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;a.addIssue({code:"custom",...d,fatal:h})}});if(!o){const c=NF(t,n),u=(s=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Ym.create()}const ede={object:Yn.lazycreate};var ir;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ir||(ir={}));const tde=(e,t={message:`Input not instance of ${e.name}`})=>Dz(r=>r instanceof e,t),Lz=Xl.create,Iz=Od.create,rde=Ub.create,nde=Fd.create,Rz=Kx.create,ade=m0.create,ide=Rb.create,sde=Yx.create,ode=Xx.create,lde=Ym.create,cde=Hh.create,ude=tf.create,fde=Mb.create,dde=rc.create,hde=Yn.create,pde=Yn.strictCreate,mde=Zx.create,gde=M5.create,vde=Jx.create,xde=Qc.create,yde=Qx.create,wde=Bb.create,bde=g0.create,_de=um.create,Sde=e1.create,jde=t1.create,Nde=Dd.create,kde=r1.create,Ade=Xm.create,kF=cc.create,Ede=Hc.create,Cde=Ld.create,Tde=cc.createWithPreprocess,Pde=ty.create,Ode=()=>Lz().optional(),Fde=()=>Iz().optional(),Dde=()=>Rz().optional(),Lde={string:e=>Xl.create({...e,coerce:!0}),number:e=>Od.create({...e,coerce:!0}),boolean:e=>Kx.create({...e,coerce:!0}),bigint:e=>Fd.create({...e,coerce:!0}),date:e=>m0.create({...e,coerce:!0})},Ide=or;var Ve=Object.freeze({__proto__:null,defaultErrorMap:Km,setErrorMap:Tfe,getErrorMap:Db,makeIssue:Lb,EMPTY_PATH:Pfe,addIssueToContext:Ot,ParseStatus:is,INVALID:or,DIRTY:Yp,OK:Ss,isAborted:hA,isDirty:pA,isValid:p0,isAsync:Gx,get util(){return Wr},get objectUtil(){return dA},ZodParsedType:Bt,getParsedType:Eu,ZodType:Sr,datetimeRegex:Oz,ZodString:Xl,ZodNumber:Od,ZodBigInt:Fd,ZodBoolean:Kx,ZodDate:m0,ZodSymbol:Rb,ZodUndefined:Yx,ZodNull:Xx,ZodAny:Ym,ZodUnknown:Hh,ZodNever:tf,ZodVoid:Mb,ZodArray:rc,ZodObject:Yn,ZodUnion:Zx,ZodDiscriminatedUnion:M5,ZodIntersection:Jx,ZodTuple:Qc,ZodRecord:Qx,ZodMap:Bb,ZodSet:g0,ZodFunction:um,ZodLazy:e1,ZodLiteral:t1,ZodEnum:Dd,ZodNativeEnum:r1,ZodPromise:Xm,ZodEffects:cc,ZodTransformer:cc,ZodOptional:Hc,ZodNullable:Ld,ZodDefault:n1,ZodCatch:a1,ZodNaN:Ub,BRAND:Qfe,ZodBranded:RC,ZodPipeline:ty,ZodReadonly:i1,custom:Dz,Schema:Sr,ZodSchema:Sr,late:ede,get ZodFirstPartyTypeKind(){return ir},coerce:Lde,any:lde,array:dde,bigint:nde,boolean:Rz,date:ade,discriminatedUnion:gde,effect:kF,enum:Nde,function:_de,instanceof:tde,intersection:vde,lazy:Sde,literal:jde,map:wde,nan:rde,nativeEnum:kde,never:ude,null:ode,nullable:Cde,number:Iz,object:hde,oboolean:Dde,onumber:Fde,optional:Ede,ostring:Ode,pipeline:Pde,preprocess:Tde,promise:Ade,record:yde,set:bde,strictObject:pde,string:Lz,symbol:ide,transformer:kF,tuple:xde,undefined:sde,union:mde,unknown:cde,void:fde,NEVER:Ide,ZodIssueCode:ht,quotelessJson:Cfe,ZodError:Ao});const Bn=yC,fm=wC,Rde=bC,Mz=S.forwardRef(({className:e,...t},r)=>l.jsx(G1,{ref:r,className:Et("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Mz.displayName=G1.displayName;const Un=S.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Rde,{children:[l.jsx(Mz,{}),l.jsxs(K1,{ref:n,className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(T5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Ju,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Un.displayName=K1.displayName;const $n=({className:e,...t})=>l.jsx("div",{className:Et("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$n.displayName="DialogHeader";const zn=S.forwardRef(({className:e,...t},r)=>l.jsx(Y1,{ref:r,className:Et("text-lg font-semibold leading-none tracking-tight",e),...t}));zn.displayName=Y1.displayName;const Mde=S.forwardRef(({className:e,...t},r)=>l.jsx(X1,{ref:r,className:Et("text-sm text-muted-foreground",e),...t}));Mde.displayName=X1.displayName;const li=lfe,Bz=S.createContext({}),ft=({...e})=>l.jsx(Bz.Provider,{value:{name:e.name},children:l.jsx(dfe,{...e})}),B5=()=>{const e=S.useContext(Bz),t=S.useContext(Uz),{getFieldState:r,formState:n}=R5(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Uz=S.createContext({}),ot=S.forwardRef(({className:e,...t},r)=>{const n=S.useId();return l.jsx(Uz.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:Et("space-y-2",e),...t})})});ot.displayName="FormItem";const lt=S.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=B5();return l.jsx(Or,{ref:r,className:Et(n&&"text-destructive",e),htmlFor:a,...t})});lt.displayName="FormLabel";const ct=S.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=B5();return l.jsx(F9,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});ct.displayName="FormControl";const Bde=S.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=B5();return l.jsx("p",{ref:r,id:n,className:Et("text-sm text-muted-foreground",e),...t})});Bde.displayName="FormDescription";const xt=S.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=B5(),s=a?String((a==null?void 0:a.message)??""):t;return s?l.jsx("p",{ref:n,id:i,className:Et("text-sm font-medium text-destructive",e),...r,children:s}):null});xt.displayName="FormMessage";function AF(e,[t,r]){return Math.min(r,Math.max(t,e))}var Ude=[" ","Enter","ArrowUp","ArrowDown"],$de=[" ","Enter"],ry="Select",[U5,$5,zde]=u5(ry),[yg,kLe]=ks(ry,[zde,gg]),z5=gg(),[qde,Yd]=yg(ry),[Wde,Vde]=yg(ry),$z=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:g}=e,m=z5(t),[v,x]=S.useState(null),[y,b]=S.useState(null),[j,k]=S.useState(!1),O=P5(u),[N=!1,E]=Yc({prop:n,defaultProp:a,onChange:i}),[D,M]=Yc({prop:s,defaultProp:o,onChange:c}),C=S.useRef(null),P=v?g||!!v.closest("form"):!0,[R,U]=S.useState(new Set),ee=Array.from(R).map(J=>J.props.value).join(";");return l.jsx(rC,{...m,children:l.jsxs(qde,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:tc(),value:D,onValueChange:M,open:N,onOpenChange:E,dir:O,triggerPointerDownPosRef:C,disabled:h,children:[l.jsx(U5.Provider,{scope:t,children:l.jsx(Wde,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(J=>{U(ae=>new Set(ae).add(J))},[]),onNativeOptionRemove:S.useCallback(J=>{U(ae=>{const X=new Set(ae);return X.delete(J),X})},[]),children:r})}),P?l.jsxs(dq,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:D,onChange:J=>M(J.target.value),disabled:h,form:g,children:[D===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};$z.displayName=ry;var zz="SelectTrigger",qz=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=z5(r),s=Yd(zz,r),o=s.disabled||n,c=$r(t,s.onTriggerChange),u=$5(r),f=S.useRef("touch"),[d,h,p]=hq(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===s.value),y=pq(v,m,x);y!==void 0&&s.onValueChange(y.value)}),g=m=>{o||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(nC,{asChild:!0,...i,children:l.jsx(Kt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":fq(s.value)?"":void 0,...a,ref:c,onClick:At(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&g(m)}),onPointerDown:At(a.onPointerDown,m=>{f.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:At(a.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Ude.includes(m.key)&&(g(),m.preventDefault())})})})});qz.displayName=zz;var Wz="SelectValue",Vz=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=e,c=Yd(Wz,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=$r(t,c.onValueNodeChange);return Ha(()=>{u(f)},[u,f]),l.jsx(Kt.span,{...o,ref:d,style:{pointerEvents:"none"},children:fq(c.value)?l.jsx(l.Fragment,{children:s}):i})});Vz.displayName=Wz;var Hde="SelectIcon",Hz=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return l.jsx(Kt.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});Hz.displayName=Hde;var Gde="SelectPortal",Gz=e=>l.jsx(z1,{asChild:!0,...e});Gz.displayName=Gde;var v0="SelectContent",Kz=S.forwardRef((e,t)=>{const r=Yd(v0,e.__scopeSelect),[n,a]=S.useState();if(Ha(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Gd.createPortal(l.jsx(Yz,{scope:e.__scopeSelect,children:l.jsx(U5.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(Xz,{...e,ref:t})});Kz.displayName=v0;var Ll=10,[Yz,Xd]=yg(v0),Kde="SelectContentImpl",Yde=u0("SelectContent.RemoveScroll"),Xz=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=e,y=Yd(v0,r),[b,j]=S.useState(null),[k,O]=S.useState(null),N=$r(t,ie=>j(ie)),[E,D]=S.useState(null),[M,C]=S.useState(null),P=$5(r),[R,U]=S.useState(!1),ee=S.useRef(!1);S.useEffect(()=>{if(b)return pC(b)},[b]),hC();const J=S.useCallback(ie=>{const[pe,...Q]=P().map(q=>q.ref.current),[ge]=Q.slice(-1),_e=document.activeElement;for(const q of ie)if(q===_e||(q==null||q.scrollIntoView({block:"nearest"}),q===pe&&k&&(k.scrollTop=0),q===ge&&k&&(k.scrollTop=k.scrollHeight),q==null||q.focus(),document.activeElement!==_e))return},[P,k]),ae=S.useCallback(()=>J([E,b]),[J,E,b]);S.useEffect(()=>{R&&ae()},[R,ae]);const{onOpenChange:X,triggerPointerDownPosRef:W}=y;S.useEffect(()=>{if(b){let ie={x:0,y:0};const pe=ge=>{var _e,q;ie={x:Math.abs(Math.round(ge.pageX)-(((_e=W.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((q=W.current)==null?void 0:q.y)??0))}},Q=ge=>{ie.x<=10&&ie.y<=10?ge.preventDefault():b.contains(ge.target)||X(!1),document.removeEventListener("pointermove",pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,X,W]),S.useEffect(()=>{const ie=()=>X(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[X]);const[fe,Se]=hq(ie=>{const pe=P().filter(_e=>!_e.disabled),Q=pe.find(_e=>_e.ref.current===document.activeElement),ge=pq(pe,ie,Q);ge&&setTimeout(()=>ge.ref.current.focus())}),T=S.useCallback((ie,pe,Q)=>{const ge=!ee.current&&!Q;(y.value!==void 0&&y.value===pe||ge)&&(D(ie),ge&&(ee.current=!0))},[y.value]),L=S.useCallback(()=>b==null?void 0:b.focus(),[b]),B=S.useCallback((ie,pe,Q)=>{const ge=!ee.current&&!Q;(y.value!==void 0&&y.value===pe||ge)&&C(ie)},[y.value]),z=n==="popper"?gA:Zz,te=z===gA?{side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return l.jsx(Yz,{scope:r,content:b,viewport:k,onViewportChange:O,itemRefCallback:T,selectedItem:E,onItemLeave:L,itemTextRefCallback:B,focusSelectedItem:ae,selectedItemText:M,position:n,isPositioned:R,searchRef:fe,children:l.jsx(C5,{as:Yde,allowPinchZoom:!0,children:l.jsx(A5,{asChild:!0,trapped:y.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:At(a,ie=>{var pe;(pe=y.trigger)==null||pe.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ie=>ie.preventDefault(),...x,...te,onPlaced:()=>U(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:At(x.onKeyDown,ie=>{const pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!pe&&ie.key.length===1&&Se(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ge=P().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const _e=ie.target,q=ge.indexOf(_e);ge=ge.slice(q+1)}setTimeout(()=>J(ge)),ie.preventDefault()}})})})})})})});Xz.displayName=Kde;var Xde="SelectItemAlignedPosition",Zz=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Yd(v0,r),s=Xd(v0,r),[o,c]=S.useState(null),[u,f]=S.useState(null),d=$r(t,N=>f(N)),h=$5(r),p=S.useRef(!1),g=S.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=s,b=S.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&m&&v&&x){const N=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const _e=M.left-E.left,q=D.left-_e,Be=N.left-q,We=N.width+Be,Ae=Math.max(We,E.width),se=window.innerWidth-Ll,Ie=AF(q,[Ll,Math.max(Ll,se-Ae)]);o.style.minWidth=We+"px",o.style.left=Ie+"px"}else{const _e=E.right-M.right,q=window.innerWidth-D.right-_e,Be=window.innerWidth-N.right-q,We=N.width+Be,Ae=Math.max(We,E.width),se=window.innerWidth-Ll,Ie=AF(q,[Ll,Math.max(Ll,se-Ae)]);o.style.minWidth=We+"px",o.style.right=Ie+"px"}const C=h(),P=window.innerHeight-Ll*2,R=m.scrollHeight,U=window.getComputedStyle(u),ee=parseInt(U.borderTopWidth,10),J=parseInt(U.paddingTop,10),ae=parseInt(U.borderBottomWidth,10),X=parseInt(U.paddingBottom,10),W=ee+J+R+X+ae,fe=Math.min(v.offsetHeight*5,W),Se=window.getComputedStyle(m),T=parseInt(Se.paddingTop,10),L=parseInt(Se.paddingBottom,10),B=N.top+N.height/2-Ll,z=P-B,te=v.offsetHeight/2,ie=v.offsetTop+te,pe=ee+J+ie,Q=W-pe;if(pe<=B){const _e=C.length>0&&v===C[C.length-1].ref.current;o.style.bottom="0px";const q=u.clientHeight-m.offsetTop-m.offsetHeight,Be=Math.max(z,te+(_e?L:0)+q+ae),We=pe+Be;o.style.height=We+"px"}else{const _e=C.length>0&&v===C[0].ref.current;o.style.top="0px";const Be=Math.max(B,ee+m.offsetTop+(_e?T:0)+te)+Q;o.style.height=Be+"px",m.scrollTop=pe-B+m.offsetTop}o.style.margin=`${Ll}px 0`,o.style.minHeight=fe+"px",o.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,o,u,m,v,x,i.dir,n]);Ha(()=>b(),[b]);const[j,k]=S.useState();Ha(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const O=S.useCallback(N=>{N&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return l.jsx(Jde,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(Kt.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Zz.displayName=Xde;var Zde="SelectPopperPosition",gA=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ll,...i}=e,s=z5(r);return l.jsx(aC,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gA.displayName=Zde;var[Jde,MC]=yg(v0,{}),vA="SelectViewport",Jz=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Xd(vA,r),s=MC(vA,r),o=$r(t,i.onViewportChange),c=S.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(U5.Slot,{scope:r,children:l.jsx(Kt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:At(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-Ll*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),x=Math.max(m,v);if(x<g){const y=x+p,b=Math.min(g,y),j=y-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Jz.displayName=vA;var Qz="SelectGroup",[Qde,ehe]=yg(Qz),the=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tc();return l.jsx(Qde,{scope:r,id:a,children:l.jsx(Kt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});the.displayName=Qz;var eq="SelectLabel",tq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ehe(eq,r);return l.jsx(Kt.div,{id:a.id,...n,ref:t})});tq.displayName=eq;var $b="SelectItem",[rhe,rq]=yg($b),nq=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,o=Yd($b,r),c=Xd($b,r),u=o.value===n,[f,d]=S.useState(i??""),[h,p]=S.useState(!1),g=$r(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),m=tc(),v=S.useRef("touch"),x=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(rhe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:S.useCallback(y=>{d(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(U5.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:l.jsx(Kt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:At(s.onFocus,()=>p(!0)),onBlur:At(s.onBlur,()=>p(!1)),onClick:At(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:At(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:At(s.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:At(s.onPointerMove,y=>{var b;v.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(s.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:At(s.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||($de.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});nq.displayName=$b;var Uv="SelectItemText",aq=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Yd(Uv,r),o=Xd(Uv,r),c=rq(Uv,r),u=Vde(Uv,r),[f,d]=S.useState(null),h=$r(t,x=>d(x),c.onItemTextChange,x=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=S.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Ha(()=>(m(g),()=>v(g)),[m,v,g]),l.jsxs(l.Fragment,{children:[l.jsx(Kt.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Gd.createPortal(i.children,s.valueNode):null]})});aq.displayName=Uv;var iq="SelectItemIndicator",sq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return rq(iq,r).isSelected?l.jsx(Kt.span,{"aria-hidden":!0,...n,ref:t}):null});sq.displayName=iq;var xA="SelectScrollUpButton",oq=S.forwardRef((e,t)=>{const r=Xd(xA,e.__scopeSelect),n=MC(xA,e.__scopeSelect),[a,i]=S.useState(!1),s=$r(t,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(cq,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});oq.displayName=xA;var yA="SelectScrollDownButton",lq=S.forwardRef((e,t)=>{const r=Xd(yA,e.__scopeSelect),n=MC(yA,e.__scopeSelect),[a,i]=S.useState(!1),s=$r(t,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l.jsx(cq,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});lq.displayName=yA;var cq=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Xd("SelectScrollButton",r),s=S.useRef(null),o=$5(r),c=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Ha(()=>{var f;const u=o().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),l.jsx(Kt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:At(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:At(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:At(a.onPointerLeave,()=>{c()})})}),nhe="SelectSeparator",uq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Kt.div,{"aria-hidden":!0,...n,ref:t})});uq.displayName=nhe;var wA="SelectArrow",ahe=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=z5(r),i=Yd(wA,r),s=Xd(wA,r);return i.open&&s.position==="popper"?l.jsx(iC,{...a,...n,ref:t}):null});ahe.displayName=wA;function fq(e){return e===""||e===void 0}var dq=S.forwardRef((e,t)=>{const{value:r,...n}=e,a=S.useRef(null),i=$r(t,a),s=PC(r);return S.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==r&&f){const d=new Event("change",{bubbles:!0});f.call(o,r),o.dispatchEvent(d)}},[s,r]),l.jsx(q1,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});dq.displayName="BubbleSelect";function hq(e){const t=Fi(e),r=S.useRef(""),n=S.useRef(0),a=S.useCallback(s=>{const o=r.current+s;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function pq(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=ihe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ihe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var she=$z,mq=qz,ohe=Vz,lhe=Hz,che=Gz,gq=Kz,uhe=Jz,vq=tq,xq=nq,fhe=aq,dhe=sq,yq=oq,wq=lq,bq=uq;const Er=she,Cr=ohe,br=S.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(mq,{ref:n,className:Et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(lhe,{asChild:!0,children:l.jsx(oB,{className:"h-4 w-4 opacity-50"})})]}));br.displayName=mq.displayName;const _q=S.forwardRef(({className:e,...t},r)=>l.jsx(yq,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(hne,{className:"h-4 w-4"})}));_q.displayName=yq.displayName;const Sq=S.forwardRef(({className:e,...t},r)=>l.jsx(wq,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(oB,{className:"h-4 w-4"})}));Sq.displayName=wq.displayName;const _r=S.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>l.jsx(che,{children:l.jsxs(gq,{ref:a,className:Et("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(_q,{}),l.jsx(uhe,{className:Et("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Sq,{})]})}));_r.displayName=gq.displayName;const hhe=S.forwardRef(({className:e,...t},r)=>l.jsx(vq,{ref:r,className:Et("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hhe.displayName=vq.displayName;const Ye=S.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(xq,{ref:n,className:Et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(dhe,{children:l.jsx(Xc,{className:"h-4 w-4"})})}),l.jsx(fhe,{children:t})]}));Ye.displayName=xq.displayName;const phe=S.forwardRef(({className:e,...t},r)=>l.jsx(bq,{ref:r,className:Et("-mx-1 my-1 h-px bg-muted",e),...t}));phe.displayName=bq.displayName;const mhe=dg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lx=S.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Et(mhe({variant:t}),e),...r}));lx.displayName="Alert";const ghe=S.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:Et("mb-1 font-medium leading-none tracking-tight",e),...t}));ghe.displayName="AlertTitle";const cx=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Et("text-sm [&_p]:leading-relaxed",e),...t}));cx.displayName="AlertDescription";const vhe=Ve.object({firstName:Ve.string().min(1,"First name is required"),lastName:Ve.string().min(1,"Last name is required"),middleName:Ve.string().optional(),email:Ve.string().email("Invalid email address"),phoneNumber:Ve.string().optional(),departmentId:Ve.string().min(1,"Department is required"),position:Ve.string().min(1,"Position is required"),gradeLevel:Ve.number().min(1).max(17),step:Ve.number().min(1).max(15),employmentDate:Ve.string().min(1,"Employment date is required"),bankName:Ve.string().optional(),accountNumber:Ve.string().optional(),accountName:Ve.string().optional()});function jq({open:e,onClose:t,onSuccess:r}){const{toast:n}=zr(),a=Cn(),i=si({resolver:oi(vhe),defaultValues:{firstName:"",lastName:"",middleName:"",email:"",phoneNumber:"",departmentId:"",position:"",gradeLevel:1,step:1,employmentDate:"",bankName:"",accountNumber:"",accountName:""}}),{data:s,isLoading:o}=Tr({queryKey:["departments"],queryFn:async()=>{const{data:h,error:p}=await De.from("departments").select("id, name, code").order("name");if(p)throw p;return h||[]}}),c=async()=>{const h=new Date().getFullYear(),{count:p,error:g}=await De.from("staff").select("id",{count:"exact",head:!0});if(g)throw console.error("Error counting staff:",g),new Error("Could not generate staff ID due to a database error.");const m=(p||0)+1;return`JSC/${h}/${m.toString().padStart(5,"0")}`},u=Jr({mutationFn:async h=>{const p="TempPassword123!",{data:g,error:m}=await De.auth.signUp({email:h.email,password:p,options:{emailRedirectTo:void 0}});if(m)throw m.message.includes("already registered")?new Error("A user with this email already exists in the system"):m;if(!g.user)throw new Error("Failed to create user account");const{error:v}=await De.from("users").insert({id:g.user.id,email:h.email,role:"staff"});if(v)throw console.error("Failed to create user profile:",v),new Error("Failed to create user profile");const y={staff_id:await c(),user_id:g.user.id,first_name:h.firstName,last_name:h.lastName,middle_name:h.middleName||null,email:h.email,phone_number:h.phoneNumber||null,department_id:h.departmentId,position:h.position,grade_level:h.gradeLevel,step:h.step,employment_date:h.employmentDate,bank_name:h.bankName||null,account_number:h.accountNumber||null,account_name:h.accountName||null,status:"active"},{data:b,error:j}=await De.from("staff").insert(y).select().single();if(j)throw j;return await vU("created",b.id,null,y),await tfe(b.id),await De.from("notifications").insert({user_id:g.user.id,title:"Welcome to JSC Payroll System",message:'Your account has been created. Please use the "Forgot Password" link on the login page to set your password and access your account.',type:"info"}),b},onSuccess:h=>{De.from("users").select("id").in("role",["super_admin","payroll_admin"]).then(({data:p})=>{if(p!=null&&p.length){const g=p.map(m=>({user_id:m.id,title:"New Staff Member Added",message:`A new staff member, ${h.first_name} ${h.last_name}, has been added with a user account. They should use "Forgot Password" to set their password.`,type:"info"}));De.from("notifications").insert(g).then()}}),n({title:"Success",description:'Staff member and user account created successfully. They can use "Forgot Password" to set their password.'}),a.invalidateQueries({queryKey:["staff"]}),i.reset(),r()},onError:h=>{n({title:"Error",description:h.message||"Failed to create staff member",variant:"destructive"})}}),f=h=>{u.mutate(h)},d=()=>{i.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:d,children:l.jsxs(Un,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New Staff Member"})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-1",children:[l.jsxs(lx,{className:"mb-4",children:[l.jsx(f0,{className:"h-4 w-4"}),l.jsx(cx,{children:'A user account will be automatically created for this staff member. They can use "Forgot Password" on the login page to set their own password.'})]}),l.jsx(li,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(f),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:i.control,name:"firstName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"First Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"e.g. John"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"lastName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Last Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"e.g. Doe"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"middleName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Middle Name (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"email",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Email"}),l.jsx(ct,{children:l.jsx(Dt,{type:"email",...h,placeholder:"e.g. user@example.com"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"phoneNumber",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Phone Number (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"e.g. 08012345678"})}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Employment Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:i.control,name:"departmentId",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:o?"Loading...":"Select Department"})})}),l.jsx(_r,{children:s==null?void 0:s.map(p=>l.jsx(Ye,{value:p.id,children:p.name},p.id))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"position",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Position"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"e.g. Software Engineer"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"gradeLevel",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Grade Level"}),l.jsxs(Er,{onValueChange:p=>h.onChange(parseInt(p)),value:h.value.toString(),children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Grade Level"})})}),l.jsx(_r,{children:[...Array(17)].map((p,g)=>l.jsxs(Ye,{value:(g+1).toString(),children:["GL ",g+1]},g+1))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"step",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Step"}),l.jsxs(Er,{onValueChange:p=>h.onChange(parseInt(p)),value:h.value.toString(),children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Step"})})}),l.jsx(_r,{children:[...Array(15)].map((p,g)=>l.jsxs(Ye,{value:(g+1).toString(),children:["Step ",g+1]},g+1))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"employmentDate",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Employment Date"}),l.jsx(ct,{children:l.jsx(Dt,{type:"date",...h})}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Banking Information (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:i.control,name:"bankName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Bank Name"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value||"",children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Bank"})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"access",children:"Access Bank"}),l.jsx(Ye,{value:"zenith",children:"Zenith Bank"}),l.jsx(Ye,{value:"gtb",children:"Guaranty Trust Bank"}),l.jsx(Ye,{value:"firstbank",children:"First Bank of Nigeria"}),l.jsx(Ye,{value:"uba",children:"United Bank for Africa"}),l.jsx(Ye,{value:"fidelity",children:"Fidelity Bank"}),l.jsx(Ye,{value:"union",children:"Union Bank"}),l.jsx(Ye,{value:"stanbic",children:"Stanbic IBTC Bank"}),l.jsx(Ye,{value:"polaris",children:"Polaris Bank"}),l.jsx(Ye,{value:"wema",children:"Wema Bank"}),l.jsx(Ye,{value:"sterling",children:"Sterling Bank"}),l.jsx(Ye,{value:"unity",children:"Unity Bank"}),l.jsx(Ye,{value:"ecobank",children:"Ecobank Nigeria"}),l.jsx(Ye,{value:"keystone",children:"Keystone Bank"}),l.jsx(Ye,{value:"titan",children:"Titan Trust Bank"}),l.jsx(Ye,{value:"globus",children:"Globus Bank"}),l.jsx(Ye,{value:"providus",children:"Providus Bank"}),l.jsx(Ye,{value:"suntrust",children:"SunTrust Bank"}),l.jsx(Ye,{value:"parallex",children:"Parallex Bank"}),l.jsx(Ye,{value:"premium",children:"Premium Trust Bank"}),l.jsx(Ye,{value:"taj",children:"TAJ Bank"}),l.jsx(Ye,{value:"jaiz",children:"Jaiz Bank"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"accountNumber",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Account Number"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"10-digit number"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:i.control,name:"accountName",render:({field:h})=>l.jsxs(ot,{className:"md:col-span-2",children:[l.jsx(lt,{children:"Account Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h,placeholder:"Official name on the account"})}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:u.isPending,className:"bg-nigeria-green hover:bg-green-700",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Staff Member"})]})]})})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zb={};zb.version="0.18.5";var Nq=1252,xhe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UC=function(e){xhe.indexOf(e)!=-1&&(Nq=BC[0]=e)};function yhe(){UC(1252)}var Zl=function(e){UC(e)};function $C(){Zl(1200),yhe()}function EF(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function whe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function kq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var $v=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?whe(e.slice(2)):t==254&&r==255?kq(e.slice(2)):t==65279?e.slice(1):e},$2=function(t){return String.fromCharCode(t)},CF=function(t){return String.fromCharCode(t)},Jf,fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s1(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=fd.charAt(i)+fd.charAt(s)+fd.charAt(o)+fd.charAt(c);return t}function Po(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=fd.indexOf(e.charAt(u++)),s=fd.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=fd.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=fd.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var jr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),uf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Id(e){return jr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function TF(e){return jr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var yo=function(t){return jr?uf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function q5(e){if(typeof ArrayBuffer>"u")return yo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Zd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function bhe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function zC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return zC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ni=jr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:uf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function _he(e){for(var t=[],r=0,n=e.length+250,a=Id(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Id(65535),n=65530)}return t.push(a.slice(0,r)),ni(t)}var _s=/\u0000/g,zv=/[\u0001-\u0006]/g;function dm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Jl(e,t){var r=""+e;return r.length>=t?r:ca("0",t-r.length)+r}function qC(e,t){var r=""+e;return r.length>=t?r:ca(" ",t-r.length)+r}function qb(e,t){var r=""+e;return r.length>=t?r:r+ca(" ",t-r.length)}function She(e,t){var r=""+Math.round(e);return r.length>=t?r:ca("0",t-r.length)+r}function jhe(e,t){var r=""+e;return r.length>=t?r:ca("0",t-r.length)+r}var PF=Math.pow(2,32);function jp(e,t){if(e>PF||e<-PF)return She(e,t);var r=Math.round(e);return jhe(r,t)}function Wb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var OF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],F4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Nhe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var rr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},FF={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},khe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,f=0,d=Math.floor(a);u<t&&(d=Math.floor(a),o=d*s+i,f=d*u+c,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,c=u,u=f;if(f>t&&(u>t?(f=c,o=i):(f=u,o=s)),!r)return[0,n*o,f];var h=Math.floor(n*o/f);return[h,n*o-h*f,f]}function Ph(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Ohe(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var Aq=new Date(1899,11,31,0,0,0),Ahe=Aq.getTime(),Ehe=new Date(1900,2,1,0,0,0);function Eq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Ehe&&(r+=24*60*60*1e3),(r-(Ahe+(e.getTimezoneOffset()-Aq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Che(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function The(e){var t=e<0?12:11,r=WC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Phe(e){var t=WC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function o1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=The(e):t===10?r=e.toFixed(10).substr(0,12):r=Phe(e),WC(Che(r.toUpperCase()))}function x0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):o1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return hl(14,Eq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ohe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Fhe(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return F4[r.m-1][1];case 5:return F4[r.m-1][0];default:return F4[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return OF[r.q][0];default:return OF[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Jl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Jl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var f=u>0?Jl(c,u):"";return f}function dd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Cq=/%/g;function Dhe(e,t,r){var n=t.replace(Cq,""),a=t.length-n.length;return zu(e,n,r*Math.pow(10,2*a))+ca("%",a)}function Lhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Tq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Tq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Pq=/# (\?+)( ?)\/( ?)(\d+)/;function Ihe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ca(" ",e[1].length+1+e[4].length):qC(s,e[1].length)+e[2]+"/"+e[3]+Jl(o,e[4].length))}function Rhe(e,t,r){return r+(t===0?"":""+t)+ca(" ",e[1].length+2+e[4].length)}var Oq=/^#*0*\.([0#]+)/,Fq=/\).*[0#]/,Dq=/\(###\) ###\\?-####/;function gs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function DF(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function LF(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Mhe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Bhe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ho(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Fq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ho("n",n,r):"("+Ho("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Lhe(e,t,r);if(t.indexOf("%")!==-1)return Dhe(e,t,r);if(t.indexOf("E")!==-1)return Tq(t,r);if(t.charCodeAt(0)===36)return"$"+Ho(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+jp(c,t.length);if(t.match(/^[#?]+$/))return a=jp(r,0),a==="0"&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(Pq))return Ihe(i,c,u);if(t.match(/^#+0+$/))return u+jp(c,t.length-t.indexOf("0"));if(i=t.match(Oq))return a=DF(r,i[1].length).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ca("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+DF(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+dd(jp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ho(e,t,-r):dd(""+(Math.floor(r)+Mhe(r,i[1].length)))+"."+Jl(LF(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ho(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dm(Ho(e,t.replace(/[\\-]/g,""),r)),s=0,dm(dm(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Dq))return a=Ho(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vb(c,Math.pow(10,s)-1,!1),a=""+u,f=zu("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=qb(o[2],s),f.length<i[4].length&&(f=gs(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vb(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?qC(o[1],s)+i[2]+"/"+i[3]+qb(o[2],s):ca(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=jp(r,0),t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=LF(r,i[1].length),r<0?"-"+Ho(e,t,-r):dd(Bhe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jl(0,3-g.length):"")+g})+"."+Jl(s,i[1].length);switch(t){case"###,##0.00":return Ho(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=dd(jp(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ho(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ho(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Uhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function $he(e,t,r){var n=t.replace(Cq,""),a=t.length-n.length;return zu(e,n,r*Math.pow(10,2*a))+ca("%",a)}function Lq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Lq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function kc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Fq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?kc("n",n,r):"("+kc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Uhe(e,t,r);if(t.indexOf("%")!==-1)return $he(e,t,r);if(t.indexOf("E")!==-1)return Lq(t,r);if(t.charCodeAt(0)===36)return"$"+kc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Jl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(Pq))return Rhe(i,c,u);if(t.match(/^#+0+$/))return u+Jl(c,t.length-t.indexOf("0"));if(i=t.match(Oq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+ca("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+dd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+kc(e,t,-r):dd(""+r)+"."+ca("0",i[1].length);if(i=t.match(/^#,#*,#0/))return kc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dm(kc(e,t.replace(/[\\-]/g,""),r)),s=0,dm(dm(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Dq))return a=kc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vb(c,Math.pow(10,s)-1,!1),a=""+u,f=zu("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=qb(o[2],s),f.length<i[4].length&&(f=gs(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vb(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?qC(o[1],s)+i[2]+"/"+i[3]+qb(o[2],s):ca(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+kc(e,t,-r):dd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jl(0,3-g.length):"")+g})+"."+Jl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=dd(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return kc(e,t.slice(0,t.lastIndexOf(".")),r)+gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zu(e,t,r){return(r|0)===r?kc(e,t,r):Ho(e,t,r)}function zhe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Iq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function wg(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Wb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Iq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function qhe(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,f,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Wb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Ph(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Ph(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(u==null&&(u=Ph(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(m.v=u.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),u==null&&m.t==="T")return"";a[a.length]=m,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Iq)){if(u==null&&(u=Ph(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",wg(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,x=0,y;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",v<1&&(v=1);break;case"s":(y=a[s].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",j;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Fhe(a[s].t.charCodeAt(0),a[s].v,u,x),a[s].t="t";break;case"n":case"?":for(j=s+1;a[j]!=null&&((o=a[j].t)==="?"||o==="D"||(o===" "||o==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[s].v+=a[j].v,a[j]={v:"",t:";"},++j;b+=a[s].v,s=j-1;break;case"G":a[s].t="t",a[s].v=x0(t,r);break}var k="",O,N;if(b.length>0){b.charCodeAt(0)==40?(O=t<0&&b.charCodeAt(0)===45?-t:t,N=zu("n",b,O)):(O=t<0&&n>1?-t:t,N=zu("n",b,O),O<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),j=N.length-1;var E=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){E=s;break}var D=a.length;if(E===a.length&&N.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(j>=a[s].v.length-1?(j-=a[s].v.length,a[s].v=N.substr(j+1,a[s].v.length)):j<0?a[s].v="":(a[s].v=N.substr(0,j+1),j=-1),a[s].t="t",D=s);j>=0&&D<a.length&&(a[D].v=N.substr(0,j+1)+a[D].v)}else if(E!==a.length&&N.indexOf("E")===-1){for(j=N.indexOf(".")-1,s=E;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(f=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")-1:a[s].v.length-1,k=a[s].v.substr(f+1);f>=0;--f)j>=0&&(a[s].v.charAt(f)==="0"||a[s].v.charAt(f)==="#")&&(k=N.charAt(j--)+k);a[s].v=k,a[s].t="t",D=s}for(j>=0&&D<a.length&&(a[D].v=N.substr(0,j+1)+a[D].v),j=N.indexOf(".")+1,s=E;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==E)){for(f=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")+1:0,k=a[s].v.substr(0,f);f<a[s].v.length;++f)j<N.length&&(k+=N.charAt(j++));a[s].v=k,a[s].t="t",D=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=zu(a[s].t,a[s].v,O),a[s].t="t");var M="";for(s=0;s!==a.length;++s)a[s]!=null&&(M+=a[s].v);return M}var IF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function RF(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Whe(e,t){var r=zhe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(IF),o=r[1].match(IF);return RF(t,s)?[n,r[0]]:RF(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function hl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rr)[e],n==null&&(n=r.table&&r.table[FF[e]]||rr[FF[e]]),n==null&&(n=khe[e]||"General");break}if(Wb(n,0))return x0(t,r);t instanceof Date&&(t=Eq(t,r.date1904));var a=Whe(n,t);if(Wb(a[1]))return x0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return qhe(a[1],t,r,a[0])}function qu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(rr[r]==null){t<0&&(t=r);continue}if(rr[r]==e){t=r;break}}t<0&&(t=391)}return rr[t]=e,t}function W5(e){for(var t=0;t!=392;++t)e[t]!==void 0&&qu(e[t],t)}function bg(){rr=Nhe()}var Vhe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Rq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Hhe(e){var t=typeof e=="number"?rr[e]:e;return t=t.replace(Rq,"(\\d+)"),new RegExp("^"+t+"$")}function Ghe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(Rq)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?f:u+"T"+f}var Khe=function(){var e={};e.version="1.2.0";function t(){for(var N=0,E=new Array(256),D=0;D!=256;++D)N=D,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,E[D]=N;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(N){var E=0,D=0,M=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)C[M]=N[M];for(M=0;M!=256;++M)for(D=N[M],E=256+M;E<4096;E+=256)D=C[E]=D>>>8^N[D&255];var P=[];for(M=1;M!=16;++M)P[M-1]=typeof Int32Array<"u"?C.subarray(M*256,M*256+256):C.slice(M*256,M*256+256);return P}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],f=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],x=a[12],y=a[13],b=a[14];function j(N,E){for(var D=E^-1,M=0,C=N.length;M<C;)D=D>>>8^r[(D^N.charCodeAt(M++))&255];return~D}function k(N,E){for(var D=E^-1,M=N.length-15,C=0;C<M;)D=b[N[C++]^D&255]^y[N[C++]^D>>8&255]^x[N[C++]^D>>16&255]^v[N[C++]^D>>>24]^m[N[C++]]^g[N[C++]]^p[N[C++]]^h[N[C++]]^d[N[C++]]^f[N[C++]]^u[N[C++]]^c[N[C++]]^o[N[C++]]^s[N[C++]]^i[N[C++]]^r[N[C++]];for(M+=15;C<M;)D=D>>>8^r[(D^N[C++])&255];return~D}function O(N,E){for(var D=E^-1,M=0,C=N.length,P=0,R=0;M<C;)P=N.charCodeAt(M++),P<128?D=D>>>8^r[(D^P)&255]:P<2048?(D=D>>>8^r[(D^(192|P>>6&31))&255],D=D>>>8^r[(D^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,R=N.charCodeAt(M++)&1023,D=D>>>8^r[(D^(240|P>>8&7))&255],D=D>>>8^r[(D^(128|P>>2&63))&255],D=D>>>8^r[(D^(128|R>>6&15|(P&3)<<4))&255],D=D>>>8^r[(D^(128|R&63))&255]):(D=D>>>8^r[(D^(224|P>>12&15))&255],D=D>>>8^r[(D^(128|P>>6&63))&255],D=D>>>8^r[(D^(128|P&63))&255]);return~D}return e.table=r,e.bstr=j,e.buf=k,e.str=O,e}(),Gt=function(){var t={};t.version="1.2.1";function r(K,de){for(var ne=K.split("/"),oe=de.split("/"),ue=0,he=0,Te=Math.min(ne.length,oe.length);ue<Te;++ue){if(he=ne[ue].length-oe[ue].length)return he;if(ne[ue]!=oe[ue])return ne[ue]<oe[ue]?-1:1}return ne.length-oe.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var de=K.lastIndexOf("/");return de===-1?K:K.slice(0,de+1)}function a(K){if(K.charAt(K.length-1)=="/")return a(K.slice(0,-1));var de=K.lastIndexOf("/");return de===-1?K:K.slice(de+1)}function i(K,de){typeof de=="string"&&(de=new Date(de));var ne=de.getHours();ne=ne<<6|de.getMinutes(),ne=ne<<5|de.getSeconds()>>>1,K.write_shift(2,ne);var oe=de.getFullYear()-1980;oe=oe<<4|de.getMonth()+1,oe=oe<<5|de.getDate(),K.write_shift(2,oe)}function s(K){var de=K.read_shift(2)&65535,ne=K.read_shift(2)&65535,oe=new Date,ue=ne&31;ne>>>=5;var he=ne&15;ne>>>=4,oe.setMilliseconds(0),oe.setFullYear(ne+1980),oe.setMonth(he-1),oe.setDate(ue);var Te=de&31;de>>>=5;var Re=de&63;return de>>>=6,oe.setHours(de),oe.setMinutes(Re),oe.setSeconds(Te<<1),oe}function o(K){Ni(K,0);for(var de={},ne=0;K.l<=K.length-4;){var oe=K.read_shift(2),ue=K.read_shift(2),he=K.l+ue,Te={};switch(oe){case 21589:ne=K.read_shift(1),ne&1&&(Te.mtime=K.read_shift(4)),ue>5&&(ne&2&&(Te.atime=K.read_shift(4)),ne&4&&(Te.ctime=K.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}K.l=he,de[oe]=Te}return de}var c;function u(){return c||(c={})}function f(K,de){if(K[0]==80&&K[1]==75)return Tn(K,de);if((K[0]|32)==109&&(K[1]|32)==105)return Ro(K,de);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var ne=3,oe=512,ue=0,he=0,Te=0,Re=0,Ce=0,Fe=[],Le=K.slice(0,512);Ni(Le,0);var ut=d(Le);switch(ne=ut[0],ne){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(ut[1]==0)return Tn(K,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}oe!==512&&(Le=K.slice(0,oe),Ni(Le,28));var bt=K.slice(0,oe);h(Le,ne);var Lt=Le.read_shift(4,"i");if(ne===3&&Lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Lt);Le.l+=4,Te=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),Re=Le.read_shift(4,"i"),ue=Le.read_shift(4,"i"),Ce=Le.read_shift(4,"i"),he=Le.read_shift(4,"i");for(var mt=-1,Pt=0;Pt<109&&(mt=Le.read_shift(4,"i"),!(mt<0));++Pt)Fe[Pt]=mt;var lr=p(K,oe);v(Ce,he,lr,oe,Fe);var rn=y(lr,Te,Fe,oe);rn[Te].name="!Directory",ue>0&&Re!==R&&(rn[Re].name="!MiniFAT"),rn[Fe[0]].name="!FAT",rn.fat_addrs=Fe,rn.ssz=oe;var gn={},ka=[],Sl=[],lu=[];b(Te,rn,lr,ka,ue,gn,Sl,Re),g(Sl,lu,ka),ka.shift();var vc={FileIndex:Sl,FullPaths:lu};return de&&de.raw&&(vc.raw={header:bt,sectors:lr}),vc}function d(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(U,"Header Signature: "),K.l+=16;var de=K.read_shift(2,"u");return[K.read_shift(2,"u"),de]}function h(K,de){var ne=9;switch(K.l+=2,ne=K.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function p(K,de){for(var ne=Math.ceil(K.length/de)-1,oe=[],ue=1;ue<ne;++ue)oe[ue-1]=K.slice(ue*de,(ue+1)*de);return oe[ne-1]=K.slice(ne*de),oe}function g(K,de,ne){for(var oe=0,ue=0,he=0,Te=0,Re=0,Ce=ne.length,Fe=[],Le=[];oe<Ce;++oe)Fe[oe]=Le[oe]=oe,de[oe]=ne[oe];for(;Re<Le.length;++Re)oe=Le[Re],ue=K[oe].L,he=K[oe].R,Te=K[oe].C,Fe[oe]===oe&&(ue!==-1&&Fe[ue]!==ue&&(Fe[oe]=Fe[ue]),he!==-1&&Fe[he]!==he&&(Fe[oe]=Fe[he])),Te!==-1&&(Fe[Te]=oe),ue!==-1&&oe!=Fe[oe]&&(Fe[ue]=Fe[oe],Le.lastIndexOf(ue)<Re&&Le.push(ue)),he!==-1&&oe!=Fe[oe]&&(Fe[he]=Fe[oe],Le.lastIndexOf(he)<Re&&Le.push(he));for(oe=1;oe<Ce;++oe)Fe[oe]===oe&&(he!==-1&&Fe[he]!==he?Fe[oe]=Fe[he]:ue!==-1&&Fe[ue]!==ue&&(Fe[oe]=Fe[ue]));for(oe=1;oe<Ce;++oe)if(K[oe].type!==0){if(Re=oe,Re!=Fe[Re])do Re=Fe[Re],de[oe]=de[Re]+"/"+de[oe];while(Re!==0&&Fe[Re]!==-1&&Re!=Fe[Re]);Fe[oe]=-1}for(de[0]+="/",oe=1;oe<Ce;++oe)K[oe].type!==2&&(de[oe]+="/")}function m(K,de,ne){for(var oe=K.start,ue=K.size,he=[],Te=oe;ne&&ue>0&&Te>=0;)he.push(de.slice(Te*P,Te*P+P)),ue-=P,Te=Nh(ne,Te*4);return he.length===0?ze(0):ni(he).slice(0,K.size)}function v(K,de,ne,oe,ue){var he=R;if(K===R){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var Te=ne[K],Re=(oe>>>2)-1;if(!Te)return;for(var Ce=0;Ce<Re&&(he=Nh(Te,Ce*4))!==R;++Ce)ue.push(he);v(Nh(Te,oe-4),de-1,ne,oe,ue)}}function x(K,de,ne,oe,ue){var he=[],Te=[];ue||(ue=[]);var Re=oe-1,Ce=0,Fe=0;for(Ce=de;Ce>=0;){ue[Ce]=!0,he[he.length]=Ce,Te.push(K[Ce]);var Le=ne[Math.floor(Ce*4/oe)];if(Fe=Ce*4&Re,oe<4+Fe)throw new Error("FAT boundary crossed: "+Ce+" 4 "+oe);if(!K[Le])break;Ce=Nh(K[Le],Fe)}return{nodes:he,data:YF([Te])}}function y(K,de,ne,oe){var ue=K.length,he=[],Te=[],Re=[],Ce=[],Fe=oe-1,Le=0,ut=0,bt=0,Lt=0;for(Le=0;Le<ue;++Le)if(Re=[],bt=Le+de,bt>=ue&&(bt-=ue),!Te[bt]){Ce=[];var mt=[];for(ut=bt;ut>=0;){mt[ut]=!0,Te[ut]=!0,Re[Re.length]=ut,Ce.push(K[ut]);var Pt=ne[Math.floor(ut*4/oe)];if(Lt=ut*4&Fe,oe<4+Lt)throw new Error("FAT boundary crossed: "+ut+" 4 "+oe);if(!K[Pt]||(ut=Nh(K[Pt],Lt),mt[ut]))break}he[bt]={nodes:Re,data:YF([Ce])}}return he}function b(K,de,ne,oe,ue,he,Te,Re){for(var Ce=0,Fe=oe.length?2:0,Le=de[K].data,ut=0,bt=0,Lt;ut<Le.length;ut+=128){var mt=Le.slice(ut,ut+128);Ni(mt,64),bt=mt.read_shift(2),Lt=ZC(mt,0,bt-Fe),oe.push(Lt);var Pt={name:Lt,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},lr=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);lr!==0&&(Pt.ct=j(mt,mt.l-8));var rn=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);rn!==0&&(Pt.mt=j(mt,mt.l-8)),Pt.start=mt.read_shift(4,"i"),Pt.size=mt.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=R,Pt.name=""),Pt.type===5?(Ce=Pt.start,ue>0&&Ce!==R&&(de[Ce].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",de[Pt.start]===void 0&&(de[Pt.start]=x(ne,Pt.start,de.fat_addrs,de.ssz)),de[Pt.start].name=Pt.name,Pt.content=de[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:Ce!==R&&Pt.start!==R&&de[Ce]&&(Pt.content=m(Pt,de[Ce].data,(de[Re]||{}).data))),Pt.content&&Ni(Pt.content,0),he[Lt]=Pt,Te.push(Pt)}}function j(K,de){return new Date((vo(K,de+4)/1e7*Math.pow(2,32)+vo(K,de)/1e7-11644473600)*1e3)}function k(K,de){return u(),f(c.readFileSync(K),de)}function O(K,de){var ne=de&&de.type;switch(ne||jr&&Buffer.isBuffer(K)&&(ne="buffer"),ne||"base64"){case"file":return k(K,de);case"base64":return f(yo(Po(K)),de);case"binary":return f(yo(K),de)}return f(K,de)}function N(K,de){var ne=de||{},oe=ne.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=oe+"/",K.FileIndex[0]={name:oe,type:5}),ne.CLSID&&(K.FileIndex[0].clsid=ne.CLSID),E(K)}function E(K){var de="Sh33tJ5";if(!Gt.find(K,"/"+de)){var ne=ze(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,K.FileIndex.push({name:de,type:2,content:ne,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+de),D(K)}}function D(K,de){N(K);for(var ne=!1,oe=!1,ue=K.FullPaths.length-1;ue>=0;--ue){var he=K.FileIndex[ue];switch(he.type){case 0:oe?ne=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(he.R*he.L*he.C)&&(ne=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!de)){var Te=new Date(1987,1,19),Re=0,Ce=Object.create?Object.create(null):{},Fe=[];for(ue=0;ue<K.FullPaths.length;++ue)Ce[K.FullPaths[ue]]=!0,K.FileIndex[ue].type!==0&&Fe.push([K.FullPaths[ue],K.FileIndex[ue]]);for(ue=0;ue<Fe.length;++ue){var Le=n(Fe[ue][0]);oe=Ce[Le],oe||(Fe.push([Le,{name:a(Le).replace("/",""),type:1,clsid:J,ct:Te,mt:Te,content:null}]),Ce[Le]=!0)}for(Fe.sort(function(Lt,mt){return r(Lt[0],mt[0])}),K.FullPaths=[],K.FileIndex=[],ue=0;ue<Fe.length;++ue)K.FullPaths[ue]=Fe[ue][0],K.FileIndex[ue]=Fe[ue][1];for(ue=0;ue<Fe.length;++ue){var ut=K.FileIndex[ue],bt=K.FullPaths[ue];if(ut.name=a(bt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||J,ue===0)ut.C=Fe.length>1?1:-1,ut.size=0,ut.type=5;else if(bt.slice(-1)=="/"){for(Re=ue+1;Re<Fe.length&&n(K.FullPaths[Re])!=bt;++Re);for(ut.C=Re>=Fe.length?-1:Re,Re=ue+1;Re<Fe.length&&n(K.FullPaths[Re])!=n(bt);++Re);ut.R=Re>=Fe.length?-1:Re,ut.type=1}else n(K.FullPaths[ue+1]||"")==n(bt)&&(ut.R=ue+1),ut.type=2}}}function M(K,de){var ne=de||{};if(ne.fileType=="mad")return Xt(K,ne);switch(D(K),ne.fileType){case"zip":return _l(K,ne)}var oe=function(Lt){for(var mt=0,Pt=0,lr=0;lr<Lt.FileIndex.length;++lr){var rn=Lt.FileIndex[lr];if(rn.content){var gn=rn.content.length;gn>0&&(gn<4096?mt+=gn+63>>6:Pt+=gn+511>>9)}}for(var ka=Lt.FullPaths.length+3>>2,Sl=mt+7>>3,lu=mt+127>>7,vc=Sl+Pt+ka+lu,jl=vc+127>>7,xc=jl<=109?0:Math.ceil((jl-109)/127);vc+jl+xc+127>>7>jl;)xc=++jl<=109?0:Math.ceil((jl-109)/127);var to=[1,xc,jl,lu,ka,Pt,mt,0];return Lt.FileIndex[0].size=mt<<6,to[7]=(Lt.FileIndex[0].start=to[0]+to[1]+to[2]+to[3]+to[4]+to[5])+(to[6]+7>>3),to}(K),ue=ze(oe[7]<<9),he=0,Te=0;{for(he=0;he<8;++he)ue.write_shift(1,ee[he]);for(he=0;he<8;++he)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),he=0;he<3;++he)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,oe[2]),ue.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:R),ue.write_shift(4,oe[3]),ue.write_shift(-4,oe[1]?oe[0]-1:R),ue.write_shift(4,oe[1]),he=0;he<109;++he)ue.write_shift(-4,he<oe[2]?oe[1]+he:-1)}if(oe[1])for(Te=0;Te<oe[1];++Te){for(;he<236+Te*127;++he)ue.write_shift(-4,he<oe[2]?oe[1]+he:-1);ue.write_shift(-4,Te===oe[1]-1?R:Te+1)}var Re=function(Lt){for(Te+=Lt;he<Te-1;++he)ue.write_shift(-4,he+1);Lt&&(++he,ue.write_shift(-4,R))};for(Te=he=0,Te+=oe[1];he<Te;++he)ue.write_shift(-4,ae.DIFSECT);for(Te+=oe[2];he<Te;++he)ue.write_shift(-4,ae.FATSECT);Re(oe[3]),Re(oe[4]);for(var Ce=0,Fe=0,Le=K.FileIndex[0];Ce<K.FileIndex.length;++Ce)Le=K.FileIndex[Ce],Le.content&&(Fe=Le.content.length,!(Fe<4096)&&(Le.start=Te,Re(Fe+511>>9)));for(Re(oe[6]+7>>3);ue.l&511;)ue.write_shift(-4,ae.ENDOFCHAIN);for(Te=he=0,Ce=0;Ce<K.FileIndex.length;++Ce)Le=K.FileIndex[Ce],Le.content&&(Fe=Le.content.length,!(!Fe||Fe>=4096)&&(Le.start=Te,Re(Fe+63>>6)));for(;ue.l&511;)ue.write_shift(-4,ae.ENDOFCHAIN);for(he=0;he<oe[4]<<2;++he){var ut=K.FullPaths[he];if(!ut||ut.length===0){for(Ce=0;Ce<17;++Ce)ue.write_shift(4,0);for(Ce=0;Ce<3;++Ce)ue.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)ue.write_shift(4,0);continue}Le=K.FileIndex[he],he===0&&(Le.start=Le.size?Le.start-1:R);var bt=he===0&&ne.root||Le.name;if(Fe=2*(bt.length+1),ue.write_shift(64,bt,"utf16le"),ue.write_shift(2,Fe),ue.write_shift(1,Le.type),ue.write_shift(1,Le.color),ue.write_shift(-4,Le.L),ue.write_shift(-4,Le.R),ue.write_shift(-4,Le.C),Le.clsid)ue.write_shift(16,Le.clsid,"hex");else for(Ce=0;Ce<4;++Ce)ue.write_shift(4,0);ue.write_shift(4,Le.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,Le.start),ue.write_shift(4,Le.size),ue.write_shift(4,0)}for(he=1;he<K.FileIndex.length;++he)if(Le=K.FileIndex[he],Le.size>=4096)if(ue.l=Le.start+1<<9,jr&&Buffer.isBuffer(Le.content))Le.content.copy(ue,ue.l,0,Le.size),ue.l+=Le.size+511&-512;else{for(Ce=0;Ce<Le.size;++Ce)ue.write_shift(1,Le.content[Ce]);for(;Ce&511;++Ce)ue.write_shift(1,0)}for(he=1;he<K.FileIndex.length;++he)if(Le=K.FileIndex[he],Le.size>0&&Le.size<4096)if(jr&&Buffer.isBuffer(Le.content))Le.content.copy(ue,ue.l,0,Le.size),ue.l+=Le.size+63&-64;else{for(Ce=0;Ce<Le.size;++Ce)ue.write_shift(1,Le.content[Ce]);for(;Ce&63;++Ce)ue.write_shift(1,0)}if(jr)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function C(K,de){var ne=K.FullPaths.map(function(Ce){return Ce.toUpperCase()}),oe=ne.map(function(Ce){var Fe=Ce.split("/");return Fe[Fe.length-(Ce.slice(-1)=="/"?2:1)]}),ue=!1;de.charCodeAt(0)===47?(ue=!0,de=ne[0].slice(0,-1)+de):ue=de.indexOf("/")!==-1;var he=de.toUpperCase(),Te=ue===!0?ne.indexOf(he):oe.indexOf(he);if(Te!==-1)return K.FileIndex[Te];var Re=!he.match(zv);for(he=he.replace(_s,""),Re&&(he=he.replace(zv,"!")),Te=0;Te<ne.length;++Te)if((Re?ne[Te].replace(zv,"!"):ne[Te]).replace(_s,"")==he||(Re?oe[Te].replace(zv,"!"):oe[Te]).replace(_s,"")==he)return K.FileIndex[Te];return null}var P=64,R=-2,U="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(K,de,ne){u();var oe=M(K,ne);c.writeFileSync(de,oe)}function W(K){for(var de=new Array(K.length),ne=0;ne<K.length;++ne)de[ne]=String.fromCharCode(K[ne]);return de.join("")}function fe(K,de){var ne=M(K,de);switch(de&&de.type||"buffer"){case"file":return u(),c.writeFileSync(de.filename,ne),ne;case"binary":return typeof ne=="string"?ne:W(ne);case"base64":return s1(typeof ne=="string"?ne:W(ne));case"buffer":if(jr)return Buffer.isBuffer(ne)?ne:uf(ne);case"array":return typeof ne=="string"?yo(ne):ne}return ne}var Se;function T(K){try{var de=K.InflateRaw,ne=new de;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)Se=K;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function L(K,de){if(!Se)return Rr(K,de);var ne=Se.InflateRaw,oe=new ne,ue=oe._processChunk(K.slice(K.l),oe._finishFlushFlag);return K.l+=oe.bytesRead,ue}function B(K){return Se?Se.deflateRawSync(K):dt(K)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(K){var de=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(de>>16|de>>8|de)&255}for(var Q=typeof Uint8Array<"u",ge=Q?new Uint8Array(256):[],_e=0;_e<256;++_e)ge[_e]=pe(_e);function q(K,de){var ne=ge[K&255];return de<=8?ne>>>8-de:(ne=ne<<8|ge[K>>8&255],de<=16?ne>>>16-de:(ne=ne<<8|ge[K>>16&255],ne>>>24-de))}function Be(K,de){var ne=de&7,oe=de>>>3;return(K[oe]|(ne<=6?0:K[oe+1]<<8))>>>ne&3}function We(K,de){var ne=de&7,oe=de>>>3;return(K[oe]|(ne<=5?0:K[oe+1]<<8))>>>ne&7}function Ae(K,de){var ne=de&7,oe=de>>>3;return(K[oe]|(ne<=4?0:K[oe+1]<<8))>>>ne&15}function se(K,de){var ne=de&7,oe=de>>>3;return(K[oe]|(ne<=3?0:K[oe+1]<<8))>>>ne&31}function Ie(K,de){var ne=de&7,oe=de>>>3;return(K[oe]|(ne<=1?0:K[oe+1]<<8))>>>ne&127}function yt(K,de,ne){var oe=de&7,ue=de>>>3,he=(1<<ne)-1,Te=K[ue]>>>oe;return ne<8-oe||(Te|=K[ue+1]<<8-oe,ne<16-oe)||(Te|=K[ue+2]<<16-oe,ne<24-oe)||(Te|=K[ue+3]<<24-oe),Te&he}function Je(K,de,ne){var oe=de&7,ue=de>>>3;return oe<=5?K[ue]|=(ne&7)<<oe:(K[ue]|=ne<<oe&255,K[ue+1]=(ne&7)>>8-oe),de+3}function gt(K,de,ne){var oe=de&7,ue=de>>>3;return ne=(ne&1)<<oe,K[ue]|=ne,de+1}function wt(K,de,ne){var oe=de&7,ue=de>>>3;return ne<<=oe,K[ue]|=ne&255,ne>>>=8,K[ue+1]=ne,de+8}function le(K,de,ne){var oe=de&7,ue=de>>>3;return ne<<=oe,K[ue]|=ne&255,ne>>>=8,K[ue+1]=ne&255,K[ue+2]=ne>>>8,de+16}function ve(K,de){var ne=K.length,oe=2*ne>de?2*ne:de+5,ue=0;if(ne>=de)return K;if(jr){var he=TF(oe);if(K.copy)K.copy(he);else for(;ue<K.length;++ue)he[ue]=K[ue];return he}else if(Q){var Te=new Uint8Array(oe);if(Te.set)Te.set(K);else for(;ue<ne;++ue)Te[ue]=K[ue];return Te}return K.length=oe,K}function ke(K){for(var de=new Array(K),ne=0;ne<K;++ne)de[ne]=0;return de}function Ge(K,de,ne){var oe=1,ue=0,he=0,Te=0,Re=0,Ce=K.length,Fe=Q?new Uint16Array(32):ke(32);for(he=0;he<32;++he)Fe[he]=0;for(he=Ce;he<ne;++he)K[he]=0;Ce=K.length;var Le=Q?new Uint16Array(Ce):ke(Ce);for(he=0;he<Ce;++he)Fe[ue=K[he]]++,oe<ue&&(oe=ue),Le[he]=0;for(Fe[0]=0,he=1;he<=oe;++he)Fe[he+16]=Re=Re+Fe[he-1]<<1;for(he=0;he<Ce;++he)Re=K[he],Re!=0&&(Le[he]=Fe[Re+16]++);var ut=0;for(he=0;he<Ce;++he)if(ut=K[he],ut!=0)for(Re=q(Le[he],oe)>>oe-ut,Te=(1<<oe+4-ut)-1;Te>=0;--Te)de[Re|Te<<ut]=ut&15|he<<4;return oe}var He=Q?new Uint16Array(512):ke(512),qe=Q?new Uint16Array(32):ke(32);if(!Q){for(var tt=0;tt<512;++tt)He[tt]=0;for(tt=0;tt<32;++tt)qe[tt]=0}(function(){for(var K=[],de=0;de<32;de++)K.push(5);Ge(K,qe,32);var ne=[];for(de=0;de<=143;de++)ne.push(8);for(;de<=255;de++)ne.push(9);for(;de<=279;de++)ne.push(7);for(;de<=287;de++)ne.push(8);Ge(ne,He,288)})();var vt=function(){for(var de=Q?new Uint8Array(32768):[],ne=0,oe=0;ne<ie.length-1;++ne)for(;oe<ie[ne+1];++oe)de[oe]=ne;for(;oe<32768;++oe)de[oe]=29;var ue=Q?new Uint8Array(259):[];for(ne=0,oe=0;ne<te.length-1;++ne)for(;oe<te[ne+1];++oe)ue[oe]=ne;function he(Re,Ce){for(var Fe=0;Fe<Re.length;){var Le=Math.min(65535,Re.length-Fe),ut=Fe+Le==Re.length;for(Ce.write_shift(1,+ut),Ce.write_shift(2,Le),Ce.write_shift(2,~Le&65535);Le-- >0;)Ce[Ce.l++]=Re[Fe++]}return Ce.l}function Te(Re,Ce){for(var Fe=0,Le=0,ut=Q?new Uint16Array(32768):[];Le<Re.length;){var bt=Math.min(65535,Re.length-Le);if(bt<10){for(Fe=Je(Ce,Fe,+(Le+bt==Re.length)),Fe&7&&(Fe+=8-(Fe&7)),Ce.l=Fe/8|0,Ce.write_shift(2,bt),Ce.write_shift(2,~bt&65535);bt-- >0;)Ce[Ce.l++]=Re[Le++];Fe=Ce.l*8;continue}Fe=Je(Ce,Fe,+(Le+bt==Re.length)+2);for(var Lt=0;bt-- >0;){var mt=Re[Le];Lt=(Lt<<5^mt)&32767;var Pt=-1,lr=0;if((Pt=ut[Lt])&&(Pt|=Le&-32768,Pt>Le&&(Pt-=32768),Pt<Le))for(;Re[Pt+lr]==Re[Le+lr]&&lr<250;)++lr;if(lr>2){mt=ue[lr],mt<=22?Fe=wt(Ce,Fe,ge[mt+1]>>1)-1:(wt(Ce,Fe,3),Fe+=5,wt(Ce,Fe,ge[mt-23]>>5),Fe+=3);var rn=mt<8?0:mt-4>>2;rn>0&&(le(Ce,Fe,lr-te[mt]),Fe+=rn),mt=de[Le-Pt],Fe=wt(Ce,Fe,ge[mt]>>3),Fe-=3;var gn=mt<4?0:mt-2>>1;gn>0&&(le(Ce,Fe,Le-Pt-ie[mt]),Fe+=gn);for(var ka=0;ka<lr;++ka)ut[Lt]=Le&32767,Lt=(Lt<<5^Re[Le])&32767,++Le;bt-=lr-1}else mt<=143?mt=mt+48:Fe=gt(Ce,Fe,1),Fe=wt(Ce,Fe,ge[mt]),ut[Lt]=Le&32767,++Le}Fe=wt(Ce,Fe,0)-1}return Ce.l=(Fe+7)/8|0,Ce.l}return function(Ce,Fe){return Ce.length<8?he(Ce,Fe):Te(Ce,Fe)}}();function dt(K){var de=ze(50+Math.floor(K.length*1.1)),ne=vt(K,de);return de.slice(0,ne)}var et=Q?new Uint16Array(32768):ke(32768),en=Q?new Uint16Array(32768):ke(32768),Vt=Q?new Uint16Array(128):ke(128),Gn=1,Yr=1;function sn(K,de){var ne=se(K,de)+257;de+=5;var oe=se(K,de)+1;de+=5;var ue=Ae(K,de)+4;de+=4;for(var he=0,Te=Q?new Uint8Array(19):ke(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Fe=Q?new Uint8Array(8):ke(8),Le=Q?new Uint8Array(8):ke(8),ut=Te.length,bt=0;bt<ue;++bt)Te[z[bt]]=he=We(K,de),Ce<he&&(Ce=he),Fe[he]++,de+=3;var Lt=0;for(Fe[0]=0,bt=1;bt<=Ce;++bt)Le[bt]=Lt=Lt+Fe[bt-1]<<1;for(bt=0;bt<ut;++bt)(Lt=Te[bt])!=0&&(Re[bt]=Le[Lt]++);var mt=0;for(bt=0;bt<ut;++bt)if(mt=Te[bt],mt!=0){Lt=ge[Re[bt]]>>8-mt;for(var Pt=(1<<7-mt)-1;Pt>=0;--Pt)Vt[Lt|Pt<<mt]=mt&7|bt<<3}var lr=[];for(Ce=1;lr.length<ne+oe;)switch(Lt=Vt[Ie(K,de)],de+=Lt&7,Lt>>>=3){case 16:for(he=3+Be(K,de),de+=2,Lt=lr[lr.length-1];he-- >0;)lr.push(Lt);break;case 17:for(he=3+We(K,de),de+=3;he-- >0;)lr.push(0);break;case 18:for(he=11+Ie(K,de),de+=7;he-- >0;)lr.push(0);break;default:lr.push(Lt),Ce<Lt&&(Ce=Lt);break}var rn=lr.slice(0,ne),gn=lr.slice(ne);for(bt=ne;bt<286;++bt)rn[bt]=0;for(bt=oe;bt<30;++bt)gn[bt]=0;return Gn=Ge(rn,et,286),Yr=Ge(gn,en,30),de}function Cs(K,de){if(K[0]==3&&!(K[1]&3))return[Id(de),2];for(var ne=0,oe=0,ue=TF(de||1<<18),he=0,Te=ue.length>>>0,Re=0,Ce=0;!(oe&1);){if(oe=We(K,ne),ne+=3,oe>>>1)oe>>1==1?(Re=9,Ce=5):(ne=sn(K,ne),Re=Gn,Ce=Yr);else{ne&7&&(ne+=8-(ne&7));var Fe=K[ne>>>3]|K[(ne>>>3)+1]<<8;if(ne+=32,Fe>0)for(!de&&Te<he+Fe&&(ue=ve(ue,he+Fe),Te=ue.length);Fe-- >0;)ue[he++]=K[ne>>>3],ne+=8;continue}for(;;){!de&&Te<he+32767&&(ue=ve(ue,he+32767),Te=ue.length);var Le=yt(K,ne,Re),ut=oe>>>1==1?He[Le]:et[Le];if(ne+=ut&15,ut>>>=4,!(ut>>>8&255))ue[he++]=ut;else{if(ut==256)break;ut-=257;var bt=ut<8?0:ut-4>>2;bt>5&&(bt=0);var Lt=he+te[ut];bt>0&&(Lt+=yt(K,ne,bt),ne+=bt),Le=yt(K,ne,Ce),ut=oe>>>1==1?qe[Le]:en[Le],ne+=ut&15,ut>>>=4;var mt=ut<4?0:ut-2>>1,Pt=ie[ut];for(mt>0&&(Pt+=yt(K,ne,mt),ne+=mt),!de&&Te<Lt&&(ue=ve(ue,Lt+100),Te=ue.length);he<Lt;)ue[he]=ue[he-Pt],++he}}}return de?[ue,ne+7>>>3]:[ue.slice(0,he),ne+7>>>3]}function Rr(K,de){var ne=K.slice(K.l||0),oe=Cs(ne,de);return K.l+=oe[1],oe[0]}function gc(K,de){if(K)typeof console<"u"&&console.error(de);else throw new Error(de)}function Tn(K,de){var ne=K;Ni(ne,0);var oe=[],ue=[],he={FileIndex:oe,FullPaths:ue};N(he,{root:de.root});for(var Te=ne.length-4;(ne[Te]!=80||ne[Te+1]!=75||ne[Te+2]!=5||ne[Te+3]!=6)&&Te>=0;)--Te;ne.l=Te+4,ne.l+=4;var Re=ne.read_shift(2);ne.l+=6;var Ce=ne.read_shift(4);for(ne.l=Ce,Te=0;Te<Re;++Te){ne.l+=20;var Fe=ne.read_shift(4),Le=ne.read_shift(4),ut=ne.read_shift(2),bt=ne.read_shift(2),Lt=ne.read_shift(2);ne.l+=8;var mt=ne.read_shift(4),Pt=o(ne.slice(ne.l+ut,ne.l+ut+bt));ne.l+=ut+bt+Lt;var lr=ne.l;ne.l=mt+4,Qs(ne,Fe,Le,he,Pt),ne.l=lr}return he}function Qs(K,de,ne,oe,ue){K.l+=2;var he=K.read_shift(2),Te=K.read_shift(2),Re=s(K);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=K.read_shift(4),Fe=K.read_shift(4),Le=K.read_shift(4),ut=K.read_shift(2),bt=K.read_shift(2),Lt="",mt=0;mt<ut;++mt)Lt+=String.fromCharCode(K[K.l++]);if(bt){var Pt=o(K.slice(K.l,K.l+bt));(Pt[21589]||{}).mt&&(Re=Pt[21589].mt),((ue||{})[21589]||{}).mt&&(Re=ue[21589].mt)}K.l+=bt;var lr=K.slice(K.l,K.l+Fe);switch(Te){case 8:lr=L(K,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var rn=!1;he&8&&(Ce=K.read_shift(4),Ce==134695760&&(Ce=K.read_shift(4),rn=!0),Fe=K.read_shift(4),Le=K.read_shift(4)),Fe!=de&&gc(rn,"Bad compressed size: "+de+" != "+Fe),Le!=ne&&gc(rn,"Bad uncompressed size: "+ne+" != "+Le),Ts(oe,Lt,lr,{unsafe:!0,mt:Re})}function _l(K,de){var ne=de||{},oe=[],ue=[],he=ze(1),Te=ne.compression?8:0,Re=0,Ce=0,Fe=0,Le=0,ut=0,bt=K.FullPaths[0],Lt=bt,mt=K.FileIndex[0],Pt=[],lr=0;for(Ce=1;Ce<K.FullPaths.length;++Ce)if(Lt=K.FullPaths[Ce].slice(bt.length),mt=K.FileIndex[Ce],!(!mt.size||!mt.content||Lt=="Sh33tJ5")){var rn=Le,gn=ze(Lt.length);for(Fe=0;Fe<Lt.length;++Fe)gn.write_shift(1,Lt.charCodeAt(Fe)&127);gn=gn.slice(0,gn.l),Pt[ut]=Khe.buf(mt.content,0);var ka=mt.content;Te==8&&(ka=B(ka)),he=ze(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,Re),he.write_shift(2,Te),mt.mt?i(he,mt.mt):he.write_shift(4,0),he.write_shift(-4,Pt[ut]),he.write_shift(4,ka.length),he.write_shift(4,mt.content.length),he.write_shift(2,gn.length),he.write_shift(2,0),Le+=he.length,oe.push(he),Le+=gn.length,oe.push(gn),Le+=ka.length,oe.push(ka),he=ze(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,Re),he.write_shift(2,Te),he.write_shift(4,0),he.write_shift(-4,Pt[ut]),he.write_shift(4,ka.length),he.write_shift(4,mt.content.length),he.write_shift(2,gn.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,rn),lr+=he.l,ue.push(he),lr+=gn.length,ue.push(gn),++ut}return he=ze(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,ut),he.write_shift(2,ut),he.write_shift(4,lr),he.write_shift(4,Le),he.write_shift(2,0),ni([ni(oe),ni(ue),he])}var yn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cr(K,de){if(K.ctype)return K.ctype;var ne=K.name||"",oe=ne.match(/\.([^\.]+)$/);return oe&&yn[oe[1]]||de&&(oe=(ne=de).match(/[\.\\]([^\.\\])+$/),oe&&yn[oe[1]])?yn[oe[1]]:"application/octet-stream"}function Xr(K){for(var de=s1(K),ne=[],oe=0;oe<de.length;oe+=76)ne.push(de.slice(oe,oe+76));return ne.join(`\r
`)+`\r
`}function ou(K){var de=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Fe){var Le=Fe.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],oe=de.split(`\r
`),ue=0;ue<oe.length;++ue){var he=oe[ue];if(he.length==0){ne.push("");continue}for(var Te=0;Te<he.length;){var Re=76,Ce=he.slice(Te,Te+Re);Ce.charAt(Re-1)=="="?Re--:Ce.charAt(Re-2)=="="?Re-=2:Ce.charAt(Re-3)=="="&&(Re-=3),Ce=he.slice(Te,Te+Re),Te+=Re,Te<he.length&&(Ce+="="),ne.push(Ce)}}return ne.join(`\r
`)}function Ia(K){for(var de=[],ne=0;ne<K.length;++ne){for(var oe=K[ne];ne<=K.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+K[++ne];de.push(oe)}for(var ue=0;ue<de.length;++ue)de[ue]=de[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return yo(de.join(`\r
`))}function Io(K,de,ne){for(var oe="",ue="",he="",Te,Re=0;Re<10;++Re){var Ce=de[Re];if(!Ce||Ce.match(/^\s*$/))break;var Fe=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Fe)switch(Fe[1].toLowerCase()){case"content-location":oe=Fe[2].trim();break;case"content-type":he=Fe[2].trim();break;case"content-transfer-encoding":ue=Fe[2].trim();break}}switch(++Re,ue.toLowerCase()){case"base64":Te=yo(Po(de.slice(Re).join("")));break;case"quoted-printable":Te=Ia(de.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var Le=Ts(K,oe.slice(ne.length),Te,{unsafe:!0});he&&(Le.ctype=he)}function Ro(K,de){if(W(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=de&&de.root||"",oe=(jr&&Buffer.isBuffer(K)?K.toString("binary"):W(K)).split(`\r
`),ue=0,he="";for(ue=0;ue<oe.length;++ue)if(he=oe[ue],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ne||(ne=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),he.slice(0,ne.length)!=ne););var Te=(oe[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Re="--"+(Te[1]||""),Ce=[],Fe=[],Le={FileIndex:Ce,FullPaths:Fe};N(Le);var ut,bt=0;for(ue=0;ue<oe.length;++ue){var Lt=oe[ue];Lt!==Re&&Lt!==Re+"--"||(bt++&&Io(Le,oe.slice(ut,ue),ne),ut=ue)}return Le}function Xt(K,de){var ne=de||{},oe=ne.boundary||"SheetJS";oe="------="+oe;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],he=K.FullPaths[0],Te=he,Re=K.FileIndex[0],Ce=1;Ce<K.FullPaths.length;++Ce)if(Te=K.FullPaths[Ce].slice(he.length),Re=K.FileIndex[Ce],!(!Re.size||!Re.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lr){return"_x"+lr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lr){return"_u"+lr.charCodeAt(0).toString(16)+"_"});for(var Fe=Re.content,Le=jr&&Buffer.isBuffer(Fe)?Fe.toString("binary"):W(Fe),ut=0,bt=Math.min(1024,Le.length),Lt=0,mt=0;mt<=bt;++mt)(Lt=Le.charCodeAt(mt))>=32&&Lt<128&&++ut;var Pt=ut>=bt*4/5;ue.push(oe),ue.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Te),ue.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),ue.push("Content-Type: "+cr(Re,Te)),ue.push(""),ue.push(Pt?ou(Le):Xr(Le))}return ue.push(oe+`--\r
`),ue.join(`\r
`)}function eo(K){var de={};return N(de,K),de}function Ts(K,de,ne,oe){var ue=oe&&oe.unsafe;ue||N(K);var he=!ue&&Gt.find(K,de);if(!he){var Te=K.FullPaths[0];de.slice(0,Te.length)==Te?Te=de:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+de).replace("//","/")),he={name:a(de),type:2},K.FileIndex.push(he),K.FullPaths.push(Te),ue||Gt.utils.cfb_gc(K)}return he.content=ne,he.size=ne?ne.length:0,oe&&(oe.CLSID&&(he.clsid=oe.CLSID),oe.mt&&(he.mt=oe.mt),oe.ct&&(he.ct=oe.ct)),he}function Ii(K,de){N(K);var ne=Gt.find(K,de);if(ne){for(var oe=0;oe<K.FileIndex.length;++oe)if(K.FileIndex[oe]==ne)return K.FileIndex.splice(oe,1),K.FullPaths.splice(oe,1),!0}return!1}function da(K,de,ne){N(K);var oe=Gt.find(K,de);if(oe){for(var ue=0;ue<K.FileIndex.length;++ue)if(K.FileIndex[ue]==oe)return K.FileIndex[ue].name=a(ne),K.FullPaths[ue]=ne,!0}return!1}function ra(K){D(K,!0)}return t.find=C,t.read=O,t.parse=f,t.write=fe,t.writeFile=X,t.utils={cfb_new:eo,cfb_add:Ts,cfb_del:Ii,cfb_mov:da,cfb_gc:ra,ReadShift:ux,CheckField:iW,prep_blob:Ni,bconcat:ni,use_zlib:T,_deflateRaw:dt,_inflateRaw:Rr,consts:ae},t}();function Yhe(e){return typeof e=="string"?q5(e):Array.isArray(e)?bhe(e):e}function ny(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=q5(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Mc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Yhe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Zd(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Xhe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function fa(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function MF(e,t){for(var r=[],n=fa(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function V5(e){for(var t=[],r=fa(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function H5(e){for(var t=[],r=fa(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Zhe(e){for(var t=[],r=fa(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Hb=new Date(1899,11,30,0,0,0);function Ga(e,t){var r=e.getTime(),n=Hb.getTime()+(e.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Mq=new Date,Jhe=Hb.getTime()+(Mq.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4,BF=Mq.getTimezoneOffset();function G5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Jhe),t.getTimezoneOffset()!==BF&&t.setTime(t.getTime()+(t.getTimezoneOffset()-BF)*6e4),t}function Qhe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var UF=new Date("2017-02-19T19:06:09.000Z"),Bq=isNaN(UF.getFullYear())?new Date("2/19/17"):UF,e0e=Bq.getFullYear()==2017;function qn(e,t){var r=new Date(e);if(e0e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Bq.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function y0(e,t){if(jr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mc(kq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Wn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Wn(e[r]));return t}function ca(e,t){for(var r="";r.length<t;)r+=e;return r}function nc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var t0e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&t0e.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var r0e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function Uq(e){return e?e.content&&e.type?y0(e.content,!0):e.data?$v(e.data):e.asNodeBuffer&&jr?$v(e.asNodeBuffer().toString("binary")):e.asBinary?$v(e.asBinary()):e._data&&e._data.getContent?$v(y0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function $q(e){if(!e)return null;if(e.data)return EF(e.data);if(e.asNodeBuffer&&jr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?EF(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function n0e(e){return e&&e.name.slice(-4)===".bin"?$q(e):Uq(e)}function Xo(e,t){for(var r=e.FullPaths||fa(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function VC(e,t){var r=Xo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Oa(e,t,r){if(!r)return n0e(VC(e,t));if(!t)return null;try{return Oa(e,t)}catch{return null}}function wo(e,t,r){if(!r)return Uq(VC(e,t));if(!t)return null;try{return wo(e,t)}catch{return null}}function a0e(e,t,r){return $q(VC(e,t))}function $F(e){for(var t=e.FullPaths||fa(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function yr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return jr?n=uf(r):n=_he(r),Gt.utils.cfb_add(e,t,n)}Gt.utils.cfb_add(e,t,r)}else e.file(t,r)}function HC(){return Gt.utils.cfb_new()}function zq(e,t){switch(t.type){case"base64":return Gt.read(e,{type:"base64"});case"binary":return Gt.read(e,{type:"binary"});case"buffer":case"array":return Gt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function qv(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Na=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,i0e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,zF=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,s0e=/<[^>]*>/g,os=Na.match(zF)?zF:s0e,o0e=/<\w*:/,l0e=/<(\/?)\w+:/;function sr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(i0e),o=0,c="",u=0,f="",d="",h=1;if(s)for(u=0;u!=s.length;++u){for(d=s[u],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(f=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(a=d.charCodeAt(i+1))==34||a==39?1:0,c=d.slice(i+1+h,d.length-h),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=c,n[f.toLowerCase()]=c;else{var p=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(n[p]&&f.slice(o-3,o)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function au(e){return e.replace(l0e,"<$1")}var qq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},GC=V5(qq),Gr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return qq[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),KC=/[&<>'"]/g,c0e=/[\u0000-\u0008\u000b-\u001f]/g;function dn(e){var t=e+"";return t.replace(KC,function(r){return GC[r]}).replace(c0e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function qF(e){return dn(e).replace(/ /g,"_x0020_")}var Wq=/[\u0000-\u001f]/g;function YC(e){var t=e+"";return t.replace(KC,function(r){return GC[r]}).replace(/\n/g,"<br/>").replace(Wq,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function u0e(e){var t=e+"";return t.replace(KC,function(r){return GC[r]}).replace(Wq,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var WF=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function f0e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Dn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function D4(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function VF(e){var t=Id(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function HF(e){return uf(e,"binary").toString("utf8")}var z2="foo bar bazâð£",xn=jr&&(HF(z2)==D4(z2)&&HF||VF(z2)==D4(z2)&&VF)||D4,Mc=jr?function(e){return uf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},l1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Vq=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),d0e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),h0e=/<\/?(?:vt:)?variant>/g,p0e=/<(?:vt:)([^>]*)>([\s\S]*)</;function GF(e,t){var r=sr(e),n=e.match(d0e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(h0e,"").match(p0e);s&&a.push({v:xn(s[2]),t:s[1]})}),a}var Hq=/(^\s|\s$|\n)/;function Ei(e,t){return"<"+e+(t.match(Hq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function c1(e){return fa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function _t(e,t,r){return"<"+e+(r!=null?c1(r):"")+(t!=null?(t.match(Hq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function bA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function m0e(e,t){switch(typeof e){case"string":var r=_t("vt:lpwstr",dn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return _t((e|0)==e?"vt:i4":"vt:r8",dn(String(e)));case"boolean":return _t("vt:bool",e?"true":"false")}if(e instanceof Date)return _t("vt:filetime",bA(e));throw new Error("Unable to serialize "+e)}function XC(e){if(jr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return xn(Zd(zC(e)));throw new Error("Bad input format: expected Buffer or string")}var u1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,za={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},F0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],go={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function g0e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function v0e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var KF=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},YF=jr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:uf(t)})):KF(e)}:KF,XF=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Iu(e,a)));return n.join("").replace(_s,"")},ZC=jr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(_s,""):XF(e,t,r)}:XF,ZF=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Gq=jr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ZF(e,t,r)}:ZF,JF=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Dp(e,a)));return n.join("")},ay=jr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):JF(t,r,n)}:JF,Kq=function(e,t){var r=vo(e,t);return r>0?ay(e,t+4,t+4+r-1):""},Yq=Kq,Xq=function(e,t){var r=vo(e,t);return r>0?ay(e,t+4,t+4+r-1):""},Zq=Xq,Jq=function(e,t){var r=2*vo(e,t);return r>0?ay(e,t+4,t+4+r-1):""},Qq=Jq,eW=function(t,r){var n=vo(t,r);return n>0?ZC(t,r+4,r+4+n):""},tW=eW,rW=function(e,t){var r=vo(e,t);return r>0?ay(e,t+4,t+4+r):""},nW=rW,aW=function(e,t){return g0e(e,t)},Gb=aW,JC=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};jr&&(Yq=function(t,r){if(!Buffer.isBuffer(t))return Kq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Zq=function(t,r){if(!Buffer.isBuffer(t))return Xq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Qq=function(t,r){if(!Buffer.isBuffer(t))return Jq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},tW=function(t,r){if(!Buffer.isBuffer(t))return eW(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},nW=function(t,r){if(!Buffer.isBuffer(t))return rW(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Gb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):aW(t,r)},JC=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Dp=function(e,t){return e[t]},Iu=function(e,t){return e[t+1]*256+e[t]},x0e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},vo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Nh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},y0e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ux(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,jr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Iu(this,u)),u+=2;e*=2;break;case"utf8":r=ay(this,this.l,this.l+e);break;case"utf16le":e*=2,r=ZC(this,this.l,this.l+e);break;case"wstr":return ux.call(this,e,"dbcs");case"lpstr-ansi":r=Yq(this,this.l),e=4+vo(this,this.l);break;case"lpstr-cp":r=Zq(this,this.l),e=4+vo(this,this.l);break;case"lpwstr":r=Qq(this,this.l),e=4+2*vo(this,this.l);break;case"lpp4":e=4+vo(this,this.l),r=tW(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+vo(this,this.l),r=nW(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Dp(this,this.l+e++))!==0;)i.push($2(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Iu(this,this.l+e))!==0;)i.push($2(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dp(this,u),this.l=u+1,o=ux.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($2(Iu(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dp(this,u),this.l=u+1,o=ux.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($2(Dp(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Dp(this,this.l),this.l++,n;case 2:return n=(t==="i"?x0e:Iu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Nh:y0e)(this,this.l),this.l+=4,n):(a=vo(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Gb(this,this.l):a=Gb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Gq(this,this.l,e);break}}return this.l+=e,r}var w0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},b0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},_0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function S0e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)_0e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,w0e(this,t,this.l);break;case 8:if(n=8,r==="f"){v0e(this,t,this.l);break}case 16:break;case-4:n=4,b0e(this,t,this.l);break}return this.l+=n,this}function iW(e,t){var r=Gq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ni(e,t){e.l=t,e.read_shift=ux,e.chk=iW,e.write_shift=S0e}function ss(e,t){e.l+=t}function ze(e){var t=Id(e);return Ni(t,0),t}function ff(e,t,r){if(e){var n,a,i;Ni(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=g1[o]||g1[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var f=u.f&&u.f(e,i,r);if(e.l=c,t(f,u,o))return}}}function Ks(){var e=[],t=jr?256:2048,r=function(u){var f=ze(u);return Ni(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),ni(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function rt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=g1[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&JC(r)&&e.push(r)}}function fx(e,t,r){var n=Wn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function QF(e,t,r){var n=Wn(e);return n.s=fx(n.s,t.s,r),n.e=fx(n.e,t.s,r),n}function dx(e,t){if(e.cRel&&e.c<0)for(e=Wn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Wn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ar(e);return!e.cRel&&e.cRel!=null&&(r=k0e(r)),!e.rRel&&e.rRel!=null&&(r=j0e(r)),r}function L4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Zn(e.s.c)+":"+(e.e.cRel?"":"$")+Zn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sa(e.s.r)+":"+(e.e.rRel?"":"$")+Sa(e.e.r):dx(e.s,t.biff)+":"+dx(e.e,t.biff)}function QC(e){return parseInt(N0e(e),10)-1}function Sa(e){return""+(e+1)}function j0e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function N0e(e){return e.replace(/\$(\d+)$/,"$1")}function eT(e){for(var t=A0e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Zn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function k0e(e){return e.replace(/^([A-Z])/,"$$$1")}function A0e(e){return e.replace(/^\$([A-Z])/,"$1")}function E0e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Jn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ar(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ys(e){var t=e.indexOf(":");return t==-1?{s:Jn(e),e:Jn(e)}:{s:Jn(e.slice(0,t)),e:Jn(e.slice(t+1))}}function gr(e,t){return typeof t>"u"||typeof t=="number"?gr(e.s,e.e):(typeof e!="string"&&(e=ar(e)),typeof t!="string"&&(t=ar(t)),e==t?e:e+":"+t)}function Kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function eD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=hl(e.z,r?Ga(t):t)}catch{}try{return e.w=hl((e.XF||{}).numFmtId||(r?14:0),r?Ga(t):t)}catch{return""+t}}function rf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?df[e.v]||e.v:t==null?eD(e,e.v):eD(e,t))}function Jd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function sW(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Jn(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=Kr(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(u.e.r=s=f.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||rr[14],n.cellDates?(p.t="d",p.w=hl(p.z,Ga(p.v))):(p.t="n",p.v=Ga(p.v),p.w=hl(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=ar({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=gr(u)),i}function _g(e,t){return sW(null,e,t)}function C0e(e){return e.read_shift(4,"i")}function ac(e,t){return t||(t=ze(4)),t.write_shift(4,e),t}function rs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ai(e,t){var r=!1;return t==null&&(r=!0,t=ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function T0e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function P0e(e,t){return t||(t=ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function tT(e,t){var r=e.l,n=e.read_shift(1),a=rs(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(T0e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function O0e(e,t){var r=!1;return t==null&&(r=!0,t=ze(15+4*e.t.length)),t.write_shift(1,0),ai(e.t,t),r?t.slice(0,t.l):t}var F0e=tT;function D0e(e,t){var r=!1;return t==null&&(r=!0,t=ze(23+4*e.t.length)),t.write_shift(1,1),ai(e.t,t),t.write_shift(4,1),P0e({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function xl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function D0(e,t){return t==null&&(t=ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function L0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function I0(e,t){return t==null&&(t=ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var L0e=rs,oW=ai;function rT(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Kb(e,t){var r=!1;return t==null&&(r=!0,t=ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var I0e=rs,_A=rT,nT=Kb;function aT(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Gb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Nh(t,0)>>2;return r?a/100:a}function lW(e,t){t==null&&(t=ze(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function cW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function R0e(e,t){return t||(t=ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var R0=cW,Sg=R0e;function es(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function w0(e,t){return(t||ze(8)).write_shift(8,e,"f")}function M0e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Gh[a];u&&(t.rgb=d1(u));break;case 2:t.rgb=d1([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Yb(e,t){if(t||(t=ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function B0e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function U0e(e,t){t||(t=ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function uW(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function $0e(e){return uW(e,1)}function z0e(e){return uW(e,2)}var iT=2,Bs=3,q2=11,tD=12,Xb=19,W2=64,q0e=65,W0e=71,V0e=4108,H0e=4126,Qa=80,fW=81,G0e=[Qa,fW],SA={1:{n:"CodePage",t:iT},2:{n:"Category",t:Qa},3:{n:"PresentationFormat",t:Qa},4:{n:"ByteCount",t:Bs},5:{n:"LineCount",t:Bs},6:{n:"ParagraphCount",t:Bs},7:{n:"SlideCount",t:Bs},8:{n:"NoteCount",t:Bs},9:{n:"HiddenCount",t:Bs},10:{n:"MultimediaClipCount",t:Bs},11:{n:"ScaleCrop",t:q2},12:{n:"HeadingPairs",t:V0e},13:{n:"TitlesOfParts",t:H0e},14:{n:"Manager",t:Qa},15:{n:"Company",t:Qa},16:{n:"LinksUpToDate",t:q2},17:{n:"CharacterCount",t:Bs},19:{n:"SharedDoc",t:q2},22:{n:"HyperlinksChanged",t:q2},23:{n:"AppVersion",t:Bs,p:"version"},24:{n:"DigSig",t:q0e},26:{n:"ContentType",t:Qa},27:{n:"ContentStatus",t:Qa},28:{n:"Language",t:Qa},29:{n:"Version",t:Qa},255:{},2147483648:{n:"Locale",t:Xb},2147483651:{n:"Behavior",t:Xb},1919054434:{}},jA={1:{n:"CodePage",t:iT},2:{n:"Title",t:Qa},3:{n:"Subject",t:Qa},4:{n:"Author",t:Qa},5:{n:"Keywords",t:Qa},6:{n:"Comments",t:Qa},7:{n:"Template",t:Qa},8:{n:"LastAuthor",t:Qa},9:{n:"RevNumber",t:Qa},10:{n:"EditTime",t:W2},11:{n:"LastPrinted",t:W2},12:{n:"CreatedDate",t:W2},13:{n:"ModifiedDate",t:W2},14:{n:"PageCount",t:Bs},15:{n:"WordCount",t:Bs},16:{n:"CharCount",t:Bs},17:{n:"Thumbnail",t:W0e},18:{n:"Application",t:Qa},19:{n:"DocSecurity",t:Bs},255:{},2147483648:{n:"Locale",t:Xb},2147483651:{n:"Behavior",t:Xb},1919054434:{}},rD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},K0e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Y0e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var X0e=Y0e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Gh=Wn(X0e),df={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dW={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},NA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},V2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function sT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Z0e(e){var t=sT();if(!e||!e.match)return t;var r={};if((e.match(os)||[]).forEach(function(n){var a=sr(n);switch(a[0].replace(o0e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[NA[a.ContentType]]!==void 0&&t[NA[a.ContentType]].push(a.PartName);break}}),t.xmlns!==za.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function hW(e,t){var r=Zhe(NA),n=[],a;n[n.length]=Na,n[n.length]=_t("Types",null,{xmlns:za.CT,"xmlns:xsd":za.xsd,"xmlns:xsi":za.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return _t("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=_t("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:V2[c][t.bookType]||V2[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_t("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:V2[c][t.bookType]||V2[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_t("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Pr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function f1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function hx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(os)||[]).forEach(function(a){var i=sr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:qv(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function hm(e){var t=[Na,_t("Relationships",null,{xmlns:za.RELS})];return fa(e["!id"]).forEach(function(r){t[t.length]=_t("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function un(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Pr.HLINK,Pr.XPATH,Pr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var J0e="application/vnd.oasis.opendocument.spreadsheet";function Q0e(e,t){for(var r=XC(e),n,a;n=u1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=sr(n[0],!1),a.path=="/"&&a.type!==J0e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function epe(e){var t=[Na];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function nD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function tpe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function rpe(e){var t=[Na];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(nD(e[r][0],e[r][1])),t.push(tpe("",e[r][0]));return t.push(nD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function pW(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zb.version+"</meta:generator></office:meta></office:document-meta>"}var cl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],npe=function(){for(var e=new Array(cl.length),t=0;t<cl.length;++t){var r=cl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function mW(e){var t={};e=xn(e);for(var r=0;r<cl.length;++r){var n=cl[r],a=e.match(npe[r]);a!=null&&a.length>0&&(t[n[1]]=Gr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=qn(t[n[1]]))}return t}function I4(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=dn(t),n[n.length]=r?_t(e,t,r):Ei(e,t))}function gW(e,t){var r=t||{},n=[Na,_t("cp:coreProperties",null,{"xmlns:cp":za.CORE_PROPS,"xmlns:dc":za.dc,"xmlns:dcterms":za.dcterms,"xmlns:dcmitype":za.dcmitype,"xmlns:xsi":za.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&I4("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:bA(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&I4("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:bA(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=cl.length;++i){var s=cl[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&I4(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Kh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],vW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xW(e,t,r,n){var a=[];if(typeof e=="string")a=GF(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(f){return{v:f}}));var s=typeof t=="string"?GF(t,n).map(function(f){return f.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function ape(e,t,r){var n={};return t||(t={}),e=xn(e),Kh.forEach(function(a){var i=(e.match(l1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Gr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&xW(n.HeadingPairs,n.TitlesOfParts,t,r),t}function yW(e){var t=[],r=_t;return e||(e={}),e.Application="SheetJS",t[t.length]=Na,t[t.length]=_t("Properties",null,{xmlns:za.EXT_PROPS,"xmlns:vt":za.vt}),Kh.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=dn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+dn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ipe=/<[^>]+>[^<]*/g;function spe(e,t){var r={},n="",a=e.match(ipe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=sr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),f=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Gr(f);break;case"bool":r[n]=Dn(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(f);break;case"filetime":case"date":r[n]=qn(f);break;case"cy":case"error":r[n]=Gr(f);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function wW(e){var t=[Na,_t("Properties",null,{xmlns:za.CUST_PROPS,"xmlns:vt":za.vt})];if(!e)return t.join("");var r=1;return fa(e).forEach(function(a){++r,t[t.length]=_t("property",m0e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:dn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var kA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},R4;function ope(e,t,r){R4||(R4=V5(kA)),t=R4[t]||t,e[t]=r}function lpe(e,t){var r=[];return fa(kA).map(function(n){for(var a=0;a<cl.length;++a)if(cl[a][1]==n)return cl[a];for(a=0;a<Kh.length;++a)if(Kh[a][1]==n)return Kh[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ei(kA[n[1]]||n[1],a))}}),_t("DocumentProperties",r.join(""),{xmlns:go.o})}function cpe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&fa(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<cl.length;++s)if(i==cl[s][1])return;for(s=0;s<Kh.length;++s)if(i==Kh[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(_t(qF(i),o,{"dt:dt":c}))}}),t&&fa(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(_t(qF(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+go.o+'">'+a.join("")+"</"+n+">"}function oT(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function upe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ze(8);return s.write_shift(4,n),s.write_shift(4,a),s}function bW(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function _W(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function SW(e,t,r){return t===31?_W(e):bW(e,t,r)}function AA(e,t,r){return SW(e,t,r===!1?0:4)}function fpe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return SW(e,t,0)}function dpe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(_s,""),e.l-a&2&&(e.l+=2)}return r}function hpe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(_s,"");return r}function ppe(e){var t=e.l,r=Zb(e,fW);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Zb(e,Bs);return[r,n]}function mpe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(ppe(e));return r}function aD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(_s,"").replace(zv,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function jW(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function gpe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Zb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==tD&&n!==t&&G0e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===tD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return bW(e,n,4).replace(_s,"");case 31:return _W(e);case 64:return oT(e);case 65:return jW(e);case 71:return gpe(e);case 80:return AA(e,n,!i.raw).replace(_s,"");case 81:return fpe(e,n).replace(_s,"");case 4108:return mpe(e);case 4126:case 4127:return n==4127?dpe(e):hpe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function iD(e,t){var r=ze(4),n=ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=upe(t);break;case 31:case 80:for(n=ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ni([r,n])}function sD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,c=-1,u={};for(s=0;s!=a;++s){var f=e.read_shift(4),d=e.read_shift(4);i[s]=[f,d+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Zb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Zb(e,iT),Zl(o),c!==-1){var m=e.l;e.l=i[c][1],u=aD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}u=aD(e,o)}else{var v=u[i[s][0]],x;switch(e[e.l]){case 65:e.l+=4,x=jW(e);break;case 30:e.l+=4,x=AA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=AA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=ga(e,4);break;case 64:e.l+=4,x=qn(oT(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=x}}return e.l=r+n,h}var NW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vpe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function oD(e,t,r){var n=ze(8),a=[],i=[],s=8,o=0,c=ze(8),u=ze(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=ze(8),u.write_shift(4,0),a.unshift(u);var f=[ze(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for(c=ze(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=ni(f),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(NW.indexOf(e[o][0])>-1||vW.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=iD(g.t,h)}else{var v=vpe(h);v==-1&&(v=31,h=String(h)),c=iD(v,h)}i.push(c),u=ze(8),u.write_shift(4,t?p:2+o),a.push(u),s+=8+c.length}var x=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,x),x+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),ni([n].concat(a).concat(i))}function lD(e,t,r){var n=e.content;if(!n)return{};Ni(n,0);var a,i,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),f=n.read_shift(16);if(f!==Gt.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var d=sD(n,t),h={SystemIdentifier:u};for(var p in d)h[p]=d[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=sD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function cD(e,t,r,n,a,i){var s=ze(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=oD(e,r,n);if(o.push(c),a){var u=oD(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return ni(o)}function Rf(e,t){return e.read_shift(t),null}function xpe(e,t){t||(t=ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function ype(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ga(e,t){return e.read_shift(t)===1}function vs(e,t){return t||(t=ze(2)),t.write_shift(2,+!!e),t}function Fa(e){return e.read_shift(2,"u")}function Qo(e,t){return t||(t=ze(2)),t.write_shift(2,e),t}function kW(e,t){return ype(e,t,Fa)}function wpe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function AW(e,t,r){return r||(r=ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function iy(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function bpe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,c={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",f=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=o),c.t=f,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function _pe(e){var t=e.t||"",r=ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return ni(a)}function b0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function sy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):b0(e,n,r)}function M0(e,t,r){if(r.biff>5)return sy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function EW(e,t,r){return r||(r=ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Spe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function jpe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(_s,"");return n&&(e.l+=24),a}function Npe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(_s,"");return r+s}function kpe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return jpe(e);case"0303000000000000c000000000000046":return Npe(e);default:throw new Error("Unsupported Moniker "+r)}}function H2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(_s,""):"";return r}function uD(e,t){t||(t=ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Ape(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,c,u="",f,d;a&16&&(i=H2(e,r-e.l)),a&128&&(s=H2(e,r-e.l)),(a&257)===257&&(o=H2(e,r-e.l)),(a&257)===1&&(c=kpe(e,r-e.l)),a&8&&(u=H2(e,r-e.l)),a&32&&(f=e.read_shift(16)),a&64&&(d=oT(e)),e.l=r;var h=s||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return f&&(p.guid=f),d&&(p.time=d),i&&(p.Tooltip=i),p}function Epe(e){var t=ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),uD(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&uD(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function CW(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function TW(e,t){var r=CW(e);return r[3]=0,r}function iu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function _0(e,t,r,n){return n||(n=ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Cpe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Tpe(e,t,r){return t===0?"":M0(e,t,r)}function Ppe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function PW(e){var t=e.read_shift(2),r=aT(e);return[t,r]}function Ope(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=iy(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function K5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function OW(e,t){return t||(t=ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function FW(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Fpe=FW;function DW(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Dpe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Lpe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function $i(e){e.l+=2,e.l+=e.read_shift(2)}var Ipe={0:$i,4:$i,5:$i,6:$i,7:Lpe,8:$i,9:$i,10:$i,11:$i,12:$i,13:Dpe,14:$i,15:$i,16:$i,17:$i,18:$i,19:$i,20:$i,21:DW};function Rpe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Ipe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function G2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function lT(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ze(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Mpe(e,t){return t===0||e.read_shift(2),1200}function Bpe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=M0(e,0,r);return e.read_shift(t+n-e.l),a}function Upe(e,t){var r=!t||t.biff==8,n=ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function $pe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function zpe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=iy(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function qpe(e,t){var r=!t||t.biff>=8?2:1,n=ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Wpe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(bpe(e));return i.Count=n,i.Unique=a,i}function Vpe(e,t){var r=ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=_pe(e[a]);var i=ni([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Hpe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Gpe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Kpe(e){var t=Cpe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Ype(e){return e.read_shift(2),e.read_shift(4)}function fD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Xpe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function Zpe(){var e=ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Jpe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Qpe(e){var t=ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function eme(){}function tme(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=iy(e,0,r),n}function rme(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ze(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function nme(e){var t=iu(e);return t.isst=e.read_shift(4),t}function ame(e,t,r,n){var a=ze(10);return _0(e,t,n,a),a.write_shift(4,r),a}function ime(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=iu(e);r.biff==2&&e.l++;var i=sy(e,n-e.l,r);return a.val=i,a}function sme(e,t,r,n,a){var i=!a||a.biff==8,s=ze(8+ +i+(1+i)*r.length);return _0(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ome(e,t,r){var n=e.read_shift(2),a=M0(e,0,r);return[n,a]}function lme(e,t,r,n){var a=r&&r.biff==5;n||(n=ze(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var cme=M0;function dD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c}}}function ume(e,t){var r=t.biff==8||!t.biff?4:2,n=ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function fme(e){var t=e.read_shift(2),r=e.read_shift(2),n=PW(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function dme(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(PW(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function hme(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function pme(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=K0e[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function mme(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=pme(e,t,n.fStyle,r),n}function hD(e,t,r,n){var a=r&&r.biff==5;n||(n=ze(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function gme(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function vme(e){var t=ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function pD(e,t,r){var n=iu(e);(r.biff==2||t==9)&&++e.l;var a=wpe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function xme(e,t,r,n,a,i){var s=ze(8);return _0(e,t,n,s),AW(r,i,s),s}function yme(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=iu(e),a=es(e);return n.val=a,n}function wme(e,t,r,n){var a=ze(14);return _0(e,t,n,a),w0(r,a),a}var mD=Tpe;function bme(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=b0(e,i),o=[];n>e.l;)o.push(sy(e));return[i,a,s,o]}function gD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Ope(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var _me=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=b0(e,s,r);a&32&&(u=_me[u.charCodeAt(0)]);var f=n-e.l;r&&r.biff==2&&--f;var d=n==e.l||o===0||!(f>0)?[]:R1e(e,f,r,o);return{chKey:i,Name:u,itab:c,rgce:d}}function LW(e,t,r){if(r.biff<8)return Sme(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Ppe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Sme(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=iy(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function jme(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=b0(e,n,r),s=b0(e,a,r);return[i,s]}function Nme(e,t,r){var n=FW(e);e.l++;var a=e.read_shift(1);return t-=8,[M1e(e,t,r),a,n]}function xD(e,t,r){var n=Fpe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,L1e(e,t,r)]}function kme(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Ame(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=M0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Eme(e,t,r){return Ame(e,t,r)}function Cme(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(K5(e));return r}function Tme(e){var t=ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)OW(e[r],t);return t}function Pme(e,t,r){if(r&&r.biff<8)return Fme(e,t,r);var n=DW(e),a=Rpe(e,t-22,n[1]);return{cmo:n,ft:a}}var Ome={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Fme(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Ome[n]||ss)(e,t,r)),{cmo:[a,n,i],ft:s}}function Dme(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Spe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Fa(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var f=e[e.l],d=b0(e,e.lens[u+1]-e.lens[u]-1);if(a+=d,a.length>=(f?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Lme(e,t){var r=K5(e);e.l+=16;var n=Ape(e,t-24);return[r,n]}function Ime(e){var t=ze(24),r=Jn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return ni([t,Epe(e[1])])}function Rme(e,t){e.read_shift(2);var r=K5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(_s,""),[r,n]}function Mme(e){var t=e[1].Tooltip,r=ze(10+2*(t.length+1));r.write_shift(2,2048);var n=Jn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Bme(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=rD[r]||r,r=e.read_shift(2),t[1]=rD[r]||r,t}function Ume(e){return e||(e=ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function $me(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(TW(e));return r}function zme(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(TW(e));return r}function qme(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function IW(e,t,r){if(!r.cellStyles)return ss(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Wme(e,t){var r=ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Vme(e,t){var r={};return t<32||(e.l+=16,r.header=es(e),r.footer=es(e),e.l+=2),r}function Hme(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function Gme(e){for(var t=ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Kme=iu,Yme=kW,Xme=sy;function Zme(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Jme(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=iu(e);++e.l;var a=M0(e,t-7,r);return n.t="str",n.val=a,n}function Qme(e){var t=iu(e);++e.l;var r=es(e);return t.t="n",t.val=r,t}function ege(e,t,r){var n=ze(15);return uy(n,e,t),n.write_shift(8,r,"f"),n}function tge(e){var t=iu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function rge(e,t,r){var n=ze(9);return uy(n,e,t),n.write_shift(2,r),n}function nge(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function age(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function ige(e,t,r){var n=e.l+t,a=iu(e),i=e.read_shift(2),s=b0(e,i,r);return e.l=n,a.t="str",a.val=s,a}var sge=[2,3,48,49,131,139,140,245],EA=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=V5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],f=Id(1);switch(c.type){case"base64":f=yo(Po(o));break;case"binary":f=yo(o);break;case"buffer":case"array":f=o;break}Ni(f,0);var d=f.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=f.read_shift(2)),f.l+=3,d!=2&&(m=f.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=f.read_shift(2));var x=f.read_shift(2),y=c.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(y=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var b=[],j={},k=Math.min(f.length,d==2?521:v-10-(p?264:0)),O=g?32:11;f.l<k&&f[f.l]!=13;)switch(j={},j.name=Jf.utils.decode(y,f.slice(f.l,f.l+O)).replace(/[\u0000\r\n].*$/g,""),f.l+=O,j.type=String.fromCharCode(f.read_shift(1)),d!=2&&!g&&(j.offset=f.read_shift(4)),j.len=f.read_shift(1),d==2&&(j.offset=f.read_shift(2)),j.dec=f.read_shift(1),j.name.length&&b.push(j),d!=2&&(f.l+=g?13:14),j.type){case"B":(!p||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(f[f.l]!==13&&(f.l=v-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=v;var N=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;m-- >0;){if(f[f.l]===42){f.l+=x;continue}for(++f.l,u[++N]=[],E=0,E=0;E!=b.length;++E){var D=f.slice(f.l,f.l+b[E].len);f.l+=b[E].len,Ni(D,0);var M=Jf.utils.decode(y,D);switch(b[E].type){case"C":M.trim().length&&(u[N][E]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[N][E]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[N][E]=M;break;case"F":u[N][E]=parseFloat(M.trim());break;case"+":case"I":u[N][E]=g?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[N][E]=!0;break;case"N":case"F":u[N][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[N][E]="##MEMO##"+(g?parseInt(M.trim(),10):D.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[N][E]=+M||0);break;case"@":u[N][E]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[N][E]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[N][E]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][E]=-D.read_shift(-8,"f");break;case"B":if(p&&b[E].len==8){u[N][E]=D.read_shift(8,"f");break}case"G":case"P":D.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=_g(r(o,u),u);return f["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,f}function a(o,c){try{return Jd(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Zl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ks(),d=e_(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,x=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++x;continue}if(h[m]!=null){if(++x,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=Kr(o["!ref"]),j=[],k=[],O=[];for(m=0;m<=b.e.c-b.s.c;++m){var N="",E="",D=0,M=[];for(v=0;v<p.length;++v)p[v][m]!=null&&M.push(p[v][m]);if(M.length==0||h[m]==null){j[m]="?";continue}for(v=0;v<M.length;++v){switch(typeof M[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=M[v]instanceof Date?"D":"C";break;default:E="C"}D=Math.max(D,String(M[v]).length),N=N&&N!=E?"C":E}D>250&&(D=250),E=((g[m]||{}).DBF||{}).type,E=="C"&&g[m].DBF.len>D&&(D=g[m].DBF.len),N=="B"&&E=="N"&&(N="N",O[m]=g[m].DBF.dec,D=g[m].DBF.len),k[m]=N=="C"||E=="N"?D:i[N]||0,y+=k[m],j[m]=N}var C=f.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*x),C.write_shift(2,y),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[Nq]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var P=f.next(32),R=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,R,"sbcs"),P.write_shift(1,j[m]=="?"?"C":j[m],"sbcs"),P.write_shift(4,v),P.write_shift(1,k[m]||i[j[m]]||0),P.write_shift(1,O[m]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),v+=k[m]||i[j[m]]||0}var U=f.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var ee=f.next(y);for(ee.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(j[v]){case"L":ee.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":ee.write_shift(8,p[m][v]||0,"f");break;case"N":var J="0";for(typeof p[m][v]=="number"&&(J=p[m][v].toFixed(O[v]||0)),x=0;x<k[v]-J.length;++x)ee.write_shift(1,32);ee.write_shift(1,J,"sbcs");break;case"D":p[m][v]?(ee.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(p[m][v]!=null?p[m][v]:"").slice(0,k[v]);for(ee.write_shift(1,ae,"sbcs"),x=0;x<k[v]-ae.length;++x)ee.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),RW=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+fa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?CF(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:CF(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Po(h),p);case"binary":return i(h,p);case"buffer":return i(jr&&Buffer.isBuffer(h)?h.toString("binary"):Zd(h),p);case"array":return i(y0(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,x=0,y=0,b=[],j=[],k=null,O={},N=[],E=[],D=[],M=0,C;for(+p.codepage>=0&&Zl(+p.codepage);x!==g.length;++x){M=0;var P=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),R=P.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),U=R[0],ee;if(P.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&j.push(P.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,ae=!1,X=!1,W=!1,fe=-1,Se=-1;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"A":break;case"X":v=parseInt(R[y].slice(1))-1,ae=!0;break;case"Y":for(m=parseInt(R[y].slice(1))-1,ae||(v=0),C=b.length;C<=m;++C)b[C]=[];break;case"K":ee=R[y].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(nc(ee))?isNaN(Zm(ee).getDate())||(ee=qn(ee)):(ee=nc(ee),k!==null&&wg(k)&&(ee=G5(ee))),J=!0;break;case"E":W=!0;var T=pm(R[y].slice(1),{r:m,c:v});b[m][v]=[b[m][v],T];break;case"S":X=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":fe=parseInt(R[y].slice(1))-1;break;case"C":Se=parseInt(R[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}if(J&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=ee:b[m][v]=ee,k=null),X){if(W)throw new Error("SYLK shared formula cannot have own formula");var L=fe>-1&&b[fe][Se];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=tV(L[1],{r:m-fe,c:v-Se})}break;case"F":var B=0;for(y=1;y<R.length;++y)switch(R[y].charAt(0)){case"X":v=parseInt(R[y].slice(1))-1,++B;break;case"Y":for(m=parseInt(R[y].slice(1))-1,C=b.length;C<=m;++C)b[C]=[];break;case"M":M=parseInt(R[y].slice(1))/20;break;case"F":break;case"G":break;case"P":k=j[parseInt(R[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=R[y].slice(1).split(" "),C=parseInt(D[0],10);C<=parseInt(D[1],10);++C)M=parseInt(D[2],10),E[C-1]=M===0?{hidden:!0}:{wch:M},Rd(E[C-1]);break;case"C":v=parseInt(R[y].slice(1))-1,E[v]||(E[v]={});break;case"R":m=parseInt(R[y].slice(1))-1,N[m]||(N[m]={}),M>0?(N[m].hpt=M,N[m].hpx=Qm(M)):M===0&&(N[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}B<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}}return N.length>0&&(O["!rows"]=N),E.length>0&&(O["!cols"]=E),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,O]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],x=_g(m,p);return fa(v).forEach(function(y){x[y]=v[y]}),x}function o(h,p){return Jd(s(h,p),p)}function c(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+pT(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=h1(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=p1(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function f(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*m1(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],v=Kr(h["!ref"]),x,y=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&f(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var j=v.s.r;j<=v.e.r;++j)for(var k=v.s.c;k<=v.e.c;++k){var O=ar({r:j,c:k});x=y?(h[j]||[])[k]:h[O],!(!x||x.v==null&&(!x.f||x.F))&&m.push(c(x,h,j,k))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),MW=function(){function e(i,s){switch(s.type){case"base64":return t(Po(i),s);case"binary":return t(i,s);case"buffer":return t(jr&&Buffer.isBuffer(i)?i.toString("binary"):Zd(i),s);case"array":return t(y0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++c]=[],u=0;continue}if(!(c<0)){var h=o[f].trim().split(","),p=h[0],g=h[1];++f;for(var m=o[f]||"";(m.match(/["]/g)||[]).length&1&&f<o.length-1;)m+=`
`+o[++f];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[c][u]=!0:m==="FALSE"?d[c][u]=!1:isNaN(nc(g))?isNaN(Zm(g).getDate())?d[c][u]=g:d[c][u]=qn(g):d[c][u]=nc(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return _g(e(i,s),s)}function n(i,s){return Jd(r(i,s),s)}var a=function(){var i=function(c,u,f,d,h){c.push(u),c.push(f+","+d),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,f,d){c.push(u+","+f),c.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var u=[],f=Kr(c["!ref"]),d,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){s(u,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var m=ar({r:p,c:g});if(d=h?(c[p]||[])[g]:c[m],!d){s(u,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(u,1,0,"="+d.f):s(u,1,0,""):s(u,0,v,"V");break;case"b":s(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=hl(d.z||rr[14],Ga(qn(d.v)))),s(u,0,d.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var x=`\r
`,y=u.join(x);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),BW=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,v=0,x=[];v!==p.length;++v){var y=p[v].trim().split(":");if(y[0]==="cell"){var b=Jn(y[1]);if(x.length<=b.r)for(g=x.length;g<=b.r;++g)x[g]||(x[g]=[]);switch(g=b.r,m=b.c,y[2]){case"t":x[g][m]=e(y[3]);break;case"v":x[g][m]=+y[3];break;case"vtf":var j=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[g][m]=!!+y[4];break;default:x[g][m]=+y[4];break}y[2]=="vtf"&&(x[g][m]=[x[g][m],j])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(d,h){return _g(r(d,h),h)}function a(d,h){return Jd(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",v=Ys(d["!ref"]),x=Array.isArray(d),y=v.s.r;y<=v.e.r;++y)for(var b=v.s.c;b<=v.e.c;++b)if(m=ar({r:y,c:b}),g=x?(d[y]||[])[b]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var j=Ga(qn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+j,p[5]=g.w||hl(g.z||rr[14],j);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function f(d){return[i,s,o,s,u(d),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),Jm=function(){function e(f,d,h,p,g){g.raw?d[h][p]=f:f===""||(f==="TRUE"?d[h][p]=!0:f==="FALSE"?d[h][p]=!1:isNaN(nc(f))?isNaN(Zm(f).getDate())?d[h][p]=f:d[h][p]=qn(f):d[h][p]=nc(f))}function t(f,d){var h=d||{},p=[];if(!f||f.length===0)return p;for(var g=f.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,x=0,y=0;y<=m;++y)x=g[y].indexOf(" "),x==-1?x=g[y].length:x++,v=Math.max(v,x);for(y=0;y<=m;++y){p[y]=[];var b=0;for(e(g[y].slice(0,v).trim(),p,y,b,h),b=1;b<=(g[y].length-v)/10+1;++b)e(g[y].slice(v+(b-1)*10,v+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var d={},h=!1,p=0,g=0;p<f.length;++p)(g=f.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(f,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=a(f.slice(0,1024)):h&&h.FS?p=h.FS:p=a(f.slice(0,1024));var v=0,x=0,y=0,b=0,j=0,k=p.charCodeAt(0),O=!1,N=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var D=h.dateNF!=null?Hhe(h.dateNF):null;function M(){var C=f.slice(b,j),P={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)P.t="z";else if(h.raw)P.t="s",P.v=C;else if(C.trim().length===0)P.t="s",P.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(P.t="s",P.v=C.slice(2,-1).replace(/""/g,'"')):bxe(C)?(P.t="n",P.f=C.slice(1)):(P.t="s",P.v=C);else if(C=="TRUE")P.t="b",P.v=!0;else if(C=="FALSE")P.t="b",P.v=!1;else if(!isNaN(y=nc(C)))P.t="n",h.cellText!==!1&&(P.w=C),P.v=y;else if(!isNaN(Zm(C).getDate())||D&&C.match(D)){P.z=h.dateNF||rr[14];var R=0;D&&C.match(D)&&(C=Ghe(C,h.dateNF,C.match(D)||[]),R=1),h.cellDates?(P.t="d",P.v=qn(C,R)):(P.t="n",P.v=Ga(qn(C,R))),h.cellText!==!1&&(P.w=hl(P.z,P.v instanceof Date?Ga(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=C;if(P.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][x]=P):g[ar({c:x,r:v})]=P),b=j+1,E=f.charCodeAt(b),m.e.c<x&&(m.e.c=x),m.e.r<v&&(m.e.r=v),N==k)++x;else if(x=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;j<f.length;++j)switch(N=f.charCodeAt(j)){case 34:E===34&&(O=!O);break;case k:case 10:case 13:if(!O&&M())break e;break}return j-b>0&&M(),g["!ref"]=gr(m),g}function s(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):_g(t(f,d),d)}function o(f,d){var h="",p=d.type=="string"?[0,0,0,0]:_T(f,d);switch(d.type){case"base64":h=Po(f);break;case"binary":h=f;break;case"buffer":d.codepage==65001?h=f.toString("utf8"):d.codepage&&typeof Jf<"u"?h=Jf.utils.decode(d.codepage,f):h=jr&&Buffer.isBuffer(f)?f.toString("binary"):Zd(f);break;case"array":h=y0(f);break;case"string":h=f;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=xn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=xn(h):d.type=="binary"&&typeof Jf<"u"&&d.codepage&&(h=Jf.utils.decode(d.codepage,Jf.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?BW.to_sheet(d.type=="string"?h:xn(h),d):s(h,d)}function c(f,d){return Jd(o(f,d),d)}function u(f){for(var d=[],h=Kr(f["!ref"]),p,g=Array.isArray(f),m=h.s.r;m<=h.e.r;++m){for(var v=[],x=h.s.c;x<=h.e.c;++x){var y=ar({r:m,c:x});if(p=g?(f[m]||[])[x]:f[y],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(rf(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(x===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function oge(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=RW.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Jm.to_workbook(e,t)}}var Yh=function(){function e(T,L,B){if(T){Ni(T,T.l||0);for(var z=B.Enum||fe;T.l<T.length;){var te=T.read_shift(2),ie=z[te]||z[65535],pe=T.read_shift(2),Q=T.l+pe,ge=ie.f&&ie.f(T,pe,B);if(T.l=Q,L(ge,ie,te))return}}}function t(T,L){switch(L.type){case"base64":return r(yo(Po(T)),L);case"binary":return r(yo(T),L);case"buffer":case"array":return r(T,L)}throw"Unsupported type "+L.type}function r(T,L){if(!T)return T;var B=L||{},z=B.dense?[]:{},te="Sheet1",ie="",pe=0,Q={},ge=[],_e=[],q={s:{r:0,c:0},e:{r:0,c:0}},Be=B.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)B.Enum=fe,e(T,function(Ie,yt,Je){switch(Je){case 0:B.vers=Ie,Ie>=4096&&(B.qpro=!0);break;case 6:q=Ie;break;case 204:Ie&&(ie=Ie);break;case 222:ie=Ie;break;case 15:case 51:B.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:Je==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=B.dateNF||rr[14],B.cellDates&&(Ie[1].t="d",Ie[1].v=G5(Ie[1].v))),B.qpro&&Ie[3]>pe&&(z["!ref"]=gr(q),Q[te]=z,ge.push(te),z=B.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},pe=Ie[3],te=ie||"Sheet"+(pe+1),ie="");var gt=B.dense?(z[Ie[0].r]||[])[Ie[0].c]:z[ar(Ie[0])];if(gt){gt.t=Ie[1].t,gt.v=Ie[1].v,Ie[1].z!=null&&(gt.z=Ie[1].z),Ie[1].f!=null&&(gt.f=Ie[1].f);break}B.dense?(z[Ie[0].r]||(z[Ie[0].r]=[]),z[Ie[0].r][Ie[0].c]=Ie[1]):z[ar(Ie[0])]=Ie[1];break}},B);else if(T[2]==26||T[2]==14)B.Enum=Se,T[2]==14&&(B.qpro=!0,T.l=0),e(T,function(Ie,yt,Je){switch(Je){case 204:te=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>pe&&(z["!ref"]=gr(q),Q[te]=z,ge.push(te),z=B.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},pe=Ie[3],te="Sheet"+(pe+1)),Be>0&&Ie[0].r>=Be)break;B.dense?(z[Ie[0].r]||(z[Ie[0].r]=[]),z[Ie[0].r][Ie[0].c]=Ie[1]):z[ar(Ie[0])]=Ie[1],q.e.c<Ie[0].c&&(q.e.c=Ie[0].c),q.e.r<Ie[0].r&&(q.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(_e[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:_e[Ie[0]]=Ie[1],Ie[0]==pe&&(te=Ie[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(z["!ref"]=gr(q),Q[ie||te]=z,ge.push(ie||te),!_e.length)return{SheetNames:ge,Sheets:Q};for(var We={},Ae=[],se=0;se<_e.length;++se)Q[ge[se]]?(Ae.push(_e[se]||ge[se]),We[_e[se]]=Q[_e[se]]||Q[ge[se]]):(Ae.push(_e[se]),We[_e[se]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:We}}function n(T,L){var B=L||{};if(+B.codepage>=0&&Zl(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Ks(),te=Kr(T["!ref"]),ie=Array.isArray(T),pe=[];St(z,0,i(1030)),St(z,6,c(te));for(var Q=Math.min(te.e.r,8191),ge=te.s.r;ge<=Q;++ge)for(var _e=Sa(ge),q=te.s.c;q<=te.e.c;++q){ge===te.s.r&&(pe[q]=Zn(q));var Be=pe[q]+_e,We=ie?(T[ge]||[])[q]:T[Be];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?St(z,13,p(ge,q,We.v)):St(z,14,m(ge,q,We.v));else{var Ae=rf(We);St(z,15,d(ge,q,Ae.slice(0,239)))}}return St(z,1),z.end()}function a(T,L){var B=L||{};if(+B.codepage>=0&&Zl(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Ks();St(z,0,s(T));for(var te=0,ie=0;te<T.SheetNames.length;++te)(T.Sheets[T.SheetNames[te]]||{})["!ref"]&&St(z,27,W(T.SheetNames[te],ie++));var pe=0;for(te=0;te<T.SheetNames.length;++te){var Q=T.Sheets[T.SheetNames[te]];if(!(!Q||!Q["!ref"])){for(var ge=Kr(Q["!ref"]),_e=Array.isArray(Q),q=[],Be=Math.min(ge.e.r,8191),We=ge.s.r;We<=Be;++We)for(var Ae=Sa(We),se=ge.s.c;se<=ge.e.c;++se){We===ge.s.r&&(q[se]=Zn(se));var Ie=q[se]+Ae,yt=_e?(Q[We]||[])[se]:Q[Ie];if(!(!yt||yt.t=="z"))if(yt.t=="n")St(z,23,M(We,se,pe,yt.v));else{var Je=rf(yt);St(z,22,N(We,se,pe,Je.slice(0,239)))}}++pe}}return St(z,1),z.end()}function i(T){var L=ze(2);return L.write_shift(2,T),L}function s(T){var L=ze(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var B=0,z=0,te=0,ie=0;ie<T.SheetNames.length;++ie){var pe=T.SheetNames[ie],Q=T.Sheets[pe];if(!(!Q||!Q["!ref"])){++te;var ge=Ys(Q["!ref"]);B<ge.e.r&&(B=ge.e.r),z<ge.e.c&&(z=ge.e.c)}}return B>8191&&(B=8191),L.write_shift(2,B),L.write_shift(1,te),L.write_shift(1,z),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function o(T,L,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&B.qpro?(z.s.c=T.read_shift(1),T.l++,z.s.r=T.read_shift(2),z.e.c=T.read_shift(1),T.l++,z.e.r=T.read_shift(2),z):(z.s.c=T.read_shift(2),z.s.r=T.read_shift(2),L==12&&B.qpro&&(T.l+=2),z.e.c=T.read_shift(2),z.e.r=T.read_shift(2),L==12&&B.qpro&&(T.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(T){var L=ze(8);return L.write_shift(2,T.s.c),L.write_shift(2,T.s.r),L.write_shift(2,T.e.c),L.write_shift(2,T.e.r),L}function u(T,L,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=T.read_shift(1),z[3]=T.read_shift(1),z[0].r=T.read_shift(2),T.l+=2):(z[2]=T.read_shift(1),z[0].c=T.read_shift(2),z[0].r=T.read_shift(2)),z}function f(T,L,B){var z=T.l+L,te=u(T,L,B);if(te[1].t="s",B.vers==20768){T.l++;var ie=T.read_shift(1);return te[1].v=T.read_shift(ie,"utf8"),te}return B.qpro&&T.l++,te[1].v=T.read_shift(z-T.l,"cstr"),te}function d(T,L,B){var z=ze(7+B.length);z.write_shift(1,255),z.write_shift(2,L),z.write_shift(2,T),z.write_shift(1,39);for(var te=0;te<z.length;++te){var ie=B.charCodeAt(te);z.write_shift(1,ie>=128?95:ie)}return z.write_shift(1,0),z}function h(T,L,B){var z=u(T,L,B);return z[1].v=T.read_shift(2,"i"),z}function p(T,L,B){var z=ze(7);return z.write_shift(1,255),z.write_shift(2,L),z.write_shift(2,T),z.write_shift(2,B,"i"),z}function g(T,L,B){var z=u(T,L,B);return z[1].v=T.read_shift(8,"f"),z}function m(T,L,B){var z=ze(13);return z.write_shift(1,255),z.write_shift(2,L),z.write_shift(2,T),z.write_shift(8,B,"f"),z}function v(T,L,B){var z=T.l+L,te=u(T,L,B);if(te[1].v=T.read_shift(8,"f"),B.qpro)T.l=z;else{var ie=T.read_shift(2);j(T.slice(T.l,T.l+ie),te),T.l+=ie}return te}function x(T,L,B){var z=L&32768;return L&=-32769,L=(z?T:0)+(L>=8192?L-16384:L),(z?"":"$")+(B?Zn(L):Sa(L))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(T,L){Ni(T,0);for(var B=[],z=0,te="",ie="",pe="",Q="";T.l<T.length;){var ge=T[T.l++];switch(ge){case 0:B.push(T.read_shift(8,"f"));break;case 1:ie=x(L[0].c,T.read_shift(2),!0),te=x(L[0].r,T.read_shift(2),!1),B.push(ie+te);break;case 2:{var _e=x(L[0].c,T.read_shift(2),!0),q=x(L[0].r,T.read_shift(2),!1);ie=x(L[0].c,T.read_shift(2),!0),te=x(L[0].r,T.read_shift(2),!1),B.push(_e+q+":"+ie+te)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(T.read_shift(2));break;case 6:{for(var Be="";ge=T[T.l++];)Be+=String.fromCharCode(ge);B.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:Q=B.pop(),pe=B.pop(),B.push(["AND","OR"][ge-20]+"("+pe+","+Q+")");break;default:if(ge<32&&b[ge])Q=B.pop(),pe=B.pop(),B.push(pe+b[ge]+Q);else if(y[ge]){if(z=y[ge][1],z==69&&(z=T[T.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+B.join("|")+"|");return}var We=B.slice(-z);B.length-=z,B.push(y[ge][0]+"("+We.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}B.length==1?L[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function k(T){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=T.read_shift(2),L[3]=T[T.l++],L[0].c=T[T.l++],L}function O(T,L){var B=k(T);return B[1].t="s",B[1].v=T.read_shift(L-4,"cstr"),B}function N(T,L,B,z){var te=ze(6+z.length);te.write_shift(2,T),te.write_shift(1,B),te.write_shift(1,L),te.write_shift(1,39);for(var ie=0;ie<z.length;++ie){var pe=z.charCodeAt(ie);te.write_shift(1,pe>=128?95:pe)}return te.write_shift(1,0),te}function E(T,L){var B=k(T);B[1].v=T.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function D(T,L){var B=k(T),z=T.read_shift(4),te=T.read_shift(4),ie=T.read_shift(2);if(ie==65535)return z===0&&te===3221225472?(B[1].t="e",B[1].v=15):z===0&&te===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var pe=ie&32768;return ie=(ie&32767)-16446,B[1].v=(1-pe*2)*(te*Math.pow(2,ie+32)+z*Math.pow(2,ie)),B}function M(T,L,B,z){var te=ze(14);if(te.write_shift(2,T),te.write_shift(1,B),te.write_shift(1,L),z==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ie=0,pe=0,Q=0,ge=0;return z<0&&(ie=1,z=-z),pe=Math.log2(z)|0,z/=Math.pow(2,pe-31),ge=z>>>0,ge&2147483648||(z/=2,++pe,ge=z>>>0),z-=ge,ge|=2147483648,ge>>>=0,z*=Math.pow(2,32),Q=z>>>0,te.write_shift(4,Q),te.write_shift(4,ge),pe+=16383+(ie?32768:0),te.write_shift(2,pe),te}function C(T,L){var B=D(T);return T.l+=L-14,B}function P(T,L){var B=k(T),z=T.read_shift(4);return B[1].v=z>>6,B}function R(T,L){var B=k(T),z=T.read_shift(8,"f");return B[1].v=z,B}function U(T,L){var B=R(T);return T.l+=L-10,B}function ee(T,L){return T[T.l+L-1]==0?T.read_shift(L,"cstr"):""}function J(T,L){var B=T[T.l++];B>L-1&&(B=L-1);for(var z="";z.length<B;)z+=String.fromCharCode(T[T.l++]);return z}function ae(T,L,B){if(!(!B.qpro||L<21)){var z=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var te=T.read_shift(L-21,"cstr");return[z,te]}}function X(T,L){for(var B={},z=T.l+L;T.l<z;){var te=T.read_shift(2);if(te==14e3){for(B[te]=[0,""],B[te][0]=T.read_shift(2);T[T.l];)B[te][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return B}function W(T,L){var B=ze(5+T.length);B.write_shift(2,14e3),B.write_shift(2,L);for(var z=0;z<T.length;++z){var te=T.charCodeAt(z);B[B.l++]=te>127?95:te}return B[B.l++]=0,B}var fe={0:{n:"BOF",f:Fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function lge(e){var t={},r=e.match(os),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=sr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=BC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var cge=function(){var e=l1("t"),t=l1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Gr(s[1])},c=i.match(t);return c&&(o.s=lge(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),uge=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),fge=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,dge=/<(?:\w+:)?r>/,hge=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function cT(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gr(xn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=xn(e),r&&(n.h=YC(n.t))):e.match(dge)&&(n.r=xn(e),n.t=Gr(xn((e.replace(hge,"").match(fge)||[]).join("").replace(os,""))),r&&(n.h=uge(cge(n.r)))),n):{t:""}}var pge=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,mge=/<(?:\w+:)?(?:si|sstItem)>/g,gge=/<\/(?:\w+:)?(?:si|sstItem)>/;function vge(e,t){var r=[],n="";if(!e)return r;var a=e.match(pge);if(a){n=a[2].replace(mge,"").split(gge);for(var i=0;i!=n.length;++i){var s=cT(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=sr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var xge=/^\s|\s$|[\t\n\r]/;function UW(e,t){if(!t.bookSST)return"";var r=[Na];r[r.length]=_t("sst",null,{xmlns:F0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(xge)&&(i+=' xml:space="preserve"'),i+=">"+dn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function yge(e){return[e.read_shift(4),e.read_shift(4)]}function wge(e,t){var r=[],n=!1;return ff(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function bge(e,t){return t||(t=ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var _ge=O0e;function Sge(e){var t=Ks();rt(t,159,bge(e));for(var r=0;r<e.length;++r)rt(t,19,_ge(e[r]));return rt(t,160),t.end()}function $W(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Wu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function jge(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Wu(e,4),t.U=Wu(e,4),t.W=Wu(e,4),t}function Nge(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function kge(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Nge(e));return t}function Age(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Ege(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Wu(e,4),t.U=Wu(e,4),t.W=Wu(e,4),t}function Cge(e){var t=Ege(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function zW(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function qW(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Tge(e){var t=Wu(e);switch(t.Minor){case 2:return[t.Minor,Pge(e)];case 3:return[t.Minor,Oge()];case 4:return[t.Minor,Fge(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Pge(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=zW(e,r),a=qW(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Oge(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Fge(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(os,function(i){var s=sr(i);switch(au(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Dge(e,t){var r={},n=r.EncryptionVersionInfo=Wu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=zW(e,a),t-=a,r.EncryptionVerifier=qW(e,t),r}function Lge(e){var t={},r=t.EncryptionVersionInfo=Wu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function uT(e){var t=0,r,n=$W(e),a=n.length+1,i,s,o,c,u;for(r=Id(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var WW=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var f=s[u],d=0;d!=7;++d)f&64&&(o^=r[c]),f*=2,--c;return o};return function(s){for(var o=$W(s),c=i(o),u=o.length,f=Id(16),d=0;d!=16;++d)f[d]=0;var h,p,g;for((u&1)===1&&(h=c>>8,f[u]=a(e[0],h),--u,h=c&255,p=o[o.length-1],f[u]=a(p,h));u>0;)--u,h=c>>8,f[u]=a(o[u],h),--u,h=c&255,f[u]=a(o[u],h);for(u=15,g=15-o.length;g>0;)h=c>>8,f[u]=a(e[g],h),--u,--g,h=c&255,f[u]=a(o[u],h),--u,--g;return f}}(),Ige=function(e,t,r,n,a){a||(a=t),n||(n=WW(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Rge=function(e){var t=0,r=WW(e);return function(n){var a=Ige("",n,t,r);return t=a[1],a[0]}};function Mge(e,t,r,n){var a={key:Fa(e),verificationBytes:Fa(e)};return r.password&&(a.verifier=uT(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Rge(r.password)),a}function Bge(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Lge(e):n.Data=Dge(e,t),n}function Uge(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Bge(e,t-2,n):Mge(e,r.biff>=8?t:t-2,r,n),n}var VW=function(){function e(a,i){switch(i.type){case"base64":return t(Po(a),i);case"binary":return t(a,i);case"buffer":return t(jr&&Buffer.isBuffer(a)?a.toString("binary"):Zd(a),i);case"array":return t(y0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(f);){switch(g[0]){case"\\cell":var v=f.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var x={v,t:"s"};Array.isArray(o)?o[d][m]=x:o[ar({r:d,c:m})]=x}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=gr(u),o}function r(a,i){return Jd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Kr(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var d=ar({r:u,c:f});o=c?(a[u]||[])[f]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(rf(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function $ge(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function d1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function zge(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function qge(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-o),s[0]+=c,s[1]+=a;break;case 2:c=a*(o-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-o),s[1]+=c,s[2]+=a;break;case 4:c=a*(o-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-o),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function Jb(e,t){if(t===0)return e;var r=zge($ge(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),d1(qge(r))}var HW=6,Wge=15,Vge=1,Ji=HW;function h1(e){return Math.floor((e+Math.round(128/Ji)/256)*Ji)}function p1(e){return Math.floor((e-5)/Ji*100+.5)/100}function Qb(e){return Math.round((e*Ji+5)/Ji*256)/256}function M4(e){return Qb(p1(h1(e)))}function fT(e){var t=Math.abs(e-M4(e)),r=Ji;if(t>.005)for(Ji=Vge;Ji<Wge;++Ji)Math.abs(e-M4(e))<=t&&(t=Math.abs(e-M4(e)),r=Ji);Ji=r}function Rd(e){e.width?(e.wpx=h1(e.width),e.wch=p1(e.wpx),e.MDW=Ji):e.wpx?(e.wch=p1(e.wpx),e.width=Qb(e.wch),e.MDW=Ji):typeof e.wch=="number"&&(e.width=Qb(e.wch),e.wpx=h1(e.width),e.MDW=Ji),e.customWidth&&delete e.customWidth}var Hge=96,GW=Hge;function m1(e){return e*96/GW}function Qm(e){return e*GW/96}var Gge={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Kge(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(os)||[]).forEach(function(s){var o=sr(s);switch(au(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Dn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Dn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Yge(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(os)||[]).forEach(function(s){var o=sr(s);switch(au(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Xge(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(os)||[]).forEach(function(s){var o=sr(s);switch(au(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=xn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Dn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Dn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Dn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Dn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Dn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Dn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Dn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=BC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Dn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Gh[a.color.index];a.color.index==81&&(c=Gh[1]),c||(c=Gh[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Jb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Zge(e,t,r){t.NumberFmt=[];for(var n=fa(rr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=rr[n[a]];var i=e[0].match(os);if(i)for(a=0;a<i.length;++a){var s=sr(i[a]);switch(au(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gr(xn(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}qu(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Jge(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=_t("numFmt",null,{numFmtId:n,formatCode:dn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=_t("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var K2=["numFmtId","fillId","fontId","borderId","xfId"],Y2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Qge(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(os)||[]).forEach(function(i){var s=sr(i),o=0;switch(au(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<K2.length;++o)n[K2[o]]&&(n[K2[o]]=parseInt(n[K2[o]],10));for(o=0;o<Y2.length;++o)n[Y2[o]]&&(n[Y2[o]]=Dn(n[Y2[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Dn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function eve(e){var t=[];return t[t.length]=_t("cellXfs",null),e.forEach(function(r){t[t.length]=_t("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=_t("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var tve=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&Zge(d,f,u),(d=o.match(a))&&Xge(d,f,c,u),(d=o.match(n))&&Yge(d,f,c,u),(d=o.match(i))&&Kge(d,f,c,u),(d=o.match(r))&&Qge(d,f,u),f}}();function KW(e,t){var r=[Na,_t("styleSheet",null,{xmlns:F0[0],"xmlns:vt":za.vt})],n;return e.SSF&&(n=Jge(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=eve(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function rve(e,t){var r=e.read_shift(2),n=rs(e);return[r,n]}function nve(e,t,r){r||(r=ze(6+4*t.length)),r.write_shift(2,e),ai(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function ave(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=B0e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=M0e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=rs(e),n}function ive(e,t){t||(t=ze(25+4*32)),t.write_shift(2,e.sz*20),U0e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Yb(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),ai(e.name,t),t.length>t.l?t.slice(0,t.l):t}var sve=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],B4,ove=ss;function yD(e,t){t||(t=ze(4*3+8*7+16*1)),B4||(B4=V5(sve));var r=B4[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Yb({auto:1},t),Yb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function lve(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function YW(e,t,r){r||(r=ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function wv(e,t){return t||(t=ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var cve=ss;function uve(e,t){return t||(t=ze(51)),t.write_shift(1,0),wv(null,t),wv(null,t),wv(null,t),wv(null,t),wv(null,t),t.length>t.l?t.slice(0,t.l):t}function fve(e,t){return t||(t=ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Kb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function dve(e,t,r){var n=ze(2052);return n.write_shift(4,e),Kb(t,n),Kb(r,n),n.length>n.l?n.slice(0,n.l):n}function hve(e,t,r){var n={};n.NumberFmt=[];for(var a in rr)n.NumberFmt[a]=rr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ff(e,function(c,u,f){switch(f){case 44:n.NumberFmt[c[0]]=c[1],qu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Jb(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(f),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(f);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function pve(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(rt(e,615,ac(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&rt(e,44,nve(a,t[a]))}),rt(e,616))}}function mve(e){var t=1;rt(e,611,ac(t)),rt(e,43,ive({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),rt(e,612)}function gve(e){var t=2;rt(e,603,ac(t)),rt(e,45,yD({patternType:"none"})),rt(e,45,yD({patternType:"gray125"})),rt(e,604)}function vve(e){var t=1;rt(e,613,ac(t)),rt(e,46,uve()),rt(e,614)}function xve(e){var t=1;rt(e,626,ac(t)),rt(e,47,YW({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),rt(e,627)}function yve(e,t){rt(e,617,ac(t.length)),t.forEach(function(r){rt(e,47,YW(r,0))}),rt(e,618)}function wve(e){var t=1;rt(e,619,ac(t)),rt(e,48,fve({xfId:0,builtinId:0,name:"Normal"})),rt(e,620)}function bve(e){var t=0;rt(e,505,ac(t)),rt(e,506)}function _ve(e){var t=0;rt(e,508,dve(t,"TableStyleMedium9","PivotStyleMedium4")),rt(e,509)}function Sve(e,t){var r=Ks();return rt(r,278),pve(r,e.SSF),mve(r),gve(r),vve(r),xve(r),yve(r,t.cellXfs),wve(r),bve(r),_ve(r),rt(r,279),r.end()}var jve=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Nve(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(os)||[]).forEach(function(a){var i=sr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[jve.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function kve(){}function Ave(){}var Eve=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Cve=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Tve=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Pve(e,t,r){t.themeElements={};var n;[["clrScheme",Eve,Nve],["fontScheme",Cve,kve],["fmtScheme",Tve,Ave]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Ove=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function XW(e,t){(!e||e.length===0)&&(e=dT());var r,n={};if(!(r=e.match(Ove)))throw new Error("themeElements not found in theme");return Pve(r[0],n,t),n.raw=e,n}function dT(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Na];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Fve(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=zq(i,{type:"array"})}catch{return}var o=wo(s,"theme/theme/theme1.xml",!0);if(o)return XW(o,r)}}function Dve(e){return e.read_shift(4)}function Lve(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Ive(e,4);break;case 2:t.xclrValue=CW(e);break;case 3:t.xclrValue=Dve(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Ive(e,t){return ss(e,t)}function Rve(e,t){return ss(e,t)}function Mve(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Lve(e);break;case 6:n[1]=Rve(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Bve(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Mve(e,r-e.l));return{ixfe:n,ext:i}}function Uve(e,t){t.forEach(function(r){switch(r[0]){}})}function $ve(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:rs(e)}}function zve(e){var t=ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ai(e.name,t),t.slice(0,t.l)}function qve(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Wve(e){var t=ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Vve(e,t){var r=ze(8+2*t.length);return r.write_shift(4,e),ai(t,r),r.slice(0,r.l)}function Hve(e){return e.l+=4,e.read_shift(4)!=0}function Gve(e,t){var r=ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Kve(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ff(e,function(c,u,f){switch(f){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(f),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function Yve(){var e=Ks();return rt(e,332),rt(e,334,ac(1)),rt(e,335,zve({name:"XLDAPR",version:12e4,flags:3496657072})),rt(e,336),rt(e,339,Vve(1,"XLDAPR")),rt(e,52),rt(e,35,ac(514)),rt(e,4096,ac(0)),rt(e,4097,Qo(1)),rt(e,36),rt(e,53),rt(e,340),rt(e,337,Gve(1)),rt(e,51,Wve([[1,0]])),rt(e,338),rt(e,333),e.end()}function Xve(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(os,function(o){var c=sr(o);switch(au(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function ZW(){var e=[Na];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Zve(e){var t=[];if(!e)return t;var r=1;return(e.match(os)||[]).forEach(function(n){var a=sr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Jve(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ar(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Qve(e,t,r){var n=[];return ff(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function exe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ff(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function txe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Xp=1024;function JW(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[_t("xml",null,{"xmlns:v":go.v,"xmlns:o":go.o,"xmlns:x":go.x,"xmlns:mv":go.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Xp<e*1e3;)Xp+=1e3;return t.forEach(function(i){var s=Jn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=_t("v:fill",c,o),f={on:"t",obscured:"t"};++Xp,a=a.concat(["<v:shape"+c1({id:"_x0000_s"+Xp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,_t("v:shadow",null,f),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ei("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ei("x:AutoFill","False"),Ei("x:Row",String(s.r)),Ei("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function wD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Jn(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var c=Kr(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=gr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var f={a:s.author,t:s.t,r:s.r,T:r};s.h&&(f.h=s.h);for(var d=i.c.length-1;d>=0;--d){if(!r&&i.c[d].T)return;r&&!i.c[d].T&&i.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(f.a==n[d].id){f.a=n[d].name||f.a;break}}i.c.push(f)})}function rxe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=sr(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},f=Jn(c.ref);if(!(t.sheetRows&&t.sheetRows<=f.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&cT(d[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function QW(e){var t=[Na,_t("comments",null,{xmlns:F0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=dn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(dn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ei("t",dn(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Ei("t",dn(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function nxe(e,t){var r=[],n=!1,a={},i=0;return e.replace(os,function(o,c){var u=sr(o);switch(au(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function axe(e,t,r){var n=[Na,_t("ThreadedComments",null,{xmlns:za.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(_t("threadedComment",Ei("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function ixe(e,t){var r=[],n=!1;return e.replace(os,function(i){var s=sr(i);switch(au(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function sxe(e){var t=[Na,_t("personList",null,{xmlns:za.TCMNT,"xmlns:x":F0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(_t("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function oxe(e){var t={};t.iauthor=e.read_shift(4);var r=R0(e);return t.rfx=r.s,t.ref=ar(r.s),e.l+=16,t}function lxe(e,t){return t==null&&(t=ze(36)),t.write_shift(4,e[1].iauthor),Sg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var cxe=rs;function uxe(e){return ai(e.slice(0,54))}function fxe(e,t){var r=[],n=[],a={},i=!1;return ff(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function dxe(e){var t=Ks(),r=[];return rt(t,628),rt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),rt(t,632,uxe(a.a)))})}),rt(t,631),rt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Jn(n[0]),e:Jn(n[0])};rt(t,635,lxe([i,a])),a.t&&a.t.length>0&&rt(t,637,D0e(a)),rt(t,636),delete a.iauthor})}),rt(t,634),rt(t,629),t.end()}var hxe="application/vnd.ms-office.vbaProject";function pxe(e){var t=Gt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Gt.write(t)}function mxe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Gt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var eV=["xlsb","xlsm","xlam","biff8","xla"];function gxe(){return{"!type":"dialog"}}function vxe(){return{"!type":"dialog"}}function xxe(){return{"!type":"macro"}}function yxe(){return{"!type":"macro"}}var pm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,c?u+=t.r:--u,a+(o?"":"$")+Zn(f)+(c?"":"$")+Sa(u)}return function(a,i){return t=i,a.replace(e,r)}}(),hT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pT=function(){return function(t,r){return t.replace(hT,function(n,a,i,s,o,c){var u=eT(s)-(i?0:r.c),f=QC(c)-(o?0:r.r),d=f==0?"":o?f+1:"["+f+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+d+"C"+h})}}();function tV(e,t){return e.replace(hT,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Zn(eT(i)+t.c))+(s=="$"?s+o:Sa(QC(o)+t.r))})}function wxe(e,t,r){var n=Ys(t),a=n.s,i=Jn(r),s={r:i.r-a.r,c:i.c-a.c};return tV(e,s)}function bxe(e){return e.length!=1}function bD(e){return e.replace(/_xlfn\./g,"")}function Ta(e){e.l+=1}function Md(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function rV(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return nV(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Md(e),o=Md(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function nV(e){var t=Md(e),r=Md(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function _xe(e,t,r){if(r.biff<8)return nV(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Md(e),s=Md(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function aV(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Sxe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Md(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Sxe(e){var t=Md(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function jxe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Nxe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return kxe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function kxe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Axe(e,t,r){var n=(e[e.l++]&96)>>5,a=rV(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Exe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=rV(e,i,r);return[n,a,s]}function Cxe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Txe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Pxe(e,t,r){var n=(e[e.l++]&96)>>5,a=_xe(e,t-1,r);return[n,a]}function Oxe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function _D(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Fxe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Dxe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Lxe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ixe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Rxe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function iV(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Mxe(e){return e.read_shift(2),iV(e)}function Bxe(e){return e.read_shift(2),iV(e)}function Uxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=aV(e,0,r);return[n,a]}function $xe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Nxe(e,0,r);return[n,a]}function zxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=aV(e,0,r);return[n,a,i]}function qxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[H1e[a],lV[a],n]}function Wxe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Vxe(e);return[a,(i[0]===0?lV:V1e)[i[1]]]}function Vxe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Hxe(e,t,r){e.l+=r&&r.biff==2?3:4}function Gxe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Kxe(e){return e.l++,df[e.read_shift(1)]}function Yxe(e){return e.l++,e.read_shift(2)}function Xxe(e){return e.l++,e.read_shift(1)!==0}function Zxe(e){return e.l++,es(e)}function Jxe(e,t,r){return e.l++,iy(e,t-1,r)}function Qxe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ga(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=df[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=es(e);break;case 2:r[1]=M0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function e1e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?R0:K5)(e));return a}function t1e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Qxe(e,r.biff);return s}function r1e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function n1e(e,t,r){if(r.biff==5)return a1e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function a1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function i1e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function s1e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function o1e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function l1e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var c1e=ss,u1e=ss,f1e=ss;function oy(e,t,r){return e.l+=2,[jxe(e)]}function mT(e){return e.l+=6,[]}var d1e=oy,h1e=mT,p1e=mT,m1e=oy;function sV(e){return e.l+=2,[Fa(e),e.read_shift(2)&1]}var g1e=oy,v1e=sV,x1e=mT,y1e=oy,w1e=oy,b1e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function _1e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=b1e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function S1e(e){return e.l+=2,[e.read_shift(4)]}function j1e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function N1e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function k1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function A1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function E1e(e){return e.l+=4,[0,0]}var SD={1:{n:"PtgExp",f:Gxe},2:{n:"PtgTbl",f:f1e},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:Jxe},26:{n:"PtgSheet",f:j1e},27:{n:"PtgEndSheet",f:N1e},28:{n:"PtgErr",f:Kxe},29:{n:"PtgBool",f:Xxe},30:{n:"PtgInt",f:Yxe},31:{n:"PtgNum",f:Zxe},32:{n:"PtgArray",f:Oxe},33:{n:"PtgFunc",f:qxe},34:{n:"PtgFuncVar",f:Wxe},35:{n:"PtgName",f:r1e},36:{n:"PtgRef",f:Uxe},37:{n:"PtgArea",f:Axe},38:{n:"PtgMemArea",f:i1e},39:{n:"PtgMemErr",f:c1e},40:{n:"PtgMemNoMem",f:u1e},41:{n:"PtgMemFunc",f:s1e},42:{n:"PtgRefErr",f:o1e},43:{n:"PtgAreaErr",f:Cxe},44:{n:"PtgRefN",f:$xe},45:{n:"PtgAreaN",f:Pxe},46:{n:"PtgMemAreaN",f:k1e},47:{n:"PtgMemNoMemN",f:A1e},57:{n:"PtgNameX",f:n1e},58:{n:"PtgRef3d",f:zxe},59:{n:"PtgArea3d",f:Exe},60:{n:"PtgRefErr3d",f:l1e},61:{n:"PtgAreaErr3d",f:Txe},255:{}},C1e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},T1e={1:{n:"PtgElfLel",f:sV},2:{n:"PtgElfRw",f:y1e},3:{n:"PtgElfCol",f:d1e},6:{n:"PtgElfRwV",f:w1e},7:{n:"PtgElfColV",f:m1e},10:{n:"PtgElfRadical",f:g1e},11:{n:"PtgElfRadicalS",f:x1e},13:{n:"PtgElfColS",f:h1e},15:{n:"PtgElfColSV",f:p1e},16:{n:"PtgElfRadicalLel",f:v1e},25:{n:"PtgList",f:_1e},29:{n:"PtgSxName",f:S1e},255:{}},P1e={0:{n:"PtgAttrNoop",f:E1e},1:{n:"PtgAttrSemi",f:Rxe},2:{n:"PtgAttrIf",f:Lxe},4:{n:"PtgAttrChoose",f:Fxe},8:{n:"PtgAttrGoto",f:Dxe},16:{n:"PtgAttrSum",f:Hxe},32:{n:"PtgAttrBaxcel",f:_D},33:{n:"PtgAttrBaxcel",f:_D},64:{n:"PtgAttrSpace",f:Mxe},65:{n:"PtgAttrSpaceSemi",f:Bxe},128:{n:"PtgAttrIfError",f:Ixe},255:{}};function ly(e,t,r,n){if(n.biff<8)return ss(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=t1e(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=e1e(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ss(e,t)),i}function cy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=SD[i]||SD[C1e[i]],(i===24||i===25)&&(a=(i===24?T1e:P1e)[e[e.l+1]]),!a||!a.f?ss(e,t):s.push([a.n,a.f(e,t,r)]);return s}function O1e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var F1e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function D1e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function oV(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function jD(e,t,r){var n=oV(e,t,r);return n=="#REF"?n:D1e(n,r)}function Xi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,f,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",x=0,y=e[0].length;x<y;++x){var b=e[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=ca(" ",e[0][m][1][1]);break;case 1:v=ca("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+v,m=-1}o.push(u+F1e[b[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=fx(b[1][1],s,a),o.push(dx(f,i));break;case"PtgRefN":f=r?fx(b[1][1],r,a):b[1][1],o.push(dx(f,i));break;case"PtgRef3d":d=b[1][1],f=fx(b[1][2],s,a),g=jD(n,d,a),o.push(g+"!"+dx(f,i));break;case"PtgFunc":case"PtgFuncVar":var j=b[1][0],k=b[1][1];j||(j=0),j&=127;var O=j==0?[]:o.slice(-j);o.length-=j,k==="User"&&(k=O.shift()),o.push(k+"("+O.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=QF(b[1][1],r?{s:r}:s,a),o.push(L4(p,a));break;case"PtgArea":p=QF(b[1][1],s,a),o.push(L4(p,a));break;case"PtgArea3d":d=b[1][1],p=b[1][2],g=jD(n,d,a),o.push(g+"!"+L4(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],E=N?N.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var D=b[1][1];h=b[1][2];var M;if(a.biff<=5)D<0&&(D=-D),n[D]&&(M=n[D][h]);else{var C="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][h]&&n[D][h].itab>0&&(C=n.SheetNames[n[D][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[D]&&n[D][h])C+=n[D][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var P=(oV(n,D,a)||"").split(";;");P[h-1]?C=P[h-1]:C+="SH33TJSERRX"}o.push(C);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var R="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:R=ca(" ",e[0][m][1][1])+R;break;case 3:R=ca("\r",e[0][m][1][1])+R;break;case 4:U=ca(" ",e[0][m][1][1])+U;break;case 5:U=ca("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(R+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:b[1][1],r:b[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[ar(f)]){var J=n.sharedf[ar(f)];o.push(Xi(J,s,ee,n,a))}else{var ae=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(Xi(u[1],s,ee,n,a)),ae=!0;break}ae||o.push(b[1])}break;case"PtgArray":o.push("{"+O1e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&X.indexOf(e[0][x][0])==-1){b=e[0][m];var W=!0;switch(b[1][0]){case 4:W=!1;case 0:v=ca(" ",b[1][1]);break;case 5:W=!1;case 1:v=ca("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((W?v:"")+o.pop()+(W?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function L1e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ss(e,t-2)];var o=cy(e,s,r);return t!==s+a&&(i=ly(e,t-s-a,o,r)),e.l=n,[o,i]}function I1e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ss(e,t-2)];var o=cy(e,s,r);return t!==s+a&&(i=ly(e,t-s-a,o,r)),e.l=n,[o,i]}function R1e(e,t,r,n){var a=e.l+t,i=cy(e,n,r),s;return a!==e.l&&(s=ly(e,a-e.l,i,r)),[i,s]}function M1e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=cy(e,i,r);return i==65535?[[],ss(e,t-2)]:(t!==i+2&&(a=ly(e,n-i-2,s,r)),[s,a])}function B1e(e){var t;if(Iu(e,e.l+6)!==65535)return[es(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function U1e(e){if(e==null){var t=ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return w0(e);return w0(0)}function U4(e,t,r){var n=e.l+t,a=iu(e);r.biff==2&&++e.l;var i=B1e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=I1e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function $1e(e,t,r,n,a){var i=_0(t,r,a),s=U1e(e.v),o=ze(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ze(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var d=ni([i,s,o,u]);return d}function Y5(e,t,r){var n=e.read_shift(4),a=cy(e,n,r),i=e.read_shift(4),s=i>0?ly(e,i,a,r):null;return[a,s]}var z1e=Y5,X5=Y5,q1e=Y5,W1e=Y5,V1e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},H1e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ND(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function G1e(e){var t="of:="+e.replace(hT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $4(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function K1e(e){return e.replace(/\./,"!")}var px={},mm={},mx=typeof Map<"u";function gT(e,t,r){var n=0,a=e.length;if(r){if(mx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=mx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(mx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Z5(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ji=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=p1(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Qb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Xh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Qd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){qu(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function cV(e,t,r,n,a,i){try{n.cellNF&&(e.z=rr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=qn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(rr[t]==null&&qu(Vhe[t]||"General",t),e.t==="e")e.w=e.w||df[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=o1(e.v);else if(e.t==="d"){var s=Ga(e.v);(s|0)===s?e.w=s.toString(10):e.w=o1(s)}else{if(e.v===void 0)return"";e.w=x0(e.v,mm)}else e.t==="d"?e.w=hl(t,Ga(e.v),mm):e.w=hl(t,e.v,mm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Jb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Jb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Y1e(e,t,r){if(e&&e["!ref"]){var n=Kr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function X1e(e,t){var r=Kr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=gr(r))}var Z1e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,J1e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Q1e=/<(?:\w:)?hyperlink [^>]*>/mg,eye=/"(\w*:\w*)"/,tye=/<(?:\w:)?col\b[^>]*[\/]?>/g,rye=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,nye=/<(?:\w:)?pageMargins[^>]*\/>/g,uV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,aye=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,iye=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function sye(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",f="",d=e.match(J1e);d?(u=e.slice(0,d.index),f=e.slice(d.index+d[0].length)):u=f=e;var h=u.match(uV);h?vT(h[0],o,a,r):(h=u.match(aye))&&lye(h[0],h[1]||"",o,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=u.slice(p,p+50).match(eye);g&&X1e(o,g[1])}var m=u.match(iye);m&&m[1]&&bye(m[1],a);var v=[];if(t.cellStyles){var x=u.match(tye);x&&gye(v,x)}d&&jye(d[1],o,t,c,i,s);var y=f.match(rye);y&&(o["!autofilter"]=xye(y[0]));var b=[],j=f.match(Z1e);if(j)for(p=0;p!=j.length;++p)b[p]=Kr(j[p].slice(j[p].indexOf('"')+1));var k=f.match(Q1e);k&&hye(o,k,n);var O=f.match(nye);if(O&&(o["!margins"]=pye(sr(O[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=gr(c)),t.sheetRows>0&&o["!ref"]){var N=Kr(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=gr(N))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function oye(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+gr(e[r])+'"/>';return t+"</mergeCells>"}function vT(e,t,r,n){var a=sr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Gr(xn(a.codeName)))}function lye(e,t,r,n,a){vT(e.slice(0,e.indexOf(">")),r,n,a)}function cye(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Mc(dn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+_t("outlinePr",null,u)}!i&&!o||(a[a.length]=_t("sheetPr",o,s))}var uye=["objects","scenarios","selectLockedCells","selectUnlockedCells"],fye=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dye(e){var t={sheet:1};return uye.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),fye.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=uT(e.password).toString(16).toUpperCase()),_t("sheetProtection",null,t)}function hye(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=sr(xn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Gr(i.location))):(i.Target="#"+Gr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Kr(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var f=ar({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=i)}}}function pye(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function mye(e){return Xh(e),_t("pageMargins",null,e)}function gye(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=sr(t[n],!0);a.hidden&&(a.hidden=Dn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,fT(a.width)),Rd(a);i<=s;)e[i++]=Wn(a)}}function vye(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=_t("col",null,Z5(a,n)));return r[r.length]="</cols>",r.join("")}function xye(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function yye(e,t,r,n){var a=typeof e.ref=="string"?e.ref:gr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Ys(a);s.s.r==s.e.r&&(s.e.r=Ys(t["!ref"]).e.r,a=gr(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),_t("autoFilter",null,{ref:a})}var wye=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function bye(e,t){t.Views||(t.Views=[{}]),(e.match(wye)||[]).forEach(function(r,n){var a=sr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Dn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function _ye(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,a),{})}function Sye(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=df[e.v];break;case"d":n&&n.cellDates?a=qn(e.v,-1).toISOString():(e=Wn(e),e.t="n",a=""+(e.v=Ga(qn(e.v)))),typeof e.z>"u"&&(e.z=rr[14]);break;default:a=e.v;break}var o=Ei("v",dn(a)),c={r:t},u=Qd(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ei("v",""+gT(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=_t("f",dn(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),_t("c",o,c)}var jye=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=l1("v"),s=l1("f");return function(c,u,f,d,h,p){for(var g=0,m="",v=[],x=[],y=0,b=0,j=0,k="",O,N,E=0,D=0,M,C,P=0,R=0,U=Array.isArray(p.CellXf),ee,J=[],ae=[],X=Array.isArray(u),W=[],fe={},Se=!1,T=!!f.sheetStubs,L=c.split(t),B=0,z=L.length;B!=z;++B){m=L[B].trim();var te=m.length;if(te!==0){var ie=0;e:for(g=0;g<te;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(f&&f.cellStyles){if(N=sr(m.slice(ie,g),!0),E=N.r!=null?parseInt(N.r,10):E+1,D=-1,f.sheetRows&&f.sheetRows<E)continue;fe={},Se=!1,N.ht&&(Se=!0,fe.hpt=parseFloat(N.ht),fe.hpx=Qm(fe.hpt)),N.hidden=="1"&&(Se=!0,fe.hidden=!0),N.outlineLevel!=null&&(Se=!0,fe.level=+N.outlineLevel),Se&&(W[E-1]=fe)}break;case"<":ie=g;break}if(ie>=g)break;if(N=sr(m.slice(ie,g),!0),E=N.r!=null?parseInt(N.r,10):E+1,D=-1,!(f.sheetRows&&f.sheetRows<E)){d.s.r>E-1&&(d.s.r=E-1),d.e.r<E-1&&(d.e.r=E-1),f&&f.cellStyles&&(fe={},Se=!1,N.ht&&(Se=!0,fe.hpt=parseFloat(N.ht),fe.hpx=Qm(fe.hpt)),N.hidden=="1"&&(Se=!0,fe.hidden=!0),N.outlineLevel!=null&&(Se=!0,fe.level=+N.outlineLevel),Se&&(W[E-1]=fe)),v=m.slice(g).split(e);for(var pe=0;pe!=v.length&&v[pe].trim().charAt(0)=="<";++pe);for(v=v.slice(pe),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(x=m.match(r),y=g,b=0,j=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(y=0,k=x[1],b=0;b!=k.length&&!((j=k.charCodeAt(b)-64)<1||j>26);++b)y=26*y+j;--y,D=y}else++D;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,N=sr(m.slice(0,b),!0),N.r||(N.r=ar({r:E-1,c:D})),k=m.slice(b),O={t:""},(x=k.match(i))!=null&&x[1]!==""&&(O.v=Gr(x[1])),f.cellFormula){if((x=k.match(s))!=null&&x[1]!==""){if(O.f=Gr(xn(x[1])).replace(/\r\n/g,`
`),f.xlfn||(O.f=bD(O.f)),x[0].indexOf('t="array"')>-1)O.F=(k.match(a)||[])[1],O.F.indexOf(":")>-1&&J.push([Kr(O.F),O.F]);else if(x[0].indexOf('t="shared"')>-1){C=sr(x[0]);var Q=Gr(xn(x[1]));f.xlfn||(Q=bD(Q)),ae[parseInt(C.si,10)]=[C,Q,N.r]}}else(x=k.match(/<f[^>]*\/>/))&&(C=sr(x[0]),ae[C.si]&&(O.f=wxe(ae[C.si][1],ae[C.si][2],N.r)));var ge=Jn(N.r);for(b=0;b<J.length;++b)ge.r>=J[b][0].s.r&&ge.r<=J[b][0].e.r&&ge.c>=J[b][0].s.c&&ge.c<=J[b][0].e.c&&(O.F=J[b][1])}if(N.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(T)O.t="z";else continue;else O.t=N.t||"n";switch(d.s.c>D&&(d.s.c=D),d.e.c<D&&(d.e.c=D),O.t){case"n":if(O.v==""||O.v==null){if(!T)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!T)continue;O.t="z"}else M=px[parseInt(O.v,10)],O.v=M.t,O.r=M.r,f.cellHTML&&(O.h=M.h);break;case"str":O.t="s",O.v=O.v!=null?xn(O.v):"",f.cellHTML&&(O.h=YC(O.v));break;case"inlineStr":x=k.match(n),O.t="s",x!=null&&(M=cT(x[1]))?(O.v=M.t,f.cellHTML&&(O.h=M.h)):O.v="";break;case"b":O.v=Dn(O.v);break;case"d":f.cellDates?O.v=qn(O.v,1):(O.v=Ga(qn(O.v,1)),O.t="n");break;case"e":(!f||f.cellText!==!1)&&(O.w=O.v),O.v=dW[O.v];break}if(P=R=0,ee=null,U&&N.s!==void 0&&(ee=p.CellXf[N.s],ee!=null&&(ee.numFmtId!=null&&(P=ee.numFmtId),f.cellStyles&&ee.fillId!=null&&(R=ee.fillId))),cV(O,P,R,f,h,p),f.cellDates&&U&&O.t=="n"&&wg(rr[P])&&(O.t="d",O.v=G5(O.v)),N.cm&&f.xlmeta){var _e=(f.xlmeta.Cell||[])[+N.cm-1];_e&&_e.type=="XLDAPR"&&(O.D=!0)}if(X){var q=Jn(N.r);u[q.r]||(u[q.r]=[]),u[q.r][q.c]=O}else u[N.r]=O}}}}W.length>0&&(u["!rows"]=W)}}();function Nye(e,t,r,n){var a=[],i=[],s=Kr(e["!ref"]),o="",c,u="",f=[],d=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},v,x=-1;for(h=s.s.c;h<=s.e.c;++h)f[h]=Zn(h);for(d=s.s.r;d<=s.e.r;++d){for(i=[],u=Sa(d),h=s.s.c;h<=s.e.c;++h){c=f[h]+u;var y=g?(e[d]||[])[h]:e[c];y!==void 0&&(o=Sye(y,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[d])&&(m={r:u},p&&p[d]&&(v=p[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=m1(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),a[a.length]=_t("row",i.join(""),m))}if(p)for(;d<p.length;++d)p&&p[d]&&(m={r:d+1},v=p[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=m1(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level),a[a.length]=_t("row","",m));return a.join("")}function fV(e,t,r,n){var a=[Na,_t("worksheet",null,{xmlns:F0[0],"xmlns:r":za.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",f=Kr(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=gr(f)}n||(n={}),c["!comments"]=[];var d=[];cye(c,r,e,t,a),a[a.length]=_t("dimension",null,{ref:u}),a[a.length]=_ye(c,t,e,r),t.sheetFormat&&(a[a.length]=_t("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=vye(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Nye(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=dye(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=yye(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=oye(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=un(n,-1,dn(m[1].Target).replace(/#.*$/,""),Pr.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=dn(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=dn(m[1].Tooltip)),a[a.length]=_t("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=mye(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ei("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(g=un(n,-1,"../drawings/drawing"+(e+1)+".xml",Pr.DRAW),a[a.length]=_t("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=d),c["!comments"].length>0&&(g=un(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Pr.VML),a[a.length]=_t("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function kye(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Aye(e,t,r){var n=ze(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=m1(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var d=-1,h=-1,p=f<<10;p<f+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[ar(u)];g&&(d<0&&(d=p),h=p)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function Eye(e,t,r,n){var a=Aye(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&rt(e,0,a)}var Cye=R0,Tye=Sg;function Pye(){}function Oye(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=L0e(e),r}function Fye(e,t,r){r==null&&(r=ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Yb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),oW(e,r),r.slice(0,r.l)}function Dye(e){var t=xl(e);return[t]}function Lye(e,t,r){return r==null&&(r=ze(8)),D0(t,r)}function Iye(e){var t=L0(e);return[t]}function Rye(e,t,r){return r==null&&(r=ze(4)),I0(t,r)}function Mye(e){var t=xl(e),r=e.read_shift(1);return[t,r,"b"]}function Bye(e,t,r){return r==null&&(r=ze(9)),D0(t,r),r.write_shift(1,e.v?1:0),r}function Uye(e){var t=L0(e),r=e.read_shift(1);return[t,r,"b"]}function $ye(e,t,r){return r==null&&(r=ze(5)),I0(t,r),r.write_shift(1,e.v?1:0),r}function zye(e){var t=xl(e),r=e.read_shift(1);return[t,r,"e"]}function qye(e,t,r){return r==null&&(r=ze(9)),D0(t,r),r.write_shift(1,e.v),r}function Wye(e){var t=L0(e),r=e.read_shift(1);return[t,r,"e"]}function Vye(e,t,r){return r==null&&(r=ze(8)),I0(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Hye(e){var t=xl(e),r=e.read_shift(4);return[t,r,"s"]}function Gye(e,t,r){return r==null&&(r=ze(12)),D0(t,r),r.write_shift(4,t.v),r}function Kye(e){var t=L0(e),r=e.read_shift(4);return[t,r,"s"]}function Yye(e,t,r){return r==null&&(r=ze(8)),I0(t,r),r.write_shift(4,t.v),r}function Xye(e){var t=xl(e),r=es(e);return[t,r,"n"]}function Zye(e,t,r){return r==null&&(r=ze(16)),D0(t,r),w0(e.v,r),r}function dV(e){var t=L0(e),r=es(e);return[t,r,"n"]}function Jye(e,t,r){return r==null&&(r=ze(12)),I0(t,r),w0(e.v,r),r}function Qye(e){var t=xl(e),r=aT(e);return[t,r,"n"]}function e2e(e,t,r){return r==null&&(r=ze(12)),D0(t,r),lW(e.v,r),r}function t2e(e){var t=L0(e),r=aT(e);return[t,r,"n"]}function r2e(e,t,r){return r==null&&(r=ze(8)),I0(t,r),lW(e.v,r),r}function n2e(e){var t=xl(e),r=tT(e);return[t,r,"is"]}function a2e(e){var t=xl(e),r=rs(e);return[t,r,"str"]}function i2e(e,t,r){return r==null&&(r=ze(12+4*e.v.length)),D0(t,r),ai(e.v,r),r.length>r.l?r.slice(0,r.l):r}function s2e(e){var t=L0(e),r=rs(e);return[t,r,"str"]}function o2e(e,t,r){return r==null&&(r=ze(8+4*e.v.length)),I0(t,r),ai(e.v,r),r.length>r.l?r.slice(0,r.l):r}function l2e(e,t,r){var n=e.l+t,a=xl(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=X5(e,n-e.l,r);s[3]=Xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function c2e(e,t,r){var n=e.l+t,a=xl(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=X5(e,n-e.l,r);s[3]=Xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function u2e(e,t,r){var n=e.l+t,a=xl(e);a.r=r["!row"];var i=es(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=X5(e,n-e.l,r);s[3]=Xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function f2e(e,t,r){var n=e.l+t,a=xl(e);a.r=r["!row"];var i=rs(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=X5(e,n-e.l,r);s[3]=Xi(o,null,a,r.supbooks,r)}else e.l=n;return s}var d2e=R0,h2e=Sg;function p2e(e,t){return t==null&&(t=ze(4)),t.write_shift(4,e),t}function m2e(e,t){var r=e.l+t,n=R0(e),a=rT(e),i=rs(e),s=rs(e),o=rs(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function g2e(e,t){var r=ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Sg({s:Jn(e[0]),e:Jn(e[0])},r),nT("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ai(a||"",r),ai(e[1].Tooltip||"",r),ai("",r),r.slice(0,r.l)}function v2e(){}function x2e(e,t,r){var n=e.l+t,a=cW(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=z1e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function y2e(e,t,r){var n=e.l+t,a=R0(e),i=[a];if(r.cellFormula){var s=W1e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function w2e(e,t,r){r==null&&(r=ze(18));var n=Z5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var hV=["left","right","top","bottom","header","footer"];function b2e(e){var t={};return hV.forEach(function(r){t[r]=es(e)}),t}function _2e(e,t){return t==null&&(t=ze(6*8)),Xh(e),hV.forEach(function(r){w0(e[r],t)}),t}function S2e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function j2e(e,t,r){r==null&&(r=ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function N2e(e){var t=ze(24);return t.write_shift(4,4),t.write_shift(4,1),Sg(e,t),t}function k2e(e,t){return t==null&&(t=ze(16*4+2)),t.write_shift(2,e.password?uT(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function A2e(){}function E2e(){}function C2e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,p,g,m,v,x,y,b,j,k,O=[];o.biff=12,o["!row"]=0;var N=0,E=!1,D=[],M={},C=o.supbooks||a.supbooks||[[]];if(C.sharedf=M,C.arrayf=D,C.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=C,a.Names))for(var P=0;P<a.Names.length;++P)C[0][P+1]=a.Names[P];var R=[],U=[],ee=!1;g1[16]={n:"BrtShortReal",f:dV};var J;if(ff(e,function(W,fe,Se){if(!h)switch(Se){case 148:u=W;break;case 0:p=W,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),j=Sa(v=p.r),o["!row"]=p.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Qm(W.hpt)),U[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:W[2]},W[2]){case"n":g.v=W[1];break;case"s":b=px[W[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!W[1];break;case"e":g.v=W[1],o.cellText!==!1&&(g.w=df[g.v]);break;case"str":g.t="s",g.v=W[1];break;case"is":g.t="s",g.v=W[1].t;break}if((m=s.CellXf[W[0].iStyleRef])&&cV(g,m.numFmtId,null,o,i,s),x=W[0].c==-1?x+1:W[0].c,o.dense?(c[v]||(c[v]=[]),c[v][x]=g):c[Zn(x)+j]=g,o.cellFormula){for(E=!1,N=0;N<D.length;++N){var T=D[N];p.r>=T[0].s.r&&p.r<=T[0].e.r&&x>=T[0].s.c&&x<=T[0].e.c&&(g.F=gr(T[0]),E=!0)}!E&&W.length>3&&(g.f=W[3])}if(f.s.r>p.r&&(f.s.r=p.r),f.s.c>x&&(f.s.c=x),f.e.r<p.r&&(f.e.r=p.r),f.e.c<x&&(f.e.c=x),o.cellDates&&m&&g.t=="n"&&wg(rr[m.numFmtId])){var L=Ph(g.v);L&&(g.t="d",g.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}J&&(J.type=="XLDAPR"&&(g.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},x=W[0].c==-1?x+1:W[0].c,o.dense?(c[v]||(c[v]=[]),c[v][x]=g):c[Zn(x)+j]=g,f.s.r>p.r&&(f.s.r=p.r),f.s.c>x&&(f.s.c=x),f.e.r<p.r&&(f.e.r=p.r),f.e.c<x&&(f.e.c=x),J&&(J.type=="XLDAPR"&&(g.D=!0),J=void 0);break;case 176:O.push(W);break;case 49:J=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var B=n["!id"][W.relId];for(B?(W.Target=B.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=B):W.relId==""&&(W.Target="#"+W.loc),v=W.rfx.s.r;v<=W.rfx.e.r;++v)for(x=W.rfx.s.c;x<=W.rfx.e.c;++x)o.dense?(c[v]||(c[v]=[]),c[v][x]||(c[v][x]={t:"z",v:void 0}),c[v][x].l=W):(y=ar({c:x,r:v}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=W);break;case 426:if(!o.cellFormula)break;D.push(W),k=o.dense?c[v][x]:c[Zn(x)+j],k.f=Xi(W[1],f,{r:p.r,c:x},C,o),k.F=gr(W[0]);break;case 427:if(!o.cellFormula)break;M[ar(W[0].s)]=W[1],k=o.dense?c[v][x]:c[Zn(x)+j],k.f=Xi(W[1],f,{r:p.r,c:x},C,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)R[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},ee||(ee=!0,fT(W.w/256)),Rd(R[W.e+1]);break;case 161:c["!autofilter"]={ref:gr(W)};break;case 476:c["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(c["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!fe.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+Se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(f.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=gr(u||f)),o.sheetRows&&c["!ref"]){var ae=Kr(c["!ref"]);o.sheetRows<=+ae.e.r&&(ae.e.r=o.sheetRows-1,ae.e.r>f.e.r&&(ae.e.r=f.e.r),ae.e.r<ae.s.r&&(ae.s.r=ae.e.r),ae.e.c>f.e.c&&(ae.e.c=f.e.c),ae.e.c<ae.s.c&&(ae.s.c=ae.e.c),c["!fullref"]=c["!ref"],c["!ref"]=gr(ae))}return O.length>0&&(c["!merges"]=O),R.length>0&&(c["!cols"]=R),U.length>0&&(c["!rows"]=U),c}function T2e(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Wn(t),t.z=t.z||rr[14],t.v=Ga(qn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Qd(a.cellXfs,t,a),t.l&&i["!links"].push([ar(c),t.l]),t.c&&i["!comments"].push([ar(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=gT(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?rt(e,18,Yye(t,c)):rt(e,7,Gye(t,c))):(c.t="str",s?rt(e,17,o2e(t,c)):rt(e,6,i2e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?rt(e,13,r2e(t,c)):rt(e,2,e2e(t,c)):s?rt(e,16,Jye(t,c)):rt(e,5,Zye(t,c)),!0;case"b":return c.t="b",s?rt(e,15,$ye(t,c)):rt(e,4,Bye(t,c)),!0;case"e":return c.t="e",s?rt(e,14,Vye(t,c)):rt(e,3,qye(t,c)),!0}return s?rt(e,12,Rye(t,c)):rt(e,1,Lye(t,c)),!0}function P2e(e,t,r,n){var a=Kr(t["!ref"]||"A1"),i,s="",o=[];rt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){s=Sa(f),Eye(e,t,a,f);var d=!1;if(f<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(o[h]=Zn(h)),i=o[h]+s;var p=c?(t[f]||[])[h]:t[i];if(!p){d=!1;continue}d=T2e(e,p,f,h,n,t,d)}}rt(e,146)}function O2e(e,t){!t||!t["!merges"]||(rt(e,177,p2e(t["!merges"].length)),t["!merges"].forEach(function(r){rt(e,176,h2e(r))}),rt(e,178))}function F2e(e,t){!t||!t["!cols"]||(rt(e,390),t["!cols"].forEach(function(r,n){r&&rt(e,60,w2e(n,r))}),rt(e,391))}function D2e(e,t){!t||!t["!ref"]||(rt(e,648),rt(e,649,N2e(Kr(t["!ref"]))),rt(e,650))}function L2e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=un(r,-1,n[1].Target.replace(/#.*$/,""),Pr.HLINK);rt(e,494,g2e(n,a))}}),delete t["!links"]}function I2e(e,t,r,n){if(t["!comments"].length>0){var a=un(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Pr.VML);rt(e,551,nT("rId"+a)),t["!legacy"]=a}}function R2e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:gr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ys(i);o.s.r==o.e.r&&(o.e.r=Ys(t["!ref"]).e.r,i=gr(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),rt(e,161,Sg(Kr(i))),rt(e,162)}}function M2e(e,t,r){rt(e,133),rt(e,137,j2e(t,r)),rt(e,138),rt(e,134)}function B2e(e,t){t["!protect"]&&rt(e,535,k2e(t["!protect"]))}function U2e(e,t,r,n){var a=Ks(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Kr(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],rt(a,129),(r.vbaraw||s["!outline"])&&rt(a,147,Fye(o,s["!outline"])),rt(a,148,Tye(c)),M2e(a,s,r.Workbook),F2e(a,s),P2e(a,s,e,t),B2e(a,s),R2e(a,s,r,e),O2e(a,s),L2e(a,s,n),s["!margins"]&&rt(a,476,_2e(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&D2e(a,s),I2e(a,s,e,n),rt(a,130),a.end()}function $2e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Gr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function z2e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=$2e(d);f.s.r=f.s.c=0,f.e.c=o,u=Zn(o),h[0].forEach(function(p,g){s[u+Sa(g)]={t:"n",v:p,z:h[1]},c=g}),f.e.r<c&&(f.e.r=c),++o}),o>0&&(s["!ref"]=gr(f)),s}function q2e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(uV);return o&&vT(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function W2e(e,t){e.l+=10;var r=rs(e);return{name:r}}function V2e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ff(e,function(c,u,f){switch(f){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var xT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],H2e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],G2e=[],K2e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function kD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Dn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function AD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Dn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function pV(e){AD(e.WBProps,xT),AD(e.CalcPr,K2e),kD(e.WBView,H2e),kD(e.Sheets,G2e),mm.date1904=Dn(e.WBProps.date1904)}function Y2e(e){return!e.Workbook||!e.Workbook.WBProps?"false":Dn(e.Workbook.WBProps.date1904)?"true":"false"}var X2e="][*?/\\".split("");function mV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return X2e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Z2e(e,t,r){e.forEach(function(n,a){mV(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function J2e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Z2e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Y1e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Q2e=/<\w+:workbook/;function ewe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(os,function(c,u){var f=sr(c);switch(au(f[0])){case"<?xml":break;case"<workbook":c.match(Q2e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=f[a];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":xT.forEach(function(d){if(f[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=Dn(f[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(f[d[0]],10);break;default:r.WBProps[d[0]]=f[d[0]]}}),f.codeName&&(r.WBProps.CodeName=xn(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=Gr(xn(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=xn(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),Dn(f.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=Gr(xn(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return c}),F0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return pV(r),r}function gV(e){var t=[Na];t[t.length]=_t("workbook",null,{xmlns:F0[0],"xmlns:r":za.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(xT.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=_t("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:dn(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=_t("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=_t("definedName",dn(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function twe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=_A(e),r.name=rs(e),r}function rwe(e,t){return t||(t=ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),nT(e.strRelID,t),ai(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function nwe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?rs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function awe(e,t){t||(t=ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),oW(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function iwe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function swe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=I0e(e),s=q1e(e,0,r),o=rT(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function owe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],g1[16]={n:"BrtFRTArchID$",f:iwe},ff(e,function(c,u,f){switch(f){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Xi(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([f,c]):s[0]=[f,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(f),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(f),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},t),pV(r),r.Names=i,r.supbooks=s,r}function lwe(e,t){rt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};rt(e,156,rwe(a))}rt(e,144)}function cwe(e,t){t||(t=ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ai("SheetJS",t),ai(zb.version,t),ai(zb.version,t),ai("7262",t),t.length>t.l?t.slice(0,t.l):t}function uwe(e,t){t||(t=ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function fwe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(rt(e,135),rt(e,158,uwe(a)),rt(e,136))}}function dwe(e,t){var r=Ks();return rt(r,131),rt(r,128,cwe()),rt(r,153,awe(e.Workbook&&e.Workbook.WBProps||null)),fwe(r,e),lwe(r,e),rt(r,132),r.end()}function hwe(e,t,r){return t.slice(-4)===".bin"?owe(e,r):ewe(e,r)}function pwe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?C2e(e,n,r,a,i,s,o):sye(e,n,r,a,i,s,o)}function mwe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?V2e(e,n,r,a,i):q2e(e,n,r,a,i)}function gwe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?xxe():yxe()}function vwe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?gxe():vxe()}function xwe(e,t,r,n){return t.slice(-4)===".bin"?hve(e,r,n):tve(e,r,n)}function ywe(e,t,r){return XW(e,r)}function wwe(e,t,r){return t.slice(-4)===".bin"?wge(e,r):vge(e,r)}function bwe(e,t,r){return t.slice(-4)===".bin"?fxe(e,r):rxe(e,r)}function _we(e,t,r){return t.slice(-4)===".bin"?Qve(e):Zve(e)}function Swe(e,t,r,n){return r.slice(-4)===".bin"?exe(e,t,r,n):void 0}function jwe(e,t,r){return t.slice(-4)===".bin"?Kve(e,t,r):Xve(e,t,r)}function Nwe(e,t,r){return(t.slice(-4)===".bin"?dwe:gV)(e)}function kwe(e,t,r,n,a){return(t.slice(-4)===".bin"?U2e:fV)(e,r,n,a)}function Awe(e,t,r){return(t.slice(-4)===".bin"?Sve:KW)(e,r)}function Ewe(e,t,r){return(t.slice(-4)===".bin"?Sge:UW)(e,r)}function Cwe(e,t,r){return(t.slice(-4)===".bin"?dxe:QW)(e)}function Twe(e){return(e.slice(-4)===".bin"?Yve:ZW)()}var vV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,xV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vV),i,s,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(xV),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Pwe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vV),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(xV),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var gx;function Owe(e,t){var r=gx[e]||Gr(e);return r==="General"?x0(t):hl(r,t)}function Fwe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Dn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=qn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gr(t)]=a}function Dwe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||df[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=o1(e.v):e.w=x0(e.v):e.w=Owe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=gx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&wg(n)){var a=Ph(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Lwe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Gge[n.Pattern]||n.Pattern)}e[t.ID]=t}function Iwe(e,t,r,n,a,i,s,o,c,u){var f="General",d=n.StyleID,h={};u=u||{};var p=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);i[d]!==void 0&&(i[d].nf&&(f=i[d].nf),i[d].Interior&&p.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dn(e);break;case"String":n.t="s",n.r=WF(Gr(e)),n.v=e.indexOf("<")>-1?Gr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(qn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Gr(e):n.v<60&&(n.v=n.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=dW[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=WF(t||e));break}if(Dwe(n,f,u),u.cellFormula!==!1)if(n.Formula){var m=Gr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=pm(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=pm("RC:RC",a):n.ArrayRange&&(n.F=pm(n.ArrayRange,a),c.push([Kr(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Rwe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function z4(e,t){var r=t||{};bg();var n=$v(XC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=xn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Wn(r);return s.type="string",Jm.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(yt){a.indexOf("<"+yt)>=0&&(i=!0)}),i)return _be(n,r);gx={"General Number":"General","General Date":rr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":rr[15],"Short Date":rr[14],"Long Time":rr[19],"Medium Time":rr[18],"Short Time":rr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:rr[2],Standard:rr[4],Percent:rr[10],Scientific:rr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,f={},d=[],h=r.dense?[]:{},p="",g={},m={},v=Pl('<Data ss:Type="String">'),x=0,y=0,b=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},O={},N="",E=0,D=[],M={},C={},P=0,R=[],U=[],ee={},J=[],ae,X=!1,W=[],fe=[],Se={},T=0,L=0,B={Sheets:[],WBProps:{date1904:!1}},z={};u1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=u1.exec(n);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Iwe(n.slice(x,o.index),N,v,c[c.length-1][0]=="comment"?ee:g,{c:y,r:b},k,J[y],m,W,r):(N="",v=Pl(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=g):h[Zn(y)+Sa(b)]=g),g.HRef&&(g.l={Target:Gr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(T=y+(parseInt(g.MergeAcross,10)|0),L=b+(parseInt(g.MergeDown,10)|0),D.push({s:{c:y,r:b},e:{c:T,r:L}})),!r.sheetStubs)g.MergeAcross?y=T+1:++y;else if(g.MergeAcross||g.MergeDown){for(var ie=y;ie<=T;++ie)for(var pe=b;pe<=L;++pe)(ie>y||pe>b)&&(r.dense?(h[pe]||(h[pe]=[]),h[pe][ie]={t:"z"}):h[Zn(ie)+Sa(pe)]={t:"z"});y=T+1}else++y;else g=Pwe(o[0]),g.Index&&(y=+g.Index-1),y<j.s.c&&(j.s.c=y),y>j.e.c&&(j.e.c=y),o[0].slice(-2)==="/>"&&++y,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<j.s.r&&(j.s.r=b),b>j.e.r&&(j.e.r=b),o[0].slice(-2)==="/>"&&(m=Pl(o[0]),m.Index&&(b=+m.Index-1)),y=0,++b):(m=Pl(o[0]),m.Index&&(b=+m.Index-1),Se={},(m.AutoFitHeight=="0"||m.Height)&&(Se.hpx=parseInt(m.Height,10),Se.hpt=m1(Se.hpx),fe[b]=Se),m.Hidden=="1"&&(Se.hidden=!0,fe[b]=Se));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));d.push(p),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=gr(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=gr(j))),D.length&&(h["!merges"]=D),J.length>0&&(h["!cols"]=J),fe.length>0&&(h["!rows"]=fe),f[p]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([o[3],!1]),u=Pl(o[0]),p=Gr(u.Name),h=r.dense?[]:{},D=[],W=[],fe=[],z={name:p,Hidden:0},B.Sheets.push(z);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),J=[],X=!1}break;case"style":o[1]==="/"?Lwe(k,O,r):O=Pl(o[0]);break;case"numberformat":O.nf=Gr(Pl(o[0]).Format||"General"),gx[O.nf]&&(O.nf=gx[O.nf]);for(var Q=0;Q!=392&&rr[Q]!=O.nf;++Q);if(Q==392){for(Q=57;Q!=392;++Q)if(rr[Q]==null){qu(O.nf,Q);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ae=Pl(o[0]),ae.Hidden&&(ae.hidden=!0,delete ae.Hidden),ae.Width&&(ae.wpx=parseInt(ae.Width,10)),!X&&ae.wpx>10){X=!0,Ji=HW;for(var ge=0;ge<J.length;++ge)J[ge]&&Rd(J[ge])}X&&Rd(ae),J[ae.Index-1||J.length]=ae;for(var _e=0;_e<+ae.Span;++_e)J[J.length]=Wn(ae);break;case"namedrange":if(o[1]==="/")break;B.Names||(B.Names=[]);var q=sr(o[0]),Be={Name:q.Name,Ref:pm(q.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Be.Sheet=B.Sheets.length-1),B.Names.push(Be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=Pl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?ope(M,te,n.slice(P,o.index)):P=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Rwe(ee),U.push(ee)}else c.push([o[3],!1]),u=Pl(o[0]),ee={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var We=Pl(o[0]);h["!autofilter"]={ref:pm(We.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return OD(n,r);var Ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(o[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(P,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else P=o.index+o[0].length;break;case"header":h["!margins"]||Xh(h["!margins"]={},"xlml"),isNaN(+sr(o[0]).Margin)||(h["!margins"].header=+sr(o[0]).Margin);break;case"footer":h["!margins"]||Xh(h["!margins"]={},"xlml"),isNaN(+sr(o[0]).Margin)||(h["!margins"].footer=+sr(o[0]).Margin);break;case"pagemargins":var se=sr(o[0]);h["!margins"]||Xh(h["!margins"]={},"xlml"),isNaN(+se.Top)||(h["!margins"].top=+se.Top),isNaN(+se.Left)||(h["!margins"].left=+se.Left),isNaN(+se.Right)||(h["!margins"].right=+se.Right),isNaN(+se.Bottom)||(h["!margins"].bottom=+se.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Fwe(C,te,R,n.slice(P,o.index)):(R=o,P=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Ie={};return!r.bookSheets&&!r.bookProps&&(Ie.Sheets=f),Ie.SheetNames=d,Ie.Workbook=B,Ie.SSF=Wn(rr),Ie.Props=M,Ie.Custprops=C,Ie}function CA(e,t){switch(wT(t=t||{}),t.type||"base64"){case"base64":return z4(Po(e),t);case"binary":case"buffer":case"file":return z4(e,t);case"array":return z4(Zd(e),t)}}function Mwe(e,t){var r=[];return e.Props&&r.push(lpe(e.Props,t)),e.Custprops&&r.push(cpe(e.Props,e.Custprops)),r.join("")}function Bwe(){return""}function Uwe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(_t("NumberFormat",null,{"ss:Format":dn(rr[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(_t("Style",i.join(""),s))}),_t("Styles",r.join(""))}function yV(e){return _t("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+pT(e.Ref,{r:0,c:0})})}function $we(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(yV(a)))}return _t("Names",r.join(""))}function zwe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(yV(o)))}return i.join("")}function qwe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(_t("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(_t("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(_t("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(_t("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ei("ProtectContents","True")),e["!protect"].objects&&a.push(Ei("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ei("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ei("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ei("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":_t("WorksheetOptions",a.join(""),{xmlns:go.x})}function Wwe(e){return e.map(function(t){var r=f0e(t.t||""),n=_t("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",n,{"ss:Author":t.a})}).join("")}function Vwe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+dn(pT(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Jn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=dn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=dn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=s.c||u[f].s.r!=s.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=df[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||rr[14]);break;case"s":d="String",h=u0e(e.v||"");break}var p=Qd(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=Wwe(e.c)),_t("Cell",m,o)}function Hwe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Qm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Gwe(e,t,r,n){if(!e["!ref"])return"";var a=Kr(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,x){Rd(v);var y=!!v.width,b=Z5(x,v),j={"ss:Index":x+1};y&&(j["ss:Width"]=h1(b.width)),v.hidden&&(j["ss:Hidden"]="1"),o.push(_t("Column",null,j))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[Hwe(u,(e["!rows"]||[])[u])],d=a.s.c;d<=a.e.c;++d){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>d)&&!(i[s].s.r>u)&&!(i[s].e.c<d)&&!(i[s].e.r<u)){(i[s].s.c!=d||i[s].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:d},g=ar(p),m=c?(e[u]||[])[d]:e[g];f.push(Vwe(m,g,e,t,r,n,p))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function Kwe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?zwe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Gwe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(qwe(i,t,e,r)),n.join("")}function Ywe(e,t){t||(t={}),e.SSF||(e.SSF=Wn(rr)),e.SSF&&(bg(),W5(e.SSF),t.revssf=H5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Qd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Mwe(e,t)),r.push(Bwe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(_t("Worksheet",Kwe(n,t,e),{"ss:Name":dn(e.SheetNames[n])}));return r[2]=Uwe(e,t),r[3]=$we(e),Na+_t("Workbook",r.join(""),{xmlns:go.ss,"xmlns:o":go.o,"xmlns:x":go.x,"xmlns:ss":go.ss,"xmlns:dt":go.dt,"xmlns:html":go.html})}function Xwe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=$0e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=z0e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Zwe=[60,1084,2066,2165,2175];function Jwe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var c=Iu(r,r.l),u=TA[c],f=0;u!=null&&Zwe.indexOf(c)>-1;)i=Iu(r,r.l+2),f=r.l+4,c==2066?f+=4:(c==2165||c==2175)&&(f+=12),o=r.slice(f,r.l+4+i),s.push(o),r.l+=4+i,u=TA[c=Iu(r,r.l)];var d=ni(s);Ni(d,0);var h=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(h),h+=s[p].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function Nc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=rr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||df[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=o1(e.v):e.w=x0(e.v):e.w=hl(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&wg(rr[n]||String(n))){var a=Ph(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function X2(e,t,r){return{v:e,ixfe:t,t:r}}function Qwe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,c=[],u="",f={},d,h="",p,g,m,v,x={},y=[],b,j,k=[],O=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},D=function(dt){return dt<8?Gh[dt]:dt<64&&O[dt-8]||Gh[dt]},M=function(dt,et,en){var Vt=et.XF.data;if(!(!Vt||!Vt.patternType||!en||!en.cellStyles)){et.s={},et.s.patternType=Vt.patternType;var Gn;(Gn=d1(D(Vt.icvFore)))&&(et.s.fgColor={rgb:Gn}),(Gn=d1(D(Vt.icvBack)))&&(et.s.bgColor={rgb:Gn})}},C=function(dt,et,en){if(!(Se>1)&&!(en.sheetRows&&dt.r>=en.sheetRows)){if(en.cellStyles&&et.XF&&et.XF.data&&M(dt,et,en),delete et.ixfe,delete et.XF,d=dt,h=ar(dt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<s.s.r&&(s.s.r=dt.r),dt.c<s.s.c&&(s.s.c=dt.c),dt.r+1>s.e.r&&(s.e.r=dt.r+1),dt.c+1>s.e.c&&(s.e.c=dt.c+1),en.cellFormula&&et.f){for(var Vt=0;Vt<y.length;++Vt)if(!(y[Vt][0].s.c>dt.c||y[Vt][0].s.r>dt.r)&&!(y[Vt][0].e.c<dt.c||y[Vt][0].e.r<dt.r)){et.F=gr(y[Vt][0]),(y[Vt][0].s.c!=dt.c||y[Vt][0].s.r!=dt.r)&&delete et.f,et.f&&(et.f=""+Xi(y[Vt][1],s,dt,W,P));break}}en.dense?(a[dt.r]||(a[dt.r]=[]),a[dt.r][dt.c]=et):a[h]=et}},P={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var R,U=[],ee=[],J=[],ae=[],X=!1,W=[];W.SheetNames=P.snames,W.sharedf=P.sharedf,W.arrayf=P.arrayf,W.names=[],W.XTI=[];var fe=0,Se=0,T=0,L=[],B=[],z;P.codepage=1200,Zl(1200);for(var te=!1;e.l<e.length-1;){var ie=e.l,pe=e.read_shift(2);if(pe===0&&fe===10)break;var Q=e.l===e.length?0:e.read_shift(2),ge=TA[pe];if(ge&&ge.f){if(t.bookSheets&&fe===133&&pe!==133)break;if(fe=pe,ge.r===2||ge.r==12){var _e=e.read_shift(2);if(Q-=2,!P.enc&&_e!==pe&&((_e&255)<<8|_e>>8)!==pe)throw new Error("rt mismatch: "+_e+"!="+pe);ge.r==12&&(e.l+=10,Q-=10)}var q={};if(pe===10?q=ge.f(e,Q,P):q=Jwe(pe,ge,e,Q,P),Se==0&&[9,521,1033,2057].indexOf(fe)===-1)continue;switch(pe){case 34:r.opts.Date1904=N.WBProps.date1904=q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=q,!t.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=q;break;case 66:var Be=Number(q);switch(Be){case 21010:Be=1200;break;case 32768:Be=1e4;break;case 32769:Be=1252;break}Zl(P.codepage=Be),te=!0;break;case 317:P.rrtabid=q;break;case 25:P.winlocked=q;break;case 439:r.opts.RefreshAll=q;break;case 12:r.opts.CalcCount=q;break;case 16:r.opts.CalcDelta=q;break;case 17:r.opts.CalcIter=q;break;case 13:r.opts.CalcMode=q;break;case 14:r.opts.CalcPrecision=q;break;case 95:r.opts.CalcSaveRecalc=q;break;case 15:P.CalcRefMode=q;break;case 2211:r.opts.FullCalc=q;break;case 129:q.fDialog&&(a["!type"]="dialog"),q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(q);break;case 430:W.push([q]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(q);break;case 24:case 536:z={Name:q.Name,Ref:Xi(q.rgce,s,null,W,P)},q.itab>0&&(z.Sheet=q.itab-1),W.names.push(z),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(B[q.itab-1]={ref:gr(q.rgce[0][0][1][2])});break;case 22:P.ExternCount=q;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(q),W.XTI=W.XTI.concat(q);break;case 2196:if(P.biff<8)break;z!=null&&(z.Comment=q[1]);break;case 18:a["!protect"]=q;break;case 19:q!==0&&P.WTF&&console.error("Password verifier: "+q);break;case 133:i[q.pos]=q,P.snames.push(q.name);break;case 10:{if(--Se)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=gr(s),t.sheetRows&&t.sheetRows<=s.e.r){var We=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=gr(s),s.e.r=We}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),ee.length>0&&(a["!objects"]=ee),J.length>0&&(a["!cols"]=J),ae.length>0&&(a["!rows"]=ae),N.Sheets.push(E)}u===""?f=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),P.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(P.biff=5,te=!0,Zl(P.codepage=28591)),P.biff==8&&q.BIFFVer==0&&q.dt==16&&(P.biff=2),Se++)break;if(a=t.dense?[]:{},P.biff<8&&!te&&(te=!0,Zl(P.codepage=t.codepage||1252)),P.biff<5||q.BIFFVer==0&&q.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:e.l-Q,name:u};i[Ae.pos]=Ae,P.snames.push(u)}else u=(i[ie]||{name:""}).name;q.dt==32&&(a["!type"]="chart"),q.dt==64&&(a["!type"]="macro"),U=[],ee=[],P.arrayf=y=[],J=[],ae=[],X=!1,E={Hidden:(i[ie]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[q.r]||[])[q.c]:a[ar({c:q.c,r:q.r})])&&++q.c,b={ixfe:q.ixfe,XF:k[q.ixfe]||{},v:q.val,t:"n"},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t);break;case 5:case 517:b={ixfe:q.ixfe,XF:k[q.ixfe],v:q.val,t:q.t},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t);break;case 638:b={ixfe:q.ixfe,XF:k[q.ixfe],v:q.rknum,t:"n"},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t);break;case 189:for(var se=q.c;se<=q.C;++se){var Ie=q.rkrec[se-q.c][0];b={ixfe:Ie,XF:k[Ie],v:q.rkrec[se-q.c][1],t:"n"},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:se,r:q.r},b,t)}break;case 6:case 518:case 1030:{if(q.val=="String"){o=q;break}if(b=X2(q.val,q.cell.ixfe,q.tt),b.XF=k[b.ixfe],t.cellFormula){var yt=q.formula;if(yt&&yt[0]&&yt[0][0]&&yt[0][0][0]=="PtgExp"){var Je=yt[0][0][1][0],gt=yt[0][0][1][1],wt=ar({r:Je,c:gt});x[wt]?b.f=""+Xi(q.formula,s,q.cell,W,P):b.F=((t.dense?(a[Je]||[])[gt]:a[wt])||{}).F}else b.f=""+Xi(q.formula,s,q.cell,W,P)}T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C(q.cell,b,t),o=q}break;case 7:case 519:if(o)o.val=q,b=X2(q,o.cell.ixfe,"s"),b.XF=k[b.ixfe],t.cellFormula&&(b.f=""+Xi(o.formula,s,o.cell,W,P)),T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(q);var le=ar(q[0].s);if(p=t.dense?(a[q[0].s.r]||[])[q[0].s.c]:a[le],t.cellFormula&&p){if(!o||!le||!p)break;p.f=""+Xi(q[1],s,q[0],W,P),p.F=gr(q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[ar(o.cell)]=q[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[ar(o.cell)],(p||{}).f=""+Xi(q[0],s,d,W,P)}}break;case 253:b=X2(c[q.isst].t,q.ixfe,"s"),c[q.isst].h&&(b.h=c[q.isst].h),b.XF=k[b.ixfe],T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:q.ixfe,XF:k[q.ixfe],t:"z"},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t));break;case 190:if(t.sheetStubs)for(var ve=q.c;ve<=q.C;++ve){var ke=q.ixfe[ve-q.c];b={ixfe:ke,XF:k[ke],t:"z"},T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:ve,r:q.r},b,t)}break;case 214:case 516:case 4:b=X2(q.val,q.ixfe,"s"),b.XF=k[b.ixfe],T>0&&(b.z=L[b.ixfe>>8&63]),Nc(b,t,r.opts.Date1904),C({c:q.c,r:q.r},b,t);break;case 0:case 512:Se===1&&(s=q);break;case 252:c=q;break;case 1054:if(P.biff==4){L[T++]=q[1];for(var Ge=0;Ge<T+163&&rr[Ge]!=q[1];++Ge);Ge>=163&&qu(q[1],T+163)}else qu(q[1],q[0]);break;case 30:{L[T++]=q;for(var He=0;He<T+163&&rr[He]!=q;++He);He>=163&&qu(q,T+163)}break;case 229:U=U.concat(q);break;case 93:ee[q.cmo[0]]=P.lastobj=q;break;case 438:P.lastobj.TxO=q;break;case 127:P.lastobj.ImData=q;break;case 440:for(v=q[0].s.r;v<=q[0].e.r;++v)for(m=q[0].s.c;m<=q[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[ar({c:m,r:v})],p&&(p.l=q[1]);break;case 2048:for(v=q[0].s.r;v<=q[0].e.r;++v)for(m=q[0].s.c;m<=q[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[ar({c:m,r:v})],p&&p.l&&(p.l.Tooltip=q[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;p=t.dense?(a[q[0].r]||[])[q[0].c]:a[ar(q[0])];var qe=ee[q[2]];p||(t.dense?(a[q[0].r]||(a[q[0].r]=[]),p=a[q[0].r][q[0].c]={t:"z"}):p=a[ar(q[0])]={t:"z"},s.e.r=Math.max(s.e.r,q[0].r),s.s.r=Math.min(s.s.r,q[0].r),s.e.c=Math.max(s.e.c,q[0].c),s.s.c=Math.min(s.s.c,q[0].c)),p.c||(p.c=[]),g={a:q[1],t:qe.TxO.t},p.c.push(g)}break;case 2173:Uve(k[q.ixfe],q.ext);break;case 125:{if(!P.cellStyles)break;for(;q.e>=q.s;)J[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},X||(X=!0,fT(q.w/256)),Rd(J[q.e+1])}break;case 520:{var tt={};q.level!=null&&(ae[q.r]=tt,tt.level=q.level),q.hidden&&(ae[q.r]=tt,tt.hidden=!0),q.hpt&&(ae[q.r]=tt,tt.hpt=q.hpt,tt.hpx=Qm(q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Xh(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=q;break;case 161:a["!margins"]||Xh(a["!margins"]={}),a["!margins"].header=q.header,a["!margins"].footer=q.footer;break;case 574:q.RTL&&(N.Views[0].RTL=!0);break;case 146:O=q;break;case 2198:R=q;break;case 140:j=q;break;case 442:u?E.CodeName=q||E.name:N.WBProps.CodeName=q||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=Q}return r.SheetNames=fa(i).sort(function(vt,dt){return Number(vt)-Number(dt)}).map(function(vt){return i[vt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&B.forEach(function(vt,dt){r.Sheets[r.SheetNames[dt]]["!autofilter"]=vt}),r.Strings=c,r.SSF=Wn(rr),P.enc&&(r.Encryption=P.enc),R&&(r.Themes=R),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),W.names.length>0&&(N.Names=W.names),r.Workbook=N,r}var vx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ebe(e,t,r){var n=Gt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=lD(n,SA,vx.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=Gt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=lD(s,jA,vx.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(xW(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function tbe(e,t){var r=[],n=[],a=[],i=0,s,o=MF(SA,"n"),c=MF(jA,"n");if(e.Props)for(s=fa(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=fa(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)NW.indexOf(a[i][0])>-1||vW.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Gt.utils.cfb_add(t,"/SummaryInformation",cD(n,vx.SI,c,jA)),(r.length||u.length)&&Gt.utils.cfb_add(t,"/DocumentSummaryInformation",cD(r,vx.DSI,o,SA,u.length?u:null,vx.UDI))}function wV(e,t){t||(t={}),wT(t),$C(),t.codepage&&UC(t.codepage);var r,n;if(e.FullPaths){if(Gt.find(e,"/encryption"))throw new Error("File is password-protected");r=Gt.find(e,"!CompObj"),n=Gt.find(e,"/Workbook")||Gt.find(e,"/Book")}else{switch(t.type){case"base64":e=yo(Po(e));break;case"binary":e=yo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ni(e,0),n={content:e}}var a,i;if(r&&Xwe(r),t.bookProps&&!t.bookSheets)a={};else{var s=jr?"buffer":"array";if(n&&n.content)a=Qwe(n.content,t);else if((i=Gt.find(e,"PerfectOffice_MAIN"))&&i.content)a=Yh.to_workbook(i.content,(t.type=s,t));else if((i=Gt.find(e,"NativeContent_MAIN"))&&i.content)a=Yh.to_workbook(i.content,(t.type=s,t));else throw(i=Gt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Gt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=pxe(e))}var o={};return e.FullPaths&&ebe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function rbe(e,t){var r=t||{},n=Gt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,a,bV(e,r)),r.biff==8&&(e.Props||e.Custprops)&&tbe(e,n),r.biff==8&&e.vbaraw&&mxe(n,Gt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var g1={0:{f:kye},1:{f:Dye},2:{f:Qye},3:{f:zye},4:{f:Mye},5:{f:Xye},6:{f:a2e},7:{f:Hye},8:{f:f2e},9:{f:u2e},10:{f:l2e},11:{f:c2e},12:{f:Iye},13:{f:t2e},14:{f:Wye},15:{f:Uye},16:{f:dV},17:{f:s2e},18:{f:Kye},19:{f:tT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:swe},40:{},42:{},43:{f:ave},44:{f:rve},45:{f:ove},46:{f:cve},47:{f:lve},48:{},49:{f:C0e},50:{},51:{f:qve},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IW},62:{f:n2e},63:{f:Jve},64:{f:A2e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ss,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:S2e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Oye},148:{f:Cye,p:16},151:{f:v2e},152:{},153:{f:nwe},154:{},155:{},156:{f:twe},157:{},158:{},159:{T:1,f:yge},160:{T:-1},161:{T:1,f:R0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:d2e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$ve},336:{T:-1},337:{f:Hve,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_A},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:x2e},427:{f:y2e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:b2e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Pye},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:m2e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_A},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cxe},633:{T:1},634:{T:-1},635:{T:1,f:oxe},636:{T:-1},637:{f:F0e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:W2e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:E2e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},TA={6:{f:U4},10:{f:Rf},12:{f:Fa},13:{f:Fa},14:{f:ga},15:{f:ga},16:{f:es},17:{f:ga},18:{f:ga},19:{f:Fa},20:{f:mD},21:{f:mD},23:{f:LW},24:{f:vD},25:{f:ga},26:{},27:{},28:{f:Eme},29:{},34:{f:ga},35:{f:gD},38:{f:es},39:{f:es},40:{f:es},41:{f:es},42:{f:ga},43:{f:ga},47:{f:Uge},49:{f:tme},51:{f:Fa},60:{},61:{f:Xpe},64:{f:ga},65:{f:eme},66:{f:Fa},77:{},80:{},81:{},82:{},85:{f:Fa},89:{},90:{},91:{},92:{f:Bpe},93:{f:Pme},94:{},95:{f:ga},96:{},97:{},99:{f:ga},125:{f:IW},128:{f:gme},129:{f:$pe},130:{f:Fa},131:{f:ga},132:{f:ga},133:{f:zpe},134:{},140:{f:Bme},141:{f:Fa},144:{},146:{f:zme},151:{},152:{},153:{},154:{},155:{},156:{f:Fa},157:{},158:{},160:{f:Yme},161:{f:Vme},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:dme},190:{f:hme},193:{f:Rf},197:{},198:{},199:{},200:{},201:{},202:{f:ga},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Fa},220:{},221:{f:ga},222:{},224:{f:mme},225:{f:Mpe},226:{f:Rf},227:{},229:{f:Cme},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Wpe},253:{f:nme},255:{f:Hpe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:kW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ga},353:{f:Rf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:bme},431:{f:ga},432:{},433:{},434:{},437:{},438:{f:Dme},439:{f:ga},440:{f:Lme},441:{},442:{f:sy},443:{},444:{f:Fa},445:{},446:{},448:{f:Rf},449:{f:Ype,r:2},450:{f:Rf},512:{f:dD},513:{f:Kme},515:{f:yme},516:{f:ime},517:{f:pD},519:{f:Xme},520:{f:Gpe},523:{},545:{f:xD},549:{f:fD},566:{},574:{f:Jpe},638:{f:fme},659:{},1048:{},1054:{f:ome},1084:{},1212:{f:Nme},2048:{f:Rme},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:qme,r:12},2173:{f:Bve,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ga,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:jme,r:12},2197:{},2198:{f:Fve,r:12},2199:{},2200:{},2201:{},2202:{f:kme,r:12},2203:{f:Rf},2204:{},2205:{},2206:{},2207:{},2211:{f:Kpe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Hme},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$me},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dD},1:{},2:{f:tge},3:{f:Qme},4:{f:Jme},5:{f:pD},7:{f:nge},8:{},9:{f:G2},11:{},22:{f:Fa},30:{f:cme},31:{},32:{},33:{f:xD},36:{},37:{f:fD},50:{f:age},62:{},52:{},67:{},68:{f:Fa},69:{},86:{},126:{},127:{f:Zme},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ige},223:{},234:{},354:{},421:{},518:{f:U4},521:{f:G2},536:{f:vD},547:{f:gD},561:{},579:{},1030:{f:U4},1033:{f:G2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function St(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&JC(r)&&e.push(r)}}function nbe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return St(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function uy(e,t,r){return e||(e=ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function abe(e,t,r,n){var a=ze(9);return uy(a,e,t),AW(r,n||"b",a),a}function ibe(e,t,r){var n=ze(8+2*r.length);return uy(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function sbe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ga(qn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?St(e,2,rge(r,n,a)):St(e,3,ege(r,n,a));return;case"b":case"e":St(e,5,abe(r,n,t.v,t.t));return;case"s":case"str":St(e,4,ibe(r,n,(t.v||"").slice(0,255)));return}St(e,1,uy(null,r,n))}function obe(e,t,r,n){var a=Array.isArray(t),i=Kr(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=gr(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Sa(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(c[f]=Zn(f)),s=c[f]+o;var d=a?(t[u]||[])[f]:t[s];d&&sbe(e,d,u,f)}}}function lbe(e,t){for(var r=t||{},n=Ks(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return St(n,r.biff==4?1033:r.biff==3?521:9,lT(e,16,r)),obe(n,e.Sheets[e.SheetNames[a]],a,r),St(n,10),n.end()}function cbe(e,t,r){St(e,49,rme({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function ube(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&St(e,1054,lme(a,t[a],r))})}function fbe(e,t){var r=ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),St(e,2151,r),r=ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),OW(Kr(t["!ref"]||"A1"),r),r.write_shift(4,4),St(e,2152,r)}function dbe(e,t){for(var r=0;r<16;++r)St(e,224,hD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){St(e,224,hD(n,0,t))})}function hbe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];St(e,440,Ime(n)),n[1].Tooltip&&St(e,2048,Mme(n))}delete t["!links"]}function pbe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&St(e,125,Wme(Z5(a,n),a))})}}function mbe(e,t,r,n,a){var i=16+Qd(a.cellXfs,t,a);if(t.v==null&&!t.bf){St(e,513,_0(r,n,i));return}if(t.bf)St(e,6,$1e(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Ga(qn(t.v)):t.v;St(e,515,wme(r,n,s,i));break;case"b":case"e":St(e,517,xme(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=gT(a.Strings,t.v,a.revStrings);St(e,253,ame(r,n,o,i))}else St(e,516,sme(r,n,(t.v||"").slice(0,255),i,a));break;default:St(e,513,_0(r,n,i))}}function gbe(e,t,r){var n=Ks(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,f,d="",h=[],p=Kr(i["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}St(n,2057,lT(r,16,t)),St(n,13,Qo(1)),St(n,12,Qo(100)),St(n,15,vs(!0)),St(n,17,vs(!1)),St(n,16,w0(.001)),St(n,95,vs(!0)),St(n,42,vs(!1)),St(n,43,vs(!1)),St(n,130,Qo(1)),St(n,128,vme()),St(n,131,vs(!1)),St(n,132,vs(!1)),u&&pbe(n,i["!cols"]),St(n,512,ume(p,t)),u&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){d=Sa(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(h[v]=Zn(v)),f=h[v]+d;var x=c?(i[m]||[])[v]:i[f];x&&(mbe(n,x,m,v,t),u&&x.l&&i["!links"].push([f,x.l]))}}var y=o.CodeName||o.name||a;return u&&St(n,574,Qpe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&St(n,229,Tme(i["!merges"])),u&&hbe(n,i),St(n,442,EW(y)),u&&fbe(n,i),St(n,10),n.end()}function vbe(e,t,r){var n=Ks(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(St(n,2057,lT(e,5,r)),r.bookType=="xla"&&St(n,135),St(n,225,o?Qo(1200):null),St(n,193,xpe(2)),c&&St(n,191),c&&St(n,192),St(n,226),St(n,92,Upe("SheetJS",r)),St(n,66,Qo(o?1200:1252)),o&&St(n,353,Qo(0)),o&&St(n,448),St(n,317,Gme(e.SheetNames.length)),o&&e.vbaraw&&St(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";St(n,442,EW(u))}St(n,156,Qo(17)),St(n,25,vs(!1)),St(n,18,vs(!1)),St(n,19,Qo(0)),o&&St(n,431,vs(!1)),o&&St(n,444,Qo(0)),St(n,61,Zpe()),St(n,64,vs(!1)),St(n,141,Qo(0)),St(n,34,vs(Y2e(e)=="true")),St(n,14,vs(!0)),o&&St(n,439,vs(!1)),St(n,218,Qo(0)),cbe(n,e,r),ube(n,e.SSF,r),dbe(n,r),o&&St(n,352,vs(!1));var f=n.end(),d=Ks();o&&St(d,140,Ume()),o&&r.Strings&&nbe(d,252,Vpe(r.Strings)),St(d,10);var h=d.end(),p=Ks(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var v=f.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var x=i[m]||{};St(p,133,qpe({pos:v,hs:x.Hidden||0,dt:0,name:e.SheetNames[m]},r)),v+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var b=[];return f.length&&b.push(f),y.length&&b.push(y),h.length&&b.push(h),ni(b)}function xbe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Wn(rr)),e&&e.SSF&&(bg(),W5(e.SSF),r.revssf=H5(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,bT(r),r.cellXfs=[],Qd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=gbe(a,r,e);return n.unshift(vbe(e,n,r)),ni(n)}function bV(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ys(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return xbe(e,t);case 4:case 3:case 2:return lbe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function ED(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,c=r0e(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,f=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<c.length;++s){var m=c[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}f=0;continue}if(!(v!="<td"&&v!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var y=x[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,j=0;b.charAt(0)=="<"&&(j=b.indexOf(">"))>-1;)b=b.slice(j+1);for(var k=0;k<g.length;++k){var O=g[k];O.s.c==f&&O.s.r<u&&u<=O.e.r&&(f=O.e.c+1,k=-1)}var N=sr(y.slice(0,y.indexOf(">")));h=N.colspan?+N.colspan:1,((d=+N.rowspan)>1||h>1)&&g.push({s:{r:u,c:f},e:{r:u+(d||1)-1,c:f+h-1}});var E=N.t||N["data-t"]||"";if(!b.length){f+=h;continue}if(b=Vq(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!b.length){f+=h;continue}var D={t:"s",v:b};r.raw||!b.trim().length||E=="s"||(b==="TRUE"?D={t:"b",v:!0}:b==="FALSE"?D={t:"b",v:!1}:isNaN(nc(b))?isNaN(Zm(b).getDate())||(D={t:"d",v:qn(b)},r.cellDates||(D={t:"n",v:Ga(D.v)}),D.z=r.dateNF||rr[14]):D={t:"n",v:nc(b)}),r.dense?(n[u]||(n[u]=[]),n[u][f]=D):n[ar({r:u,c:f})]=D,f+=h}}}}return n["!ref"]=gr(p),g.length&&(n["!merges"]=g),n}function ybe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var f=ar({r,c:s}),d=n.dense?(e[r]||[])[s]:e[f],h=d&&d.v!=null&&(d.h||YC(d.w||(rf(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+f,i.push(_t("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var wbe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bbe="</body></html>";function _be(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Jd(ED(r[0],t),t);var n=NT();return r.forEach(function(a,i){kT(n,ED(a,t),"Sheet"+(i+1))}),n}function Sbe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _V(e,t){var r=t||{},n=r.header!=null?r.header:wbe,a=r.footer!=null?r.footer:bbe,i=[n],s=Ys(e["!ref"]);r.dense=Array.isArray(e),i.push(Sbe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(ybe(e,s,o,r));return i.push("</table>"+a),i.join("")}function SV(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Jn(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=Ys(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,x=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<c;++g){var j=o[g];if(CD(j)){if(n.display)continue;p[m]={hidden:!0}}var k=j.children;for(v=x=0;v<k.length;++v){var O=k[v];if(!(n.display&&CD(O))){var N=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Vq(O.innerHTML),E=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<d.length;++h){var D=d[h];D.s.c==x+i&&D.s.r<m+a&&m+a<=D.e.r&&(x=D.e.c+1-i,h=-1)}b=+O.getAttribute("colspan")||1,((y=+O.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:x+i},e:{r:m+a+(y||1)-1,c:x+i+(b||1)-1}});var M={t:"s",v:N},C=O.getAttribute("data-t")||O.getAttribute("t")||"";N!=null&&(N.length==0?M.t=C||"z":n.raw||N.trim().length==0||C=="s"||(N==="TRUE"?M={t:"b",v:!0}:N==="FALSE"?M={t:"b",v:!1}:isNaN(nc(N))?isNaN(Zm(N).getDate())||(M={t:"d",v:qn(N)},n.cellDates||(M={t:"n",v:Ga(M.v)}),M.z=n.dateNF||rr[14]):M={t:"n",v:nc(N)})),M.z===void 0&&E!=null&&(M.z=E);var P="",R=O.getElementsByTagName("A");if(R&&R.length)for(var U=0;U<R.length&&!(R[U].hasAttribute("href")&&(P=R[U].getAttribute("href"),P.charAt(0)!="#"));++U);P&&P.charAt(0)!="#"&&(M.l={Target:P}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][x+i]=M):e[ar({c:x+i,r:m+a})]=M,u.e.c<x+i&&(u.e.c=x+i),x+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=gr(u),m>=c&&(e["!fullref"]=gr((u.e.r=o.length-g+m-1+a,u))),e}function jV(e,t){var r=t||{},n=r.dense?[]:{};return SV(n,e,t)}function jbe(e,t){return Jd(jV(e,t),t)}function CD(e){var t="",r=Nbe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Nbe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function kbe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gr(t.replace(/<[^>]*>/g,""));return[r]}var TD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function NV(e,t){var r=t||{},n=XC(e),a=[],i,s,o={name:""},c="",u=0,f,d,h={},p=[],g=r.dense?[]:{},m,v,x={value:""},y="",b=0,j=[],k=-1,O=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,D={},M=[],C={},P=0,R=0,U=[],ee=1,J=1,ae=[],X={Names:[]},W={},fe=["",""],Se=[],T={},L="",B=0,z=!1,te=!1,ie=0;for(u1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=u1.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=gr(N):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=r.sheetRows-1,g["!ref"]=gr(N)),M.length&&(g["!merges"]=M),U.length&&(g["!rows"]=U),f.name=f.名称||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),h[f.name]=g,te=!1):m[0].charAt(m[0].length-2)!=="/"&&(f=sr(m[0],!1),k=O=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=r.dense?[]:{},M=[],U=[],te=!0);break;case"table-row-group":m[1]==="/"?--E:++E;break;case"table-row":case"行":if(m[1]==="/"){k+=ee,ee=1;break}if(d=sr(m[0],!1),d.行号?k=d.行号-1:k==-1&&(k=0),ee=+d["number-rows-repeated"]||1,ee<10)for(ie=0;ie<ee;++ie)E>0&&(U[k+ie]={level:E});O=-1;break;case"covered-table-cell":m[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(g[k]||(g[k]=[]),g[k][O]={t:"z"}):g[ar({r:k,c:O})]={t:"z"}),y="",j=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++O,x=sr(m[0],!1),J=parseInt(x["number-columns-repeated"]||"1",10),v={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(v.f=ND(Gr(x.formula))),(x.数据类型||x["value-type"])=="string"&&(v.t="s",v.v=Gr(x["string-value"]||""),r.dense?(g[k]||(g[k]=[]),g[k][O]=v):g[ar({r:k,c:O})]=v),O+=J-1;else if(m[1]!=="/"){++O,y="",b=0,j=[],J=1;var pe=ee?k+ee-1:k;if(O>N.e.c&&(N.e.c=O),O<N.s.c&&(N.s.c=O),k<N.s.r&&(N.s.r=k),pe>N.e.r&&(N.e.r=pe),x=sr(m[0],!1),Se=[],T={},v={t:x.数据类型||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Gr(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(P=parseInt(x["number-matrix-rows-spanned"],10)||0,R=parseInt(x["number-matrix-columns-spanned"],10)||0,C={s:{r:k,c:O},e:{r:k+P-1,c:O+R-1}},v.F=gr(C),ae.push([C,v.F])),x.formula)v.f=ND(x.formula);else for(ie=0;ie<ae.length;++ie)k>=ae[ie][0].s.r&&k<=ae[ie][0].e.r&&O>=ae[ie][0].s.c&&O<=ae[ie][0].e.c&&(v.F=ae[ie][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(P=parseInt(x["number-rows-spanned"],10)||0,R=parseInt(x["number-columns-spanned"],10)||0,C={s:{r:k,c:O},e:{r:k+P-1,c:O+R-1}},M.push(C)),x["number-columns-repeated"]&&(J=parseInt(x["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Dn(x["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(x.value);break;case"percentage":v.t="n",v.v=parseFloat(x.value);break;case"currency":v.t="n",v.v=parseFloat(x.value);break;case"date":v.t="d",v.v=qn(x["date-value"]),r.cellDates||(v.t="n",v.v=Ga(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Qhe(x["time-value"])/86400,r.cellDates&&(v.t="d",v.v=G5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(x.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",x["string-value"]!=null&&(y=Gr(x["string-value"]),j=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(z=!1,v.t==="s"&&(v.v=y||"",j.length&&(v.R=j),z=b==0),W.Target&&(v.l=W),Se.length>0&&(v.c=Se,Se=[]),y&&r.cellText!==!1&&(v.w=y),z&&(v.t="z",delete v.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var Q=0;Q<ee;++Q){if(J=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(g[k+Q]||(g[k+Q]=[]),g[k+Q][O]=Q==0?v:Wn(v);--J>0;)g[k+Q][O+J]=Wn(v);else for(g[ar({r:k+Q,c:O})]=v;--J>0;)g[ar({r:k+Q,c:O+J})]=Wn(v);N.e.c<=O&&(N.e.c=O)}J=parseInt(x["number-columns-repeated"]||"1",10),O+=J-1,J=0,v={},y="",j=[]}W={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;T.t=y,j.length&&(T.R=j),T.a=L,Se.push(T)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);L="",B=0,y="",b=0,j=[];break;case"creator":m[1]==="/"?L=n.slice(B,m.index):B=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);y="",b=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(D[o.name]=c,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(c="",o=sr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=sr(m[0],!1),c+=TD[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=sr(m[0],!1),c+=TD[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":s=sr(m[0],!1),fe=$4(s["cell-range-address"]);var ge={Name:s.name,Ref:fe[0]+"!"+fe[1]};te&&(ge.Sheet=p.length),X.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var _e=kbe(n.slice(b,m.index));y=(y.length>0?y+`
`:"")+_e[0]}else sr(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{fe=$4(sr(m[0])["target-range-address"]),h[fe[0]]["!autofilter"]={ref:fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(W=sr(m[0],!1),!W.href)break;W.Target=Gr(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(fe=$4(W.Target.slice(1)),W.Target="#"+fe[0]+"!"+fe[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var q={Sheets:h,SheetNames:p,Workbook:X};return r.bookSheets&&delete q.Sheets,q}function PD(e,t){t=t||{},Xo(e,"META-INF/manifest.xml")&&Q0e(Oa(e,"META-INF/manifest.xml"),t);var r=wo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=NV(xn(r),t);return Xo(e,"meta.xml")&&(n.Props=mW(Oa(e,"meta.xml"))),n}function OD(e,t){return NV(e,t)}var Abe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+c1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Na+t}}(),FD=function(){var e=function(i){return dn(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+dn(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,d=Ys(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var m="",v=i["!rows"]||[];for(u=0;u<d.s.r;++u)m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=d.e.r;++u){for(m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),f=0;f<d.s.c;++f)c.push(t);for(;f<=d.e.c;++f){var x=!1,y={},b="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>f)&&!(h[p].s.r>u)&&!(h[p].e.c<f)&&!(h[p].e.r<u)){(h[p].s.c!=f||h[p].s.r!=u)&&(x=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(x){c.push(r);continue}var j=ar({r:u,c:f}),k=g?(i[u]||[])[f]:i[j];if(k&&k.f&&(y["table:formula"]=dn(G1e(k.f)),k.F&&k.F.slice(0,j.length)==j)){var O=Ys(k.F);y["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,y["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":b=k.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=k.v?"true":"false";break;case"n":b=k.w||String(k.v||0),y["office:value-type"]="float",y["office:value"]=k.v||0;break;case"s":case"str":b=k.v==null?"":k.v,y["office:value-type"]="string";break;case"d":b=k.w||qn(k.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=qn(k.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var N=e(b);if(k.l&&k.l.Target){var E=k.l.Target;E=E.charAt(0)=="#"?"#"+K1e(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),N=_t("text:a",N,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+_t("table:table-cell",_t("text:p",N,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var d=u["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;Rd(d),d.ods=o;var h=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var d=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[Na],u=c1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=c1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(pW().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)c.push(n(s.Sheets[s.SheetNames[d]],s,d));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function kV(e,t){if(t.bookType=="fods")return FD(e,t);var r=HC(),n="",a=[],i=[];return n="mimetype",yr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",yr(r,n,FD(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",yr(r,n,Abe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",yr(r,n,Na+pW()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",yr(r,n,rpe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",yr(r,n,epe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function S0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function PA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):xn(Zd(e))}function Ebe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):yo(Mc(e))}function Cbe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Bd(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function DD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Tbe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Pbe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function v1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function cn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ua(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Zr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=v1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=v1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function wi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(cn(n*8+a.type)),a.type==2&&t.push(cn(a.data.length)),t.push(a.data))})}),Bd(t)}function yT(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Go(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=v1(e,n),i=Zr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ua(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Zr(o.data),u=ua(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=ua(i[3][0].data)>>>0>0),r.push(s)}return r}function Np(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:cn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:cn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:cn(s.data.length)}],n[2].push({data:wi(s.meta),type:2})});var i=wi(n);t.push(cn(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Bd(t)}function Obe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=v1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Bd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=Bd(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Ko(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Obe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Bd(t)}function kp(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=cn(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Bd(t)}function Fbe(e,t,r,n){var a=S0(e),i=a.getUint32(4,!0),s=(n>1?12:8)+DD(i&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,f=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=DD(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(f.setTime(f.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:t[c]};break;case 5:d={t:"d",v:f};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(c>-1)d={t:"s",v:t[c]};else if(!isNaN(u))d={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function Dbe(e,t,r){var n=S0(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,u=NaN,f=new Date(2001,0,1);a&1&&(c=Tbe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(f.setTime(f.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:f};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return d}function q4(e,t){var r=new Uint8Array(32),n=S0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Pbe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function W4(e,t){var r=new Uint8Array(32),n=S0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Lbe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Fbe(e,t,r,e[0]);case 5:return Dbe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Yi(e){var t=Zr(e);return v1(t[1][0].data)}function LD(e,t){var r=Zr(t.data),n=ua(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Zr(s.data),c=ua(o[1][0].data)>>>0;switch(n){case 1:i[c]=PA(o[3][0].data);break;case 8:{var u=e[Yi(o[9][0].data)][0],f=Zr(u.data),d=e[Yi(f[1][0].data)][0],h=ua(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Zr(d.data);i[c]=p[3].map(function(g){return PA(g.data)}).join("")}break}}),i}function Ibe(e,t){var r,n,a,i,s,o,c,u,f,d,h,p,g,m,v=Zr(e),x=ua(v[1][0].data)>>>0,y=ua(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&ua(v[8][0].data)>0||!1,j,k;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)j=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,k=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((d=(f=v[4])==null?void 0:f[0])!=null&&d.data&&t!=1)j=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,k=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=b?4:1,N=S0(j),E=[],D=0;D<j.length/2;++D){var M=N.getUint16(D*2,!0);M<65535&&E.push([D,M])}if(E.length!=y)throw"Expected ".concat(y," cells, found ").concat(E.length);var C=[];for(D=0;D<E.length-1;++D)C[E[D][0]]=k.subarray(E[D][1]*O,E[D+1][1]*O);return E.length>=1&&(C[E[E.length-1][0]]=k.subarray(E[E.length-1][1]*O)),{R:x,cells:C}}function Rbe(e,t){var r,n=Zr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ua(n[7][0].data)>>>0>0?1:0:-1,i=yT(n[5],function(s){return Ibe(s,a)});return{nrows:ua(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function Mbe(e,t,r){var n,a=Zr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ua(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ua(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=gr(i);var s=Zr(a[4][0].data),o=LD(e,e[Yi(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?LD(e,e[Yi(s[17][0].data)][0]):[],u=Zr(s[3][0].data),f=0;u[1].forEach(function(d){var h=Zr(d.data),p=e[Yi(h[2][0].data)][0],g=ua(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=Rbe(e,p);m.data.forEach(function(v,x){v.forEach(function(y,b){var j=ar({r:f+x,c:b}),k=Lbe(y,o,c);k&&(r[j]=k)})}),f+=m.nrows})}function Bbe(e,t){var r=Zr(t.data),n={"!ref":"A1"},a=e[Yi(r[2][0].data)],i=ua(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Mbe(e,a[0],n),n}function Ube(e,t){var r,n=Zr(t.data),a={name:(r=n[1])!=null&&r[0]?PA(n[1][0].data):"",sheets:[]},i=yT(n[2],Yi);return i.forEach(function(s){e[s].forEach(function(o){var c=ua(o.meta[1][0].data);c==6e3&&a.sheets.push(Bbe(e,o))})}),a}function $be(e,t){var r=NT(),n=Zr(t.data),a=yT(n[1],Yi);if(a.forEach(function(i){e[i].forEach(function(s){var o=ua(s.meta[1][0].data);if(o==2){var c=Ube(e,s);c.sheets.forEach(function(u,f){kT(r,u,f==0?c.name:c.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function V4(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Ko(c.content)}catch(d){return console.log("?? "+c.content.length+" "+(d.message||d))}var f;try{f=Go(u)}catch(d){return console.log("## "+(d.message||d))}f.forEach(function(d){i[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ua(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(u){var f=ua(u.meta[1][0].data)>>>0;if(f==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return $be(i,o)}function zbe(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&ua(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=S0(e[7][0].data),f=0,d=[],h=S0(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,f,!0),h.setUint16(m*2,p,!0);var v,x;switch(typeof t[m]){case"string":v=q4({t:"s",v:t[m]},r),x=W4({t:"s",v:t[m]},r);break;case"number":v=q4({t:"n",v:t[m]},r),x=W4({t:"n",v:t[m]},r);break;case"boolean":v=q4({t:"b",v:t[m]},r),x=W4({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}d.push(v),f+=v.length,g.push(x),p+=x.length,++c}for(e[2][0].data=cn(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=Bd(d),e[3][0].data=Bd(g),c}function qbe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ys(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(gr(n)));var i=e_(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(B){typeof B=="string"&&s.push(B)})});var o={},c=[],u=Gt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(L,B){return[L,u.FullPaths[B]]}).forEach(function(L){var B=L[0],z=L[1];if(B.type==2&&B.name.match(/\.iwa/)){var te=B.content,ie=Ko(te),pe=Go(ie);pe.forEach(function(Q){c.push(Q.id),o[Q.id]={deps:[],location:z,type:ua(Q.messages[0].meta[1][0].data)}})}}),c.sort(function(L,B){return L-B});var f=c.filter(function(L){return L>1}).map(function(L){return[L,cn(L)]});u.FileIndex.map(function(L,B){return[L,u.FullPaths[B]]}).forEach(function(L){var B=L[0];if(L[1],!!B.name.match(/\.iwa/)){var z=Go(Ko(B.content));z.forEach(function(te){te.messages.forEach(function(ie){f.forEach(function(pe){te.messages.some(function(Q){return ua(Q.meta[1][0].data)!=11006&&Cbe(Q.data,pe[1])})&&o[pe[0]].deps.push(te.id)})})})}});for(var d=Gt.find(u,o[1].location),h=Go(Ko(d.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var v=Yi(Zr(p.messages[0].data)[1][0].data);for(d=Gt.find(u,o[v].location),h=Go(Ko(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);for(v=Yi(Zr(p.messages[0].data)[2][0].data),d=Gt.find(u,o[v].location),h=Go(Ko(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);for(v=Yi(Zr(p.messages[0].data)[2][0].data),d=Gt.find(u,o[v].location),h=Go(Ko(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);var x=Zr(p.messages[0].data);{x[6][0].data=cn(n.e.r+1),x[7][0].data=cn(n.e.c+1);var y=Yi(x[46][0].data),b=Gt.find(u,o[y].location),j=Go(Ko(b.content));{for(var k=0;k<j.length&&j[k].id!=y;++k);if(j[k].id!=y)throw"Bad ColumnRowUIDMapArchive";var O=Zr(j[k].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var N=0;N<=n.e.c;++N){var E=[];E[1]=E[2]=[{type:0,data:cn(N+420690)}],O[1].push({type:2,data:wi(E)}),O[2].push({type:0,data:cn(N)}),O[3].push({type:0,data:cn(N)})}O[4]=[],O[5]=[],O[6]=[];for(var D=0;D<=n.e.r;++D)E=[],E[1]=E[2]=[{type:0,data:cn(D+726270)}],O[4].push({type:2,data:wi(E)}),O[5].push({type:0,data:cn(D)}),O[6].push({type:0,data:cn(D)});j[k].messages[0].data=wi(O)}b.content=kp(Np(j)),b.size=b.content.length,delete x[46];var M=Zr(x[4][0].data);{M[7][0].data=cn(n.e.r+1);var C=Zr(M[1][0].data),P=Yi(C[2][0].data);b=Gt.find(u,o[P].location),j=Go(Ko(b.content));{if(j[0].id!=P)throw"Bad HeaderStorageBucket";var R=Zr(j[0].messages[0].data);for(D=0;D<i.length;++D){var U=Zr(R[2][0].data);U[1][0].data=cn(D),U[4][0].data=cn(i[D].length),R[2][D]={type:R[2][0].type,data:wi(U)}}j[0].messages[0].data=wi(R)}b.content=kp(Np(j)),b.size=b.content.length;var ee=Yi(M[2][0].data);b=Gt.find(u,o[ee].location),j=Go(Ko(b.content));{if(j[0].id!=ee)throw"Bad HeaderStorageBucket";for(R=Zr(j[0].messages[0].data),N=0;N<=n.e.c;++N)U=Zr(R[2][0].data),U[1][0].data=cn(N),U[4][0].data=cn(n.e.r+1),R[2][N]={type:R[2][0].type,data:wi(U)};j[0].messages[0].data=wi(R)}b.content=kp(Np(j)),b.size=b.content.length;var J=Yi(M[4][0].data);(function(){for(var L=Gt.find(u,o[J].location),B=Go(Ko(L.content)),z,te=0;te<B.length;++te){var ie=B[te];ie.id==J&&(z=ie)}var pe=Zr(z.messages[0].data);{pe[3]=[];var Q=[];s.forEach(function(q,Be){Q[1]=[{type:0,data:cn(Be)}],Q[2]=[{type:0,data:cn(1)}],Q[3]=[{type:2,data:Ebe(q)}],pe[3].push({type:2,data:wi(Q)})})}z.messages[0].data=wi(pe);var ge=Np(B),_e=kp(ge);L.content=_e,L.size=L.content.length})();var ae=Zr(M[3][0].data);{var X=ae[1][0];delete ae[2];var W=Zr(X.data);{var fe=Yi(W[2][0].data);(function(){for(var L=Gt.find(u,o[fe].location),B=Go(Ko(L.content)),z,te=0;te<B.length;++te){var ie=B[te];ie.id==fe&&(z=ie)}var pe=Zr(z.messages[0].data);{delete pe[6],delete ae[7];var Q=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ge=0,_e=0;_e<=n.e.r;++_e){var q=Zr(Q);ge+=zbe(q,i[_e],s),q[1][0].data=cn(_e),pe[5].push({data:wi(q),type:2})}pe[1]=[{type:0,data:cn(n.e.c+1)}],pe[2]=[{type:0,data:cn(n.e.r+1)}],pe[3]=[{type:0,data:cn(ge)}],pe[4]=[{type:0,data:cn(n.e.r+1)}]}z.messages[0].data=wi(pe);var Be=Np(B),We=kp(Be);L.content=We,L.size=L.content.length})()}X.data=wi(W)}M[3][0].data=wi(ae)}x[4][0].data=wi(M)}p.messages[0].data=wi(x);var Se=Np(h),T=kp(Se);return d.content=T,d.size=d.content.length,u}function AV(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function wT(e){AV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function bT(e){AV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Wbe(e){return Pr.WS.indexOf(e)>-1?"sheet":e==Pr.CS?"chart":e==Pr.DS?"dialog":e==Pr.MS?"macro":e&&e.length?e:"sheet"}function Vbe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Wbe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Hbe(e,t,r,n,a,i,s,o,c,u,f,d){try{i[n]=hx(wo(e,r,!0),t);var h=Oa(e,t),p;switch(o){case"sheet":p=pwe(h,t,a,c,i[n],u,f,d);break;case"chart":if(p=mwe(h,t,a,c,i[n],u,f,d),!p||!p["!drawel"])break;var g=qv(p["!drawel"].Target,t),m=f1(g),v=txe(wo(e,g,!0),hx(wo(e,m,!0),g)),x=qv(v,g),y=f1(x);p=z2e(wo(e,x,!0),x,c,hx(wo(e,y,!0),x),u,p);break;case"macro":p=gwe(h,t,a,c,i[n],u,f,d);break;case"dialog":p=vwe(h,t,a,c,i[n],u,f,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&fa(i[n]).forEach(function(j){var k="";if(i[n][j].Type==Pr.CMNT){k=qv(i[n][j].Target,t);var O=bwe(Oa(e,k,!0),k,c);if(!O||!O.length)return;wD(p,O,!1)}i[n][j].Type==Pr.TCMNT&&(k=qv(i[n][j].Target,t),b=b.concat(nxe(Oa(e,k,!0),c)))}),b&&b.length&&wD(p,b,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Vo(e){return e.charAt(0)=="/"?e.slice(1):e}function Gbe(e,t){if(bg(),t=t||{},wT(t),Xo(e,"META-INF/manifest.xml")||Xo(e,"objectdata.xml"))return PD(e,t);if(Xo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof V4<"u"){if(e.FileIndex)return V4(e);var r=Gt.utils.cfb_new();return $F(e).forEach(function(U){yr(r,U,a0e(e,U))}),V4(r)}throw new Error("Unsupported NUMBERS file")}if(!Xo(e,"[Content_Types].xml"))throw Xo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Xo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=$F(e),a=Z0e(wo(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Oa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Oa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(px=[],a.sst)try{px=wwe(Oa(e,Vo(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(c=ywe(wo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=xwe(Oa(e,Vo(a.style)),a.style,c,t))}a.links.map(function(U){try{var ee=hx(wo(e,f1(Vo(U))),U);return Swe(Oa(e,Vo(U)),ee,U,t)}catch{}});var f=hwe(Oa(e,Vo(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=Oa(e,Vo(a.coreprops[0]),!0),h&&(d=mW(h)),a.extprops.length!==0&&(h=Oa(e,Vo(a.extprops[0]),!0),h&&ape(h,d,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=wo(e,Vo(a.custprops[0]),!0),h&&(p=spe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(f.Sheets?s=f.Sheets.map(function(ee){return ee.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=_we(Oa(e,Vo(a.calcchain)),a.calcchain));var v=0,x={},y,b;{var j=f.Sheets;d.Worksheets=j.length,d.SheetNames=[];for(var k=0;k!=j.length;++k)d.SheetNames[k]=j[k].name}var O=i?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Xo(e,E)||(E="xl/_rels/workbook."+O+".rels");var D=hx(wo(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=jwe(Oa(e,Vo(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=ixe(Oa(e,Vo(a.people[0])),t)),D&&(D=Vbe(D,f.Sheets));var M=Oa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var C="sheet";if(D&&D[v]?(y="xl/"+D[v][1].replace(/[\/]?xl\//,""),Xo(e,y)||(y=D[v][1]),Xo(e,y)||(y=E.replace(/_rels\/.*$/,"")+D[v][1]),C=D[v][2]):(y="xl/worksheets/sheet"+(v+1-M)+"."+O,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,R=0;R!=t.sheets.length;++R)typeof t.sheets[R]=="number"&&t.sheets[R]==v&&(P=1),typeof t.sheets[R]=="string"&&t.sheets[R].toLowerCase()==d.SheetNames[v].toLowerCase()&&(P=1);if(!P)continue e}}Hbe(e,y,b,d.SheetNames[v],v,x,s,C,t,f,c,u)}return g={Directory:a,Workbook:f,Props:d,Custprops:p,Deps:m,Sheets:s,SheetNames:d.SheetNames,Strings:px,Styles:u,Themes:c,SSF:Wn(rr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,ee){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[ee]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Oa(e,Vo(a.vba[0]),!0):a.defaults&&a.defaults.bin===hxe&&(g.vbaraw=Oa(e,"xl/vbaProject.bin",!0))),g}function Kbe(e,t){var r=t||{},n="Workbook",a=Gt.find(e,n);try{if(n="/!DataSpaces/Version",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(jge(a.content),n="/!DataSpaces/DataSpaceMap",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=kge(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Age(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Cge(a.content)}catch{}if(n="/EncryptionInfo",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Tge(a.content);if(n="/EncryptedPackage",a=Gt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Ybe(e,t){return t.bookType=="ods"?kV(e,t):t.bookType=="numbers"?qbe(e,t):t.bookType=="xlsb"?Xbe(e,t):Zbe(e,t)}function Xbe(e,t){Xp=1024,e&&!e.SSF&&(e.SSF=Wn(rr)),e&&e.SSF&&(bg(),W5(e.SSF),t.revssf=H5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=eV.indexOf(t.bookType)>-1,a=sT();bT(t=t||{});var i=HC(),s="",o=0;if(t.cellXfs=[],Qd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",yr(i,s,gW(e.Props,t)),a.coreprops.push(s),un(t.rels,2,s,Pr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,yr(i,s,yW(e.Props)),a.extprops.push(s),un(t.rels,3,s,Pr.EXT_PROPS),e.Custprops!==e.Props&&fa(e.Custprops||{}).length>0&&(s="docProps/custom.xml",yr(i,s,wW(e.Custprops)),a.custprops.push(s),un(t.rels,4,s,Pr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,yr(i,s,kwe(o-1,s,t,e,f)),a.sheets.push(s),un(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pr.WS[0])}if(d){var p=d["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,yr(i,m,Cwe(p,m)),a.comments.push(m),un(f,-1,"../comments"+o+"."+r,Pr.CMNT),g=!0),d["!legacy"]&&g&&yr(i,"xl/drawings/vmlDrawing"+o+".vml",JW(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&yr(i,f1(s),hm(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,yr(i,s,Ewe(t.Strings,s,t)),a.strs.push(s),un(t.wbrels,-1,"sharedStrings."+r,Pr.SST)),s="xl/workbook."+r,yr(i,s,Nwe(e,s)),a.workbooks.push(s),un(t.rels,1,s,Pr.WB),s="xl/theme/theme1.xml",yr(i,s,dT(e.Themes,t)),a.themes.push(s),un(t.wbrels,-1,"theme/theme1.xml",Pr.THEME),s="xl/styles."+r,yr(i,s,Awe(e,s,t)),a.styles.push(s),un(t.wbrels,-1,"styles."+r,Pr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",yr(i,s,e.vbaraw),a.vba.push(s),un(t.wbrels,-1,"vbaProject.bin",Pr.VBA)),s="xl/metadata."+r,yr(i,s,Twe(s)),a.metadata.push(s),un(t.wbrels,-1,"metadata."+r,Pr.XLMETA),yr(i,"[Content_Types].xml",hW(a,t)),yr(i,"_rels/.rels",hm(t.rels)),yr(i,"xl/_rels/workbook."+r+".rels",hm(t.wbrels)),delete t.revssf,delete t.ssf,i}function Zbe(e,t){Xp=1024,e&&!e.SSF&&(e.SSF=Wn(rr)),e&&e.SSF&&(bg(),W5(e.SSF),t.revssf=H5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=eV.indexOf(t.bookType)>-1,a=sT();bT(t=t||{});var i=HC(),s="",o=0;if(t.cellXfs=[],Qd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",yr(i,s,gW(e.Props,t)),a.coreprops.push(s),un(t.rels,2,s,Pr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,yr(i,s,yW(e.Props)),a.extprops.push(s),un(t.rels,3,s,Pr.EXT_PROPS),e.Custprops!==e.Props&&fa(e.Custprops||{}).length>0&&(s="docProps/custom.xml",yr(i,s,wW(e.Custprops)),a.custprops.push(s),un(t.rels,4,s,Pr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,yr(i,s,fV(o-1,t,e,d)),a.sheets.push(s),un(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pr.WS[0])}if(h){var g=h["!comments"],m=!1,v="";if(g&&g.length>0){var x=!1;g.forEach(function(y){y[1].forEach(function(b){b.T==!0&&(x=!0)})}),x&&(v="xl/threadedComments/threadedComment"+o+"."+r,yr(i,v,axe(g,f,t)),a.threadedcomments.push(v),un(d,-1,"../threadedComments/threadedComment"+o+"."+r,Pr.TCMNT)),v="xl/comments"+o+"."+r,yr(i,v,QW(g)),a.comments.push(v),un(d,-1,"../comments"+o+"."+r,Pr.CMNT),m=!0}h["!legacy"]&&m&&yr(i,"xl/drawings/vmlDrawing"+o+".vml",JW(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&yr(i,f1(s),hm(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,yr(i,s,UW(t.Strings,t)),a.strs.push(s),un(t.wbrels,-1,"sharedStrings."+r,Pr.SST)),s="xl/workbook."+r,yr(i,s,gV(e)),a.workbooks.push(s),un(t.rels,1,s,Pr.WB),s="xl/theme/theme1.xml",yr(i,s,dT(e.Themes,t)),a.themes.push(s),un(t.wbrels,-1,"theme/theme1.xml",Pr.THEME),s="xl/styles."+r,yr(i,s,KW(e,t)),a.styles.push(s),un(t.wbrels,-1,"styles."+r,Pr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",yr(i,s,e.vbaraw),a.vba.push(s),un(t.wbrels,-1,"vbaProject.bin",Pr.VBA)),s="xl/metadata."+r,yr(i,s,ZW()),a.metadata.push(s),un(t.wbrels,-1,"metadata."+r,Pr.XLMETA),f.length>1&&(s="xl/persons/person.xml",yr(i,s,sxe(f)),a.people.push(s),un(t.wbrels,-1,"persons/person.xml",Pr.PEOPLE)),yr(i,"[Content_Types].xml",hW(a,t)),yr(i,"_rels/.rels",hm(t.rels)),yr(i,"xl/_rels/workbook."+r+".rels",hm(t.wbrels)),delete t.revssf,delete t.ssf,i}function _T(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Po(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Jbe(e,t){return Gt.find(e,"EncryptedPackage")?Kbe(e,t):wV(e,t)}function Qbe(e,t){var r,n=e,a=t||{};return a.type||(a.type=jr&&Buffer.isBuffer(e)?"buffer":"base64"),r=zq(n,a),Gbe(r,a)}function EV(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return CA(e.slice(r),t);default:break e}return Jm.to_workbook(e,t)}function e_e(e,t){var r="",n=_T(e,t);switch(t.type){case"base64":r=Po(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=y0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=xn(r)),t.type="binary",EV(r,t)}function t_e(e,t){var r=e;return t.type=="base64"&&(r=Po(r)),r=Jf.utils.decode(1200,r.slice(2),"str"),t.type="binary",EV(r,t)}function r_e(e){return e.match(/[^\x00-\x7F]/)?Mc(e):e}function H4(e,t,r,n){return n?(r.type="string",Jm.to_workbook(e,r)):Jm.to_workbook(t,r)}function OA(e,t){$C();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return OA(new Uint8Array(e),(r=Wn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),mm={},r.dateNF&&(mm.dateNF=r.dateNF),r.type||(r.type=jr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=jr?"buffer":"binary",n=Xhe(e),typeof Uint8Array<"u"&&!jr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=r_e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Wn(r),r.type="array",OA(zC(n),r)}switch((a=_T(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Jbe(Gt.read(n,r),r);break;case 9:if(a[1]<=8)return wV(n,r);break;case 60:return CA(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return oge(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return MW.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Qbe(n,r):H4(e,n,r,i);case 239:return a[3]===60?CA(n,r):H4(e,n,r,i);case 255:if(a[1]===254)return t_e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Yh.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Yh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return EA.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return VW.to_workbook(n,r);break;case 10:case 13:case 32:return e_e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return sge.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?EA.to_workbook(n,r):H4(e,n,r,i)}function CV(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ny(t.file,Gt.write(e,{type:jr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Gt.write(e,t)}function n_e(e,t){var r=Wn(t||{}),n=Ybe(e,r);return a_e(n,r)}function a_e(e,t){var r={},n=jr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Gt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(q5(a))}return t.password&&typeof encrypt_agile<"u"?CV(encrypt_agile(a,t.password),t):t.type==="file"?ny(t.file,a):t.type=="string"?xn(a):a}function i_e(e,t){var r=t||{},n=rbe(e,r);return CV(n,r)}function Ac(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return s1(Mc(n));case"binary":return Mc(n);case"string":return e;case"file":return ny(t.file,n,"utf8");case"buffer":return jr?uf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ac(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function s_e(e,t){switch(t.type){case"base64":return s1(e);case"binary":return e;case"string":return e;case"file":return ny(t.file,e,"binary");case"buffer":return jr?uf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Z2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?s1(r):t.type=="string"?xn(r):r;case"file":return ny(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function TV(e,t){$C(),J2e(e);var r=Wn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=TV(e,r);return r.type="array",q5(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ac(Ywe(e,r),r);case"slk":case"sylk":return Ac(RW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ac(_V(e.Sheets[e.SheetNames[a]],r),r);case"txt":return s_e(PV(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ac(jT(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ac(MW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Z2(EA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ac(Jm.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ac(VW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ac(BW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ac(kV(e,r),r);case"wk1":return Z2(Yh.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Z2(Yh.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Z2(bV(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),i_e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return n_e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function o_e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ST(e,t,r){var n={};return n.type="file",n.file=t,o_e(n),TV(e,n)}function l_e(e,t,r,n,a,i,s,o){var c=Sa(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(f&&m===null)h[i[p]]=null;else continue;else h[i[p]]=f&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:rf(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function e_(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=Kr(f);break;case"number":c=Kr(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var d=Sa(c.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),x=c.s.r,y=0,b={};v&&!e[x]&&(e[x]=[]);var j=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(j[y]||{}).hidden)switch(h[y]=Zn(y),r=v?e[x][y]:e[h[y]+d],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=rf(r,null,u),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[y]=o}for(x=c.s.r+a;x<=c.e.r;++x)if(!(k[x]||{}).hidden){var O=l_e(e,c,x,h,n,i,v,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=O.row)}return p.length=g,p}var ID=/"/g;function c_e(e,t,r,n,a,i,s,o){for(var c=!0,u=[],f="",d=Sa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)f="";else if(p.v!=null){c=!1,f=""+(o.rawNumbers&&p.t=="n"?p.v:rf(p,null,o));for(var g=0,m=0;g!==f.length;++g)if((m=f.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){f='"'+f.replace(ID,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(c=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(ID,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&c?null:u.join(s)}function jT(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Kr(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Zn(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(f=c_e(e,a,v,d,s,c,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((m++?o:"")+f)));return delete n.dense,r.join("")}function PV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=jT(e,t);return r}function u_e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Kr(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Zn(o);for(var f=a.s.r;f<=a.e.r;++f)for(i=Sa(f),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function OV(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Jn(n.origin):n.origin;s=c.r,o=c.c}var u,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=Kr(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(s=d.e.r+1,f.e.r=s+t.length-1+a)}else s==-1&&(s=0,f.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){fa(m).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var y=m[x],b="z",j="",k=ar({c:o+p,r:s+v+a});u=x1(i,k),y&&typeof y=="object"&&!(y instanceof Date)?i[k]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=Ga(y)),j=n.dateNF||rr[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,j&&(u.z=j)):i[k]=u={t:b,v:y},j&&(u.z=j))})}),f.e.c=Math.max(f.e.c,o+h.length-1);var g=Sa(s);if(a)for(p=0;p<h.length;++p)i[Zn(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=gr(f),i}function f_e(e,t){return OV(null,e,t)}function x1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Jn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?x1(e,ar(t)):x1(e,ar({r:t,c:r||0}))}function d_e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function NT(){return{SheetNames:[],Sheets:{}}}function kT(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(mV(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function h_e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=d_e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function p_e(e,t){return e.z=t,e}function FV(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function m_e(e,t,r){return FV(e,"#"+t,r)}function g_e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function v_e(e,t,r,n){for(var a=typeof t!="string"?t:Kr(t),i=typeof t=="string"?t:gr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=x1(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var xs={encode_col:Zn,encode_row:Sa,encode_cell:ar,encode_range:gr,decode_col:eT,decode_row:QC,split_cell:E0e,decode_cell:Jn,decode_range:Ys,format_cell:rf,sheet_add_aoa:sW,sheet_add_json:OV,sheet_add_dom:SV,aoa_to_sheet:_g,json_to_sheet:f_e,table_to_sheet:jV,table_to_book:jbe,sheet_to_csv:jT,sheet_to_txt:PV,sheet_to_json:e_,sheet_to_html:_V,sheet_to_formulae:u_e,sheet_to_row_object_array:e_,sheet_get_cell:x1,book_new:NT,book_append_sheet:kT,book_set_sheet_visibility:h_e,cell_set_number_format:p_e,cell_set_hyperlink:FV,cell_set_internal_link:m_e,cell_add_comment:g_e,sheet_set_array_formula:v_e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};async function x_e(e,t){const r=["Staff ID,Staff Name,Account Number,Account Name,Bank Name,Bank Code,Amount,Department,Period",...e.map(n=>[n.staffId,`"${n.staffName}"`,n.accountNumber,`"${n.accountName}"`,`"${n.bankName}"`,n.bankCode,n.amount.toFixed(2),`"${n.department}"`,n.period].join(","))].join(`
`);__e(r,t,"text/csv")}async function y_e(e,t){const r=["Staff ID","Staff Name","Account Number","Account Name","Bank Name","Bank Code","Amount (NGN)","Department","Pay Period"],n=e.map(u=>({"Staff ID":u.staffId||u["Staff ID"]||"","Staff Name":u.staffName||u["Staff Name"]||"","Account Number":u.accountNumber||u["Account Number"]||"","Account Name":u.accountName||u["Account Name"]||"","Bank Name":u.bankName||u["Bank Name"]||"","Bank Code":u.bankCode||u["Bank Code"]||"","Amount (NGN)":typeof u.amount=="number"?u.amount:u["Amount (NGN)"]||0,Department:u.department||u.Department||"","Pay Period":u.period||u["Pay Period"]||""})),a=xs.json_to_sheet(n,{header:r,skipHeader:!0}),i=xs.book_new(),s=[["JSC PAYROLL MANAGEMENT SYSTEM"],["Bank Transfer Schedule"],[`Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`],[`Total Records: ${e.length}`],[`Total Amount: ₦${e.reduce((u,f)=>u+(typeof f.amount=="number"?f.amount:f["Amount (NGN)"]||0),0).toLocaleString()}`],[""],r];xs.sheet_add_aoa(a,s,{origin:"A1"}),xs.sheet_add_json(a,n,{origin:`A${s.length+1}`,skipHeader:!0});const o=[{wch:15},{wch:25},{wch:15},{wch:25},{wch:20},{wch:10},{wch:15},{wch:20},{wch:15}];a["!cols"]=o;const c=s.length-1;for(let u=0;u<r.length;u++){const f=xs.encode_cell({r:c,c:u});a[f]&&(a[f].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"008751"}},alignment:{horizontal:"center"}})}xs.book_append_sheet(i,a,"Bank Transfers"),ST(i,t)}async function w_e(e,t){const r=xs.json_to_sheet(e),n=xs.book_new(),a=[{wch:12},{wch:8},{wch:15}];r["!cols"]=a,xs.book_append_sheet(n,r,"Salary Structure"),ST(n,t)}function b_e(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var i;try{const s=new Uint8Array((i=a.target)==null?void 0:i.result),o=OA(s,{type:"array"}),c=o.SheetNames[0],u=o.Sheets[c],f=xs.sheet_to_json(u);t(f)}catch(s){r(s)}},n.onerror=()=>r(new Error("Failed to read file")),n.readAsArrayBuffer(e)})}function __e(e,t,r){const n=new Blob([e],{type:r}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}const ci=S.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:Et("w-full caption-bottom text-sm",e),...t})}));ci.displayName="Table";const ui=S.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:Et("[&_tr]:border-b",e),...t}));ui.displayName="TableHeader";const fi=S.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:Et("[&_tr:last-child]:border-0",e),...t}));fi.displayName="TableBody";const S_e=S.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:Et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));S_e.displayName="TableFooter";const Br=S.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:Et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Br.displayName="TableRow";const it=S.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:Et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));it.displayName="TableHead";const at=S.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:Et("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableCell";const j_e=S.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:Et("mt-4 text-sm text-muted-foreground",e),...t}));j_e.displayName="TableCaption";const N_e=dg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yt({className:e,variant:t,...r}){return l.jsx("div",{className:Et(N_e({variant:t}),e),...r})}const k_e=Ve.object({"First Name":Ve.string().min(1,"First Name is required"),"Last Name":Ve.string().min(1,"Last Name is required"),"Middle Name":Ve.string().optional(),Email:Ve.string().email("Invalid email format"),"Phone Number":Ve.string().optional().refine(e=>!e||/^\+?[\d\s\-\(\)]{10,15}$/.test(e),"Invalid phone number format (10-15 digits)"),"Department Code":Ve.string().min(1,"Department Code is required"),Position:Ve.string().min(1,"Position is required"),"Grade Level":Ve.preprocess(e=>e===""?void 0:Number(e),Ve.number().int().min(1,"Grade Level must be between 1-17").max(17,"Grade Level must be between 1-17")),Step:Ve.preprocess(e=>e===""?void 0:Number(e),Ve.number().int().min(1,"Step must be between 1-15").max(15,"Step must be between 1-15")),"Employment Date":Ve.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Employment Date must be in YYYY-MM-DD format"),"Bank Name":Ve.enum(["access","zenith","gtb","firstbank","uba","fidelity","union","stanbic","polaris","wema","sterling","unity","ecobank","keystone","titan","globus","providus","suntrust","parallex","premium","taj","jaiz",""]).optional(),"Account Number":Ve.string().optional().refine(e=>!e||/^\d{10}$/.test(e),"Account number must be exactly 10 digits"),"Account Name":Ve.string().optional()});function A_e({open:e,onClose:t,onSuccess:r}){const[n,a]=S.useState(null),[i,s]=S.useState([]),[o,c]=S.useState([]),[u,f]=S.useState([]);S.useState(!1);const{toast:d}=zr(),h=Cn(),{data:p}=Tr({queryKey:["departments"],queryFn:async()=>{const{data:j,error:k}=await De.from("departments").select("id, name, code");if(k)throw k;return j||[]}}),g=async j=>{var O;const k=(O=j.target.files)==null?void 0:O[0];if(k){if(!k.name.endsWith(".xlsx")&&!k.name.endsWith(".xls")){d({title:"Error",description:"Please select an Excel file (.xlsx or .xls)",variant:"destructive"});return}a(k);try{const N=await b_e(k);s(N),await m(N)}catch{d({title:"Error",description:"Failed to parse Excel file",variant:"destructive"})}}},m=async j=>{const k=[],O=(p==null?void 0:p.map(P=>P.code.toLowerCase()))||[],N=new Set,E=[],D=j.map(P=>P.Email).filter(Boolean),{data:M}=await De.from("staff").select("email").in("email",D),C=new Set((M==null?void 0:M.map(P=>P.email.toLowerCase()))||[]);j.forEach((P,R)=>{var X;const U=R+1,ee=k_e.safeParse(P);ee.success||ee.error.errors.forEach(W=>{k.push({row:U,field:W.path[0],message:W.message})});const J=(X=P.Email)==null?void 0:X.toLowerCase();J&&(N.has(J)?(E.push(J),k.push({row:U,field:"Email",message:"Duplicate email within import file"})):N.add(J),C.has(J)&&k.push({row:U,field:"Email",message:"Email already exists in database"})),P["Department Code"]&&!O.includes(P["Department Code"].toLowerCase())&&k.push({row:U,field:"Department Code",message:`Department code "${P["Department Code"]}" does not exist`}),P["Employment Date"]&&new Date(P["Employment Date"])>new Date&&k.push({row:U,field:"Employment Date",message:"Employment date cannot be in the future"}),(P["Bank Name"]||P["Account Number"]||P["Account Name"])&&(P["Bank Name"]||k.push({row:U,field:"Bank Name",message:"Bank Name is required when bank details are provided"}),P["Account Number"]||k.push({row:U,field:"Account Number",message:"Account Number is required when bank details are provided"}),P["Account Name"]||k.push({row:U,field:"Account Name",message:"Account Name is required when bank details are provided"}))}),c(k),f(E)},v=async j=>{const k=new Date().getFullYear(),{count:O}=await De.from("staff").select("id",{count:"exact"}),N=(O||0)+j+1;return`JSC/${k}/${N.toString().padStart(5,"0")}`},x=Jr({mutationFn:async()=>{if(o.length>0)throw new Error("Please fix validation errors before importing");const j=[];for(let E=0;E<i.length;E++){const D=i[E],M=p==null?void 0:p.find(P=>{var R;return P.code.toLowerCase()===((R=D["Department Code"])==null?void 0:R.toLowerCase())}),C=await v(E);j.push({staff_id:C,first_name:D["First Name"],last_name:D["Last Name"],middle_name:D["Middle Name"]||null,email:D.Email,phone_number:D["Phone Number"]||null,department_id:(M==null?void 0:M.id)||null,position:D.Position,grade_level:parseInt(D["Grade Level"]),step:parseInt(D.Step),employment_date:new Date(D["Employment Date"]).toISOString(),bank_name:D["Bank Name"]||null,account_number:D["Account Number"]||null,account_name:D["Account Name"]||null,status:"active"})}const{data:k,error:O}=await De.from("staff").insert(j).select();if(O)throw O;const{data:N}=await De.from("users").select("id").in("role",["super_admin","payroll_admin"]);if(N!=null&&N.length){const E=N.map(D=>({user_id:D.id,title:"Bulk Staff Import Completed",message:`${k.length} staff members have been successfully imported into the system.`,type:"success"}));await De.from("notifications").insert(E)}return k},onSuccess:j=>{d({title:"Success",description:`Successfully imported ${j.length} staff members`}),h.invalidateQueries({queryKey:["staff"]}),h.invalidateQueries({queryKey:["dashboard-stats"]}),r()},onError:j=>{d({title:"Error",description:j.message||"Failed to import staff data",variant:"destructive"})}}),y=()=>{const j=["First Name,Last Name,Middle Name,Email,Phone Number,Department Code,Position,Grade Level,Step,Employment Date,Bank Name,Account Number,Account Name","John,Doe,Middle,john.doe@jsc.gov.ng,08012345678,SC,Justice,15,5,2023-01-15,gtb,1234567890,John Doe","Jane,Smith,,jane.smith@jsc.gov.ng,08087654321,CA,Registrar,12,8,2022-06-01,access,0987654321,Jane Smith"].join(`
`),k=new Blob([j],{type:"text/csv"}),O=URL.createObjectURL(k),N=document.createElement("a");N.href=O,N.download="staff_import_template.csv",document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(O)},b=()=>{a(null),s([]),c([]),t()};return l.jsx(Bn,{open:e,onOpenChange:b,children:l.jsxs(Un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx($n,{children:l.jsx(zn,{children:"Bulk Import Staff"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Or,{htmlFor:"file-upload",children:"Upload Excel File"}),l.jsxs(Ue,{variant:"outline",size:"sm",onClick:y,children:[l.jsx(kd,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Dt,{id:"file-upload",type:"file",accept:".xlsx,.xls",onChange:g,className:"flex-1"}),n&&l.jsxs(Yt,{variant:"outline",className:"flex items-center space-x-1",children:[l.jsx(lB,{className:"h-3 w-3"}),l.jsx("span",{children:n.name})]})]})]}),o.length>0&&l.jsxs(lx,{variant:"destructive",children:[l.jsx(f0,{className:"h-4 w-4"}),l.jsx(cx,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"font-medium",children:["Validation Errors (",o.length,"):"]}),l.jsx("div",{className:"max-h-32 overflow-y-auto",children:l.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[o.slice(0,15).map((j,k)=>l.jsxs("li",{children:[l.jsxs("strong",{children:["Row ",j.row]})," - ",j.field,": ",j.message]},k)),o.length>15&&l.jsxs("li",{className:"text-gray-600",children:["... and ",o.length-15," more errors"]})]})}),l.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[l.jsxs("p",{children:["💡 ",l.jsx("strong",{children:"Tips:"})]}),l.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[l.jsx("li",{children:"Ensure all required fields are filled"}),l.jsx("li",{children:"Use YYYY-MM-DD format for dates"}),l.jsx("li",{children:"Grade Level: 1-17, Step: 1-15"}),l.jsx("li",{children:"Account numbers must be exactly 10 digits"}),l.jsx("li",{children:"Department codes must match existing departments"}),l.jsx("li",{children:"Bank Name should match: access, zenith, gtb, firstbank, uba, fidelity, union, stanbic, polaris, wema, sterling, unity, ecobank, keystone, titan, globus, providus, suntrust, parallex, premium, taj, jaiz"}),l.jsx("li",{children:"Save as .xlsx and upload through the system"})]})]})]})})]}),u.length>0&&l.jsxs(lx,{variant:"destructive",children:[l.jsx(f0,{className:"h-4 w-4"}),l.jsx(cx,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"font-medium",children:"Duplicate Emails Found:"}),l.jsx("ul",{className:"list-disc list-inside text-sm",children:u.map((j,k)=>l.jsx("li",{children:j},k))}),l.jsx("p",{className:"text-xs mt-2",children:"Each email address must be unique."})]})})]}),i.length>0&&o.length===0&&l.jsxs(lx,{children:[l.jsx(ol,{className:"h-4 w-4"}),l.jsxs(cx,{children:["Ready to import ",i.length," staff members. All validation checks passed."]})]}),i.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"text-lg font-medium",children:["Data Preview (",i.length," records)"]}),l.jsx(Ue,{onClick:()=>x.mutate(),disabled:o.length>0||x.isPending,className:"bg-nigeria-green hover:bg-green-700",children:x.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(zk,{className:"mr-2 h-4 w-4"}),"Import Staff"]})})]}),l.jsx("div",{className:"border rounded-lg max-h-64 overflow-auto",children:l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Name"}),l.jsx(it,{children:"Email"}),l.jsx(it,{children:"Department"}),l.jsx(it,{children:"Position"}),l.jsx(it,{children:"Grade Level"}),l.jsx(it,{children:"Employment Date"})]})}),l.jsxs(fi,{children:[i.slice(0,10).map((j,k)=>l.jsxs(Br,{children:[l.jsxs(at,{children:[j["First Name"]," ",j["Middle Name"]||""," ",j["Last Name"]]}),l.jsx(at,{children:j.Email}),l.jsx(at,{children:j["Department Code"]}),l.jsx(at,{children:j.Position}),l.jsxs(at,{children:["GL ",j["Grade Level"]," Step ",j.Step]}),l.jsx(at,{children:j["Employment Date"]})]},k)),i.length>10&&l.jsx(Br,{children:l.jsxs(at,{colSpan:6,className:"text-center text-gray-500",children:["... and ",i.length-10," more records"]})})]})]})})]}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(zk,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{className:"font-medium",children:"Upload an Excel file to import staff data"}),l.jsx("p",{className:"text-sm mt-2",children:"Download the template to see the required format and column headers"})]}),l.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:l.jsx(Ue,{variant:"outline",onClick:b,children:"Cancel"})})]})]})})}function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}var ts=Uint8Array,jo=Uint16Array,AT=Int32Array,J5=new ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q5=new ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),FA=new ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DV=function(e,t){for(var r=new jo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new AT(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},LV=DV(J5,2),IV=LV.b,DA=LV.r;IV[28]=258,DA[258]=28;var RV=DV(Q5,0),E_e=RV.b,RD=RV.r,LA=new jo(32768);for(var Ln=0;Ln<32768;++Ln){var Mf=(Ln&43690)>>1|(Ln&21845)<<1;Mf=(Mf&52428)>>2|(Mf&13107)<<2,Mf=(Mf&61680)>>4|(Mf&3855)<<4,LA[Ln]=((Mf&65280)>>8|(Mf&255)<<8)>>1}var Gc=function(e,t,r){for(var n=e.length,a=0,i=new jo(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new jo(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new jo(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],d=s[e[a]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)o[LA[d]>>c]=u}else for(o=new jo(n),a=0;a<n;++a)e[a]&&(o[a]=LA[s[e[a]-1]++]>>15-e[a]);return o},Ud=new ts(288);for(var Ln=0;Ln<144;++Ln)Ud[Ln]=8;for(var Ln=144;Ln<256;++Ln)Ud[Ln]=9;for(var Ln=256;Ln<280;++Ln)Ud[Ln]=7;for(var Ln=280;Ln<288;++Ln)Ud[Ln]=8;var y1=new ts(32);for(var Ln=0;Ln<32;++Ln)y1[Ln]=5;var C_e=Gc(Ud,9,0),T_e=Gc(Ud,9,1),P_e=Gc(y1,5,0),O_e=Gc(y1,5,1),G4=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ol=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},K4=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},ET=function(e){return(e+7)/8|0},MV=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ts(e.subarray(t,r))},F_e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Rl=function(e,t,r){var n=new Error(t||F_e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Rl),!r)throw n;return n},D_e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ts(0);var s=!r,o=s||t.i!=2,c=t.i;s&&(r=new ts(a*3));var u=function(_e){var q=r.length;if(_e>q){var Be=new ts(Math.max(q*2,_e));Be.set(r),r=Be}},f=t.f||0,d=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,x=a*8;do{if(!p){f=Ol(e,d,1);var y=Ol(e,d+1,3);if(d+=3,y)if(y==1)p=T_e,g=O_e,m=9,v=5;else if(y==2){var O=Ol(e,d,31)+257,N=Ol(e,d+10,15)+4,E=O+Ol(e,d+5,31)+1;d+=14;for(var D=new ts(E),M=new ts(19),C=0;C<N;++C)M[FA[C]]=Ol(e,d+C*3,7);d+=N*3;for(var P=G4(M),R=(1<<P)-1,U=Gc(M,P,1),C=0;C<E;){var ee=U[Ol(e,d,R)];d+=ee&15;var b=ee>>4;if(b<16)D[C++]=b;else{var J=0,ae=0;for(b==16?(ae=3+Ol(e,d,3),d+=2,J=D[C-1]):b==17?(ae=3+Ol(e,d,7),d+=3):b==18&&(ae=11+Ol(e,d,127),d+=7);ae--;)D[C++]=J}}var X=D.subarray(0,O),W=D.subarray(O);m=G4(X),v=G4(W),p=Gc(X,m,1),g=Gc(W,v,1)}else Rl(1);else{var b=ET(d)+4,j=e[b-4]|e[b-3]<<8,k=b+j;if(k>a){c&&Rl(0);break}o&&u(h+j),r.set(e.subarray(b,k),h),t.b=h+=j,t.p=d=k*8,t.f=f;continue}if(d>x){c&&Rl(0);break}}o&&u(h+131072);for(var fe=(1<<m)-1,Se=(1<<v)-1,T=d;;T=d){var J=p[K4(e,d)&fe],L=J>>4;if(d+=J&15,d>x){c&&Rl(0);break}if(J||Rl(2),L<256)r[h++]=L;else if(L==256){T=d,p=null;break}else{var B=L-254;if(L>264){var C=L-257,z=J5[C];B=Ol(e,d,(1<<z)-1)+IV[C],d+=z}var te=g[K4(e,d)&Se],ie=te>>4;te||Rl(3),d+=te&15;var W=E_e[ie];if(ie>3){var z=Q5[ie];W+=K4(e,d)&(1<<z)-1,d+=z}if(d>x){c&&Rl(0);break}o&&u(h+131072);var pe=h+B;if(h<W){var Q=i-W,ge=Math.min(W,pe);for(Q+h<0&&Rl(3);h<ge;++h)r[h]=n[Q+h]}for(;h<pe;++h)r[h]=r[h-W]}}t.l=p,t.p=T,t.b=h,t.f=f,p&&(f=1,t.m=m,t.d=g,t.n=v)}while(!f);return h!=r.length&&s?MV(r,0,h):r.subarray(0,h)},wu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},bv=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Y4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:UV,l:0};if(a==1){var s=new ts(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(k,O){return k.f-O.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,f=1,d=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=a-1;)o=r[r[u].f<r[d].f?u++:d++],c=r[u!=f&&r[u].f<r[d].f?u++:d++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new jo(h+1),g=IA(r[f-1],p,0);if(g>t){var n=0,m=0,v=g-t,x=1<<v;for(i.sort(function(O,N){return p[N.s]-p[O.s]||O.f-N.f});n<a;++n){var y=i[n].s;if(p[y]>t)m+=x-(1<<g-p[y]),p[y]=t;else break}for(m>>=v;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var j=i[n].s;p[j]==t&&(--p[j],++m)}g=t}return{t:new ts(p),l:g}},IA=function(e,t,r){return e.s==-1?Math.max(IA(e.l,t,r+1),IA(e.r,t,r+1)):t[e.s]=r},MD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new jo(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},_v=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},BV=function(e,t,r){var n=r.length,a=ET(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},BD=function(e,t,r,n,a,i,s,o,c,u,f){wu(t,f++,r),++a[256];for(var d=Y4(a,15),h=d.t,p=d.l,g=Y4(i,15),m=g.t,v=g.l,x=MD(h),y=x.c,b=x.n,j=MD(m),k=j.c,O=j.n,N=new jo(19),E=0;E<y.length;++E)++N[y[E]&31];for(var E=0;E<k.length;++E)++N[k[E]&31];for(var D=Y4(N,7),M=D.t,C=D.l,P=19;P>4&&!M[FA[P-1]];--P);var R=u+5<<3,U=_v(a,Ud)+_v(i,y1)+s,ee=_v(a,h)+_v(i,m)+s+14+3*P+_v(N,M)+2*N[16]+3*N[17]+7*N[18];if(c>=0&&R<=U&&R<=ee)return BV(t,f,e.subarray(c,c+u));var J,ae,X,W;if(wu(t,f,1+(ee<U)),f+=2,ee<U){J=Gc(h,p,0),ae=h,X=Gc(m,v,0),W=m;var fe=Gc(M,C,0);wu(t,f,b-257),wu(t,f+5,O-1),wu(t,f+10,P-4),f+=14;for(var E=0;E<P;++E)wu(t,f+3*E,M[FA[E]]);f+=3*P;for(var Se=[y,k],T=0;T<2;++T)for(var L=Se[T],E=0;E<L.length;++E){var B=L[E]&31;wu(t,f,fe[B]),f+=M[B],B>15&&(wu(t,f,L[E]>>5&127),f+=L[E]>>12)}}else J=C_e,ae=Ud,X=P_e,W=y1;for(var E=0;E<o;++E){var z=n[E];if(z>255){var B=z>>18&31;bv(t,f,J[B+257]),f+=ae[B+257],B>7&&(wu(t,f,z>>23&31),f+=J5[B]);var te=z&31;bv(t,f,X[te]),f+=W[te],te>3&&(bv(t,f,z>>5&8191),f+=Q5[te])}else bv(t,f,J[z]),f+=ae[z]}return bv(t,f,J[256]),f+ae[256]},L_e=new AT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UV=new ts(0),I_e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new ts(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,f=(i.r||0)&7;if(t){f&&(c[0]=i.r>>3);for(var d=L_e[t-1],h=d>>13,p=d&8191,g=(1<<r)-1,m=i.p||new jo(32768),v=i.h||new jo(g+1),x=Math.ceil(r/3),y=2*x,b=function(We){return(e[We]^e[We+1]<<x^e[We+2]<<y)&g},j=new AT(25e3),k=new jo(288),O=new jo(32),N=0,E=0,D=i.i||0,M=0,C=i.w||0,P=0;D+2<s;++D){var R=b(D),U=D&32767,ee=v[R];if(m[U]=ee,v[R]=U,C<=D){var J=s-D;if((N>7e3||M>24576)&&(J>423||!u)){f=BD(e,c,0,j,k,O,E,M,P,D-P,f),M=N=E=0,P=D;for(var ae=0;ae<286;++ae)k[ae]=0;for(var ae=0;ae<30;++ae)O[ae]=0}var X=2,W=0,fe=p,Se=U-ee&32767;if(J>2&&R==b(D-Se))for(var T=Math.min(h,J)-1,L=Math.min(32767,D),B=Math.min(258,J);Se<=L&&--fe&&U!=ee;){if(e[D+X]==e[D+X-Se]){for(var z=0;z<B&&e[D+z]==e[D+z-Se];++z);if(z>X){if(X=z,W=Se,z>T)break;for(var te=Math.min(Se,z-2),ie=0,ae=0;ae<te;++ae){var pe=D-Se+ae&32767,Q=m[pe],ge=pe-Q&32767;ge>ie&&(ie=ge,ee=pe)}}}U=ee,ee=m[U],Se+=U-ee&32767}if(W){j[M++]=268435456|DA[X]<<18|RD[W];var _e=DA[X]&31,q=RD[W]&31;E+=J5[_e]+Q5[q],++k[257+_e],++O[q],C=D+X,++N}else j[M++]=e[D],++k[e[D]]}}for(D=Math.max(D,C);D<s;++D)j[M++]=e[D],++k[e[D]];f=BD(e,c,u,j,k,O,E,M,P,D-P,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=v,i.p=m,i.i=D,i.w=C)}else{for(var D=i.w||0;D<s+u;D+=65535){var Be=D+65535;Be>=s&&(c[f/8|0]=u,Be=s),f=BV(c,f+1,e.subarray(D,Be))}i.i=s}return MV(o,0,n+ET(f)+a)},$V=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},R_e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new ts(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return I_e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},zV=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},M_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=$V();a.p(t.dictionary),zV(e,2,a.d())}},B_e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Rl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Rl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function RA(e,t){t||(t={});var r=$V();r.p(e);var n=R_e(e,t,t.dictionary?6:2,4);return M_e(n,t),zV(n,n.length-4,r.d()),n}function U_e(e,t){return D_e(e.subarray(B_e(e,t),-4),{i:2},t,t)}var $_e=typeof TextDecoder<"u"&&new TextDecoder,z_e=0;try{$_e.decode(UV,{stream:!0}),z_e=1}catch{}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function X4(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var bn={log:X4,warn:function(e){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):X4.call(null,arguments))},error:function(e){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):X4(e))}};function Z4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){wh(n.response,t,r)},n.onerror=function(){bn.error("could not download file")},n.send()}function UD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function J2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var xx,MA,wh=nr.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=nr.URL||nr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?UD(a.href)?Z4(e,t,r):J2(a,a.target="_blank"):J2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){J2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(UD(e))Z4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){J2(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:hn(i)!=="object"&&(bn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Z4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(nr.HTMLElement)||nr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var c=nr.URL||nr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qV(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function J4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=zi(r,n,a,i,t[0],7,-680876936),i=zi(i,r,n,a,t[1],12,-389564586),a=zi(a,i,r,n,t[2],17,606105819),n=zi(n,a,i,r,t[3],22,-1044525330),r=zi(r,n,a,i,t[4],7,-176418897),i=zi(i,r,n,a,t[5],12,1200080426),a=zi(a,i,r,n,t[6],17,-1473231341),n=zi(n,a,i,r,t[7],22,-45705983),r=zi(r,n,a,i,t[8],7,1770035416),i=zi(i,r,n,a,t[9],12,-1958414417),a=zi(a,i,r,n,t[10],17,-42063),n=zi(n,a,i,r,t[11],22,-1990404162),r=zi(r,n,a,i,t[12],7,1804603682),i=zi(i,r,n,a,t[13],12,-40341101),a=zi(a,i,r,n,t[14],17,-1502002290),r=qi(r,n=zi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=qi(i,r,n,a,t[6],9,-1069501632),a=qi(a,i,r,n,t[11],14,643717713),n=qi(n,a,i,r,t[0],20,-373897302),r=qi(r,n,a,i,t[5],5,-701558691),i=qi(i,r,n,a,t[10],9,38016083),a=qi(a,i,r,n,t[15],14,-660478335),n=qi(n,a,i,r,t[4],20,-405537848),r=qi(r,n,a,i,t[9],5,568446438),i=qi(i,r,n,a,t[14],9,-1019803690),a=qi(a,i,r,n,t[3],14,-187363961),n=qi(n,a,i,r,t[8],20,1163531501),r=qi(r,n,a,i,t[13],5,-1444681467),i=qi(i,r,n,a,t[2],9,-51403784),a=qi(a,i,r,n,t[7],14,1735328473),r=Wi(r,n=qi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Wi(i,r,n,a,t[8],11,-2022574463),a=Wi(a,i,r,n,t[11],16,1839030562),n=Wi(n,a,i,r,t[14],23,-35309556),r=Wi(r,n,a,i,t[1],4,-1530992060),i=Wi(i,r,n,a,t[4],11,1272893353),a=Wi(a,i,r,n,t[7],16,-155497632),n=Wi(n,a,i,r,t[10],23,-1094730640),r=Wi(r,n,a,i,t[13],4,681279174),i=Wi(i,r,n,a,t[0],11,-358537222),a=Wi(a,i,r,n,t[3],16,-722521979),n=Wi(n,a,i,r,t[6],23,76029189),r=Wi(r,n,a,i,t[9],4,-640364487),i=Wi(i,r,n,a,t[12],11,-421815835),a=Wi(a,i,r,n,t[15],16,530742520),r=Vi(r,n=Wi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Vi(i,r,n,a,t[7],10,1126891415),a=Vi(a,i,r,n,t[14],15,-1416354905),n=Vi(n,a,i,r,t[5],21,-57434055),r=Vi(r,n,a,i,t[12],6,1700485571),i=Vi(i,r,n,a,t[3],10,-1894986606),a=Vi(a,i,r,n,t[10],15,-1051523),n=Vi(n,a,i,r,t[1],21,-2054922799),r=Vi(r,n,a,i,t[8],6,1873313359),i=Vi(i,r,n,a,t[15],10,-30611744),a=Vi(a,i,r,n,t[6],15,-1560198380),n=Vi(n,a,i,r,t[13],21,1309151649),r=Vi(r,n,a,i,t[4],6,-145523070),i=Vi(i,r,n,a,t[11],10,-1120210379),a=Vi(a,i,r,n,t[2],15,718787259),n=Vi(n,a,i,r,t[9],21,-343485551),e[0]=hd(r,e[0]),e[1]=hd(n,e[1]),e[2]=hd(a,e[2]),e[3]=hd(i,e[3])}function eS(e,t,r,n,a,i){return t=hd(hd(t,e),hd(n,i)),hd(t<<a|t>>>32-a,r)}function zi(e,t,r,n,a,i,s){return eS(t&r|~t&n,e,t,a,i,s)}function qi(e,t,r,n,a,i,s){return eS(t&n|r&~n,e,t,a,i,s)}function Wi(e,t,r,n,a,i,s){return eS(t^r^n,e,t,a,i,s)}function Vi(e,t,r,n,a,i,s){return eS(r^(t|~n),e,t,a,i,s)}function WV(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)J4(n,q_e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(J4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,J4(n,a),n}function q_e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}xx=nr.atob.bind(nr),MA=nr.btoa.bind(nr);var $D="0123456789abcdef".split("");function W_e(e){for(var t="",r=0;r<4;r++)t+=$D[e>>8*r+4&15]+$D[e>>8*r&15];return t}function V_e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function BA(e){return WV(e).map(V_e).join("")}var H_e=function(e){for(var t=0;t<e.length;t++)e[t]=W_e(e[t]);return e.join("")}(WV("hello"))!="5d41402abc4b2a76b9719d911017c592";function hd(e,t){if(H_e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function UA(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var f=o[c];u=(u+f+s.charCodeAt(c))%256,o[c]=o[u],o[u]=f}r=e,n=o}else o=n;var d=t.length,h=0,p=0,g="";for(c=0;c<d;c++)p=(p+(f=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=f,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zD={print:4,modify:8,copy:16,"annot-forms":32};function Lp(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(zD.perm!==void 0)throw new Error("Invalid permission: "+o);a+=zD[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=BA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=UA(this.encryptionKey,this.padding)}function Ip(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function qD(e){if(hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){nr.console&&bn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function t_(e){if(!(this instanceof t_))return new t_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VV(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function kh(e,t,r,n,a){if(!(this instanceof kh))return new kh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VV.call(this,n,a)}function Zp(e,t,r,n,a){if(!(this instanceof Zp))return new Zp(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VV.call(this,n,a)}function tr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",f=null;hn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=qD;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(A){g=A};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(A){return v[A]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function j(){this.saveGraphicsState(),se(new Xt(et,0,0,-et,0,bf()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),u="n",b=y.ADVANCED}function k(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var O=p.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};p.advancedAPI=function(A){var H=b===y.COMPAT;return H&&j.call(this),typeof A!="function"||(A(this),H&&k.call(this)),this},p.compatAPI=function(A){var H=b===y.ADVANCED;return H&&k.call(this),typeof A!="function"||(A(this),H&&j.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var N,E=function(A){if(b!==y.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(A,H){var me=t||H;if(isNaN(A)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(me).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return D(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return D(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return D(A,16)};var M=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return D(A,2)},C=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return D(A,3)},P=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?A*et:b===y.ADVANCED?A:void 0},R=function(A){return b===y.COMPAT?bf()-A:b===y.ADVANCED?A:void 0},U=function(A){return P(R(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var ee,J="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return J},X=p.__private__.setFileId=function(A){return J=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ri=new Lp(f.userPermissions,f.userPassword,f.ownerPassword,J)),J};p.setFileId=function(A){return X(A),this},p.getFileId=function(){return ae()};var W=p.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),me=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),Ee=Math.abs(H%60),$e=[me,B(xe),"'",B(Ee),"'"].join("");return["D:",A.getFullYear(),B(A.getMonth()+1),B(A.getDate()),B(A.getHours()),B(A.getMinutes()),B(A.getSeconds()),$e].join("")},fe=p.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),me=parseInt(A.substr(6,2),10)-1,xe=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),$e=parseInt(A.substr(12,2),10),st=parseInt(A.substr(14,2),10);return new Date(H,me,xe,Ee,$e,st,0)},Se=p.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=W(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return ee=H},T=p.__private__.getCreationDate=function(A){var H=ee;return A==="jsDate"&&(H=fe(ee)),H};p.setCreationDate=function(A){return Se(A),this},p.getCreationDate=function(A){return T(A)};var L,B=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},z=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},te=0,ie=[],pe=[],Q=0,ge=[],_e=[],q=!1,Be=pe,We=function(){te=0,Q=0,pe=[],ie=[],ge=[],ne=ra(),oe=ra()};p.__private__.setCustomOutputDestination=function(A){q=!0,Be=A};var Ae=function(A){q||(Be=A)};p.__private__.resetCustomOutputDestination=function(){q=!1,Be=pe};var se=p.__private__.out=function(A){return A=A.toString(),Q+=A.length+1,Be.push(A),Be},Ie=p.__private__.write=function(A){return se(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},yt=p.__private__.getArrayBuffer=function(A){for(var H=A.length,me=new ArrayBuffer(H),xe=new Uint8Array(me);H--;)xe[H]=A.charCodeAt(H);return me},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Je};var gt=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return gt=b===y.ADVANCED?A/et:A,this};var wt,le=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?gt:gt*et},ve=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return ve=A,this},p.__private__.getR2L=p.getR2L=function(){return ve};var ke,Ge=p.__private__.setZoomMode=function(A){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))wt=A;else if(isNaN(A)){if(H.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');wt=A}else wt=parseInt(A,10)};p.__private__.getZoomMode=function(){return wt};var He,qe=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ke=A};p.__private__.getPageMode=function(){return ke};var tt=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');He=A};p.__private__.getLayoutMode=function(){return He},p.__private__.setDisplayMode=p.setDisplayMode=function(A,H,me){return Ge(A),tt(H),qe(me),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(vt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[A]},p.__private__.getDocumentProperties=function(){return vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var H in vt)vt.hasOwnProperty(H)&&A[H]&&(vt[H]=A[H]);return this},p.__private__.setDocumentProperty=function(A,H){if(Object.keys(vt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[A]=H};var dt,et,en,Vt,Gn,Yr={},sn={},Cs=[],Rr={},gc={},Tn={},Qs={},_l=null,yn=0,cr=[],Xr=new qD(p),ou=e.hotfixes||[],Ia={},Io={},Ro=[],Xt=function A(H,me,xe,Ee,$e,st){if(!(this instanceof A))return new A(H,me,xe,Ee,$e,st);isNaN(H)&&(H=1),isNaN(me)&&(me=0),isNaN(xe)&&(xe=0),isNaN(Ee)&&(Ee=1),isNaN($e)&&($e=0),isNaN(st)&&(st=0),this._matrix=[H,me,xe,Ee,$e,st]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(A)},Xt.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,me=A.sx*this.shy+A.shy*this.sy,xe=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,$e=A.tx*this.sx+A.ty*this.shx+this.tx,st=A.tx*this.shy+A.ty*this.sy+this.ty;return new Xt(H,me,xe,Ee,$e,st)},Xt.prototype.decompose=function(){var A=this.sx,H=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty,st=Math.sqrt(A*A+H*H),It=(A/=st)*me+(H/=st)*xe;me-=A*It,xe-=H*It;var Ht=Math.sqrt(me*me+xe*xe);return It/=Ht,A*(xe/=Ht)<H*(me/=Ht)&&(A=-A,H=-H,It=-It,st=-st),{scale:new Xt(st,0,0,Ht,0,0),translate:new Xt(1,0,0,1,Ee,$e),rotate:new Xt(A,H,-H,A,0,0),skew:new Xt(1,0,It,1,0,0)}},Xt.prototype.toString=function(A){return this.join(" ")},Xt.prototype.inversed=function(){var A=this.sx,H=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty,st=1/(A*xe-H*me),It=xe*st,Ht=-H*st,hr=-me*st,fr=A*st;return new Xt(It,Ht,hr,fr,-It*Ee-hr*$e,-Ht*Ee-fr*$e)},Xt.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,me=A.x*this.shy+A.y*this.sy+this.ty;return new J0(H,me)},Xt.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),me=this.applyToPoint(new J0(A.x+A.w,A.y+A.h));return new $g(H.x,H.y,me.x-H.x,me.y-H.y)},Xt.prototype.clone=function(){var A=this.sx,H=this.shy,me=this.shx,xe=this.sy,Ee=this.tx,$e=this.ty;return new Xt(A,H,me,xe,Ee,$e)},p.Matrix=Xt;var eo=p.matrixMult=function(A,H){return H.multiply(A)},Ts=new Xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ts;var Ii=function(A,H){if(!gc[A]){var me=(H instanceof kh?"Sh":"P")+(Object.keys(Rr).length+1).toString(10);H.id=me,gc[A]=me,Rr[me]=H,Xr.publish("addPattern",H)}};p.ShadingPattern=kh,p.TilingPattern=Zp,p.addShadingPattern=function(A,H){return E("addShadingPattern()"),Ii(A,H),this},p.beginTilingPattern=function(A){E("beginTilingPattern()"),By(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,H){E("endTilingPattern()"),H.stream=_e[L].join(`
`),Ii(A,H),Xr.publish("endTilingPattern",H),Ro.pop().restore()};var da=p.__private__.newObject=function(){var A=ra();return K(A,!0),A},ra=p.__private__.newObjectDeferred=function(){return te++,ie[te]=function(){return Q},te},K=function(A,H){return H=typeof H=="boolean"&&H,ie[A]=Q,H&&se(A+" 0 obj"),A},de=p.__private__.newAdditionalObject=function(){var A={objId:ra(),content:""};return ge.push(A),A},ne=ra(),oe=ra(),ue=p.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var me=parseFloat(H[0]);H=[me,me,me,"r"]}for(var xe="#",Ee=0;Ee<3;Ee++)xe+=("0"+Math.floor(255*parseFloat(H[Ee])).toString(16)).slice(-2);return xe},he=p.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var me=A.ch1,xe=A.ch2,Ee=A.ch3,$e=A.ch4,st=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var It=new qV(me);if(It.ok)me=It.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Ht=parseInt(me.substr(1),16);me=Ht>>16&255,xe=Ht>>8&255,Ee=255&Ht}if(xe===void 0||$e===void 0&&me===xe&&xe===Ee)if(typeof me=="string")H=me+" "+st[0];else switch(A.precision){case 2:H=M(me/255)+" "+st[0];break;case 3:default:H=C(me/255)+" "+st[0]}else if($e===void 0||hn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return H=["1.","1.","1.",st[1]].join(" ");if(typeof me=="string")H=[me,xe,Ee,st[1]].join(" ");else switch(A.precision){case 2:H=[M(me/255),M(xe/255),M(Ee/255),st[1]].join(" ");break;default:case 3:H=[C(me/255),C(xe/255),C(Ee/255),st[1]].join(" ")}}else if(typeof me=="string")H=[me,xe,Ee,$e,st[2]].join(" ");else switch(A.precision){case 2:H=[M(me),M(xe),M(Ee),M($e),st[2]].join(" ");break;case 3:default:H=[C(me),C(xe),C(Ee),C($e),st[2]].join(" ")}return H},Te=p.__private__.getFilters=function(){return s},Re=p.__private__.putStream=function(A){var H=(A=A||{}).data||"",me=A.filters||Te(),xe=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,$e=H.length,st=A.objectId,It=function(Mi){return Mi};if(f!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(It=Ri.encryptor(st,0));var Ht={};me===!0&&(me=["FlateEncode"]);var hr=A.additionalKeyValues||[],fr=(Ht=tr.API.processDataByFilters!==void 0?tr.API.processDataByFilters(H,me):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Ht.data.length!==0&&(hr.push({key:"Length",value:Ht.data.length}),Ee===!0&&hr.push({key:"Length1",value:$e})),fr.length!=0)if(fr.split("/").length-1==1)hr.push({key:"Filter",value:fr});else{hr.push({key:"Filter",value:"["+fr+"]"});for(var qr=0;qr<hr.length;qr+=1)if(hr[qr].key==="DecodeParms"){for(var Kn=[],na=0;na<Ht.reverseChain.split("/").length-1;na+=1)Kn.push("null");Kn.push(hr[qr].value),hr[qr].value="["+Kn.join(" ")+"]"}}se("<<");for(var Aa=0;Aa<hr.length;Aa++)se("/"+hr[Aa].key+" "+hr[Aa].value);se(">>"),Ht.data.length!==0&&(se("stream"),se(It(Ht.data)),se("endstream"))},Ce=p.__private__.putPage=function(A){var H=A.number,me=A.data,xe=A.objId,Ee=A.contentsObjId;K(xe,!0),se("<</Type /Page"),se("/Parent "+A.rootDictionaryObjId+" 0 R"),se("/Resources "+A.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(N(A.mediaBox.bottomLeftX))+" "+parseFloat(N(A.mediaBox.bottomLeftY))+" "+N(A.mediaBox.topRightX)+" "+N(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&se("/CropBox ["+N(A.cropBox.bottomLeftX)+" "+N(A.cropBox.bottomLeftY)+" "+N(A.cropBox.topRightX)+" "+N(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&se("/BleedBox ["+N(A.bleedBox.bottomLeftX)+" "+N(A.bleedBox.bottomLeftY)+" "+N(A.bleedBox.topRightX)+" "+N(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&se("/TrimBox ["+N(A.trimBox.bottomLeftX)+" "+N(A.trimBox.bottomLeftY)+" "+N(A.trimBox.topRightX)+" "+N(A.trimBox.topRightY)+"]"),A.artBox!==null&&se("/ArtBox ["+N(A.artBox.bottomLeftX)+" "+N(A.artBox.bottomLeftY)+" "+N(A.artBox.topRightX)+" "+N(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&se("/UserUnit "+A.userUnit),Xr.publish("putPage",{objId:xe,pageContext:cr[H],pageNumber:H,page:me}),se("/Contents "+Ee+" 0 R"),se(">>"),se("endobj");var $e=me.join(`
`);return b===y.ADVANCED&&($e+=`
Q`),K(Ee,!0),Re({data:$e,filters:Te(),objectId:Ee}),se("endobj"),xe},Fe=p.__private__.putPages=function(){var A,H,me=[];for(A=1;A<=yn;A++)cr[A].objId=ra(),cr[A].contentsObjId=ra();for(A=1;A<=yn;A++)me.push(Ce({number:A,data:_e[A],objId:cr[A].objId,contentsObjId:cr[A].contentsObjId,mediaBox:cr[A].mediaBox,cropBox:cr[A].cropBox,bleedBox:cr[A].bleedBox,trimBox:cr[A].trimBox,artBox:cr[A].artBox,userUnit:cr[A].userUnit,rootDictionaryObjId:ne,resourceDictionaryObjId:oe}));K(ne,!0),se("<</Type /Pages");var xe="/Kids [";for(H=0;H<yn;H++)xe+=me[H]+" 0 R ";se(xe+"]"),se("/Count "+yn),se(">>"),se("endobj"),Xr.publish("postPutPages")},Le=function(A){Xr.publish("putFont",{font:A,out:se,newObject:da,putStream:Re}),A.isAlreadyPutted!==!0&&(A.objectNumber=da(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Ip(A.postScriptName)),se("/Subtype /Type1"),typeof A.encoding=="string"&&se("/Encoding /"+A.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ut=function(){for(var A in Yr)Yr.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&Le(Yr[A])},bt=function(A){A.objectNumber=da();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[N(A.x),N(A.y),N(A.x+A.width),N(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var me=A.pages[1].join(`
`);Re({data:me,additionalKeyValues:H,objectId:A.objectNumber}),se("endobj")},Lt=function(){for(var A in Ia)Ia.hasOwnProperty(A)&&bt(Ia[A])},mt=function(A,H){var me,xe=[],Ee=1/(H-1);for(me=0;me<1;me+=Ee)xe.push(me);if(xe.push(1),A[0].offset!=0){var $e={offset:0,color:A[0].color};A.unshift($e)}if(A[A.length-1].offset!=1){var st={offset:1,color:A[A.length-1].color};A.push(st)}for(var It="",Ht=0,hr=0;hr<xe.length;hr++){for(me=xe[hr];me>A[Ht+1].offset;)Ht++;var fr=A[Ht].offset,qr=(me-fr)/(A[Ht+1].offset-fr),Kn=A[Ht].color,na=A[Ht+1].color;It+=z(Math.round((1-qr)*Kn[0]+qr*na[0]).toString(16))+z(Math.round((1-qr)*Kn[1]+qr*na[1]).toString(16))+z(Math.round((1-qr)*Kn[2]+qr*na[2]).toString(16))}return It.trim()},Pt=function(A,H){H||(H=21);var me=da(),xe=mt(A.colors,H),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+H+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re({data:xe,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),se("endobj"),A.objectNumber=da(),se("<< /ShadingType "+A.type),se("/ColorSpace /DeviceRGB");var $e="/Coords ["+N(parseFloat(A.coords[0]))+" "+N(parseFloat(A.coords[1]))+" ";A.type===2?$e+=N(parseFloat(A.coords[2]))+" "+N(parseFloat(A.coords[3])):$e+=N(parseFloat(A.coords[2]))+" "+N(parseFloat(A.coords[3]))+" "+N(parseFloat(A.coords[4]))+" "+N(parseFloat(A.coords[5])),se($e+="]"),A.matrix&&se("/Matrix ["+A.matrix.toString()+"]"),se("/Function "+me+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},lr=function(A,H){var me=ra(),xe=da();H.push({resourcesOid:me,objectOid:xe}),A.objectNumber=xe;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(N).join(" ")+"]"}),Ee.push({key:"XStep",value:N(A.xStep)}),Ee.push({key:"YStep",value:N(A.yStep)}),Ee.push({key:"Resources",value:me+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Re({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),se("endobj")},rn=function(A){var H;for(H in Rr)Rr.hasOwnProperty(H)&&(Rr[H]instanceof kh?Pt(Rr[H]):Rr[H]instanceof Zp&&lr(Rr[H],A))},gn=function(A){for(var H in A.objectNumber=da(),se("<<"),A)switch(H){case"opacity":se("/ca "+M(A[H]));break;case"stroke-opacity":se("/CA "+M(A[H]))}se(">>"),se("endobj")},ka=function(){var A;for(A in Tn)Tn.hasOwnProperty(A)&&gn(Tn[A])},Sl=function(){for(var A in se("/XObject <<"),Ia)Ia.hasOwnProperty(A)&&Ia[A].objectNumber>=0&&se("/"+A+" "+Ia[A].objectNumber+" 0 R");Xr.publish("putXobjectDict"),se(">>")},lu=function(){Ri.oid=da(),se("<<"),se("/Filter /Standard"),se("/V "+Ri.v),se("/R "+Ri.r),se("/U <"+Ri.toHexString(Ri.U)+">"),se("/O <"+Ri.toHexString(Ri.O)+">"),se("/P "+Ri.P),se(">>"),se("endobj")},vc=function(){for(var A in se("/Font <<"),Yr)Yr.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&se("/"+A+" "+Yr[A].objectNumber+" 0 R");se(">>")},jl=function(){if(Object.keys(Rr).length>0){for(var A in se("/Shading <<"),Rr)Rr.hasOwnProperty(A)&&Rr[A]instanceof kh&&Rr[A].objectNumber>=0&&se("/"+A+" "+Rr[A].objectNumber+" 0 R");Xr.publish("putShadingPatternDict"),se(">>")}},xc=function(A){if(Object.keys(Rr).length>0){for(var H in se("/Pattern <<"),Rr)Rr.hasOwnProperty(H)&&Rr[H]instanceof p.TilingPattern&&Rr[H].objectNumber>=0&&Rr[H].objectNumber<A&&se("/"+H+" "+Rr[H].objectNumber+" 0 R");Xr.publish("putTilingPatternDict"),se(">>")}},to=function(){if(Object.keys(Tn).length>0){var A;for(A in se("/ExtGState <<"),Tn)Tn.hasOwnProperty(A)&&Tn[A].objectNumber>=0&&se("/"+A+" "+Tn[A].objectNumber+" 0 R");Xr.publish("putGStateDict"),se(">>")}},ha=function(A){K(A.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vc(),jl(),xc(A.objectOid),to(),Sl(),se(">>"),se("endobj")},jy=function(){var A=[];ut(),ka(),Lt(),rn(A),Xr.publish("putResources"),A.forEach(ha),ha({resourcesOid:oe,objectOid:Number.MAX_SAFE_INTEGER}),Xr.publish("postPutResources")},Ny=function(){Xr.publish("putAdditionalObjects");for(var A=0;A<ge.length;A++){var H=ge[A];K(H.objId,!0),se(H.content),se("endobj")}Xr.publish("postPutAdditionalObjects")},ky=function(A){sn[A.fontName]=sn[A.fontName]||{},sn[A.fontName][A.fontStyle]=A.id},Og=function(A,H,me,xe,Ee){var $e={id:"F"+(Object.keys(Yr).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:me,encoding:xe,isStandardFont:Ee||!1,metadata:{}};return Xr.publish("addFont",{font:$e,instance:this}),Yr[$e.id]=$e,ky($e),$e.id},ZS=function(A){for(var H=0,me=Je.length;H<me;H++){var xe=Og.call(this,A[H][0],A[H][1],A[H][2],Je[H][3],!0);d===!1&&(h[xe]=!0);var Ee=A[H][0].split("-");ky({id:xe,fontName:Ee[0],fontStyle:Ee[1]||""})}Xr.publish("addFonts",{fonts:Yr,dictionary:sn})},Nl=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(xe){var H=xe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var me="Error in function "+H.split(`
`)[0].split("<")[0]+": "+xe.message;if(!nr.console)throw new Error(me);nr.console.error(me,xe),nr.alert&&alert(me)}},A.foo.bar=A,A.foo},H0=function(A,H){var me,xe,Ee,$e,st,It,Ht,hr,fr;if(Ee=(H=H||{}).sourceEncoding||"Unicode",st=H.outputEncoding,(H.autoencode||st)&&Yr[dt].metadata&&Yr[dt].metadata[Ee]&&Yr[dt].metadata[Ee].encoding&&($e=Yr[dt].metadata[Ee].encoding,!st&&Yr[dt].encoding&&(st=Yr[dt].encoding),!st&&$e.codePages&&(st=$e.codePages[0]),typeof st=="string"&&(st=$e[st]),st)){for(Ht=!1,It=[],me=0,xe=A.length;me<xe;me++)(hr=st[A.charCodeAt(me)])?It.push(String.fromCharCode(hr)):It.push(A[me]),It[me].charCodeAt(0)>>8&&(Ht=!0);A=It.join("")}for(me=A.length;Ht===void 0&&me!==0;)A.charCodeAt(me-1)>>8&&(Ht=!0),me--;if(!Ht)return A;for(It=H.noBOM?[]:[254,255],me=0,xe=A.length;me<xe;me++){if((fr=(hr=A.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(fr),It.push(hr-(fr<<8))}return String.fromCharCode.apply(void 0,It)},Ps=p.__private__.pdfEscape=p.pdfEscape=function(A,H){return H0(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fg=p.__private__.beginPage=function(A){_e[++yn]=[],cr[yn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ey(yn),Ae(_e[L])},Ay=function(A,H){var me,xe,Ee;switch(r=H||r,typeof A=="string"&&(me=x(A.toLowerCase()),Array.isArray(me)&&(xe=me[0],Ee=me[1])),Array.isArray(A)&&(xe=A[0]*et,Ee=A[1]*et),isNaN(xe)&&(xe=a[0],Ee=a[1]),(xe>14400||Ee>14400)&&(bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ee=Math.min(14400,Ee)),a=[xe,Ee],r.substr(0,1)){case"l":Ee>xe&&(a=[Ee,xe]);break;case"p":xe>Ee&&(a=[Ee,xe])}Fg(a),Dy(Rg),se(kl),Bg!==0&&se(Bg+" J"),Ug!==0&&se(Ug+" j"),Xr.publish("addPage",{pageNumber:yn})},JS=function(A){A>0&&A<=yn&&(_e.splice(A,1),cr.splice(A,1),yn--,L>yn&&(L=yn),this.setPage(L))},Ey=function(A){A>0&&A<=yn&&(L=A)},QS=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},Cy=function(A,H,me){var xe,Ee=void 0;return me=me||{},A=A!==void 0?A:Yr[dt].fontName,H=H!==void 0?H:Yr[dt].fontStyle,xe=A.toLowerCase(),sn[xe]!==void 0&&sn[xe][H]!==void 0?Ee=sn[xe][H]:sn[A]!==void 0&&sn[A][H]!==void 0?Ee=sn[A][H]:me.disableWarning===!1&&bn.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),Ee||me.noFallback||(Ee=sn.times[H])==null&&(Ee=sn.times.normal),Ee},ej=p.__private__.putInfo=function(){var A=da(),H=function(xe){return xe};for(var me in f!==null&&(H=Ri.encryptor(A,0)),se("<<"),se("/Producer ("+Ps(H("jsPDF "+tr.version))+")"),vt)vt.hasOwnProperty(me)&&vt[me]&&se("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Ps(H(vt[me]))+")");se("/CreationDate ("+Ps(H(ee))+")"),se(">>"),se("endobj")},Dg=p.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||ne;switch(da(),se("<<"),se("/Type /Catalog"),se("/Pages "+H+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+wt;me.substr(me.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+M(wt)+"]")}switch(He||(He="continuous"),He){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ke&&se("/PageMode /"+ke),Xr.publish("putCatalog"),se(">>"),se("endobj")},tj=p.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(te+1)),se("/Root "+te+" 0 R"),se("/Info "+(te-1)+" 0 R"),f!==null&&se("/Encrypt "+Ri.oid+" 0 R"),se("/ID [ <"+J+"> <"+J+"> ]"),se(">>")},rj=p.__private__.putHeader=function(){se("%PDF-"+g),se("%ºß¬à")},nj=p.__private__.putXRef=function(){var A="0000000000";se("xref"),se("0 "+(te+1)),se("0000000000 65535 f ");for(var H=1;H<=te;H++)typeof ie[H]=="function"?se((A+ie[H]()).slice(-10)+" 00000 n "):ie[H]!==void 0?se((A+ie[H]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},cu=p.__private__.buildDocument=function(){We(),Ae(pe),Xr.publish("buildDocument"),rj(),Fe(),Ny(),jy(),f!==null&&lu(),ej(),Dg();var A=Q;return nj(),tj(),se("startxref"),se(""+A),se("%%EOF"),Ae(_e[L]),pe.join(`
`)},G0=p.__private__.getBlob=function(A){return new Blob([yt(A)],{type:"application/pdf"})},K0=p.output=p.__private__.output=Nl(function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return cu();case"save":p.save(H.filename);break;case"arraybuffer":return yt(cu());case"blob":return G0(cu());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(G0(cu()))||void 0;bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",xe=cu();try{me=MA(xe)}catch{me=MA(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ee=H.pdfObjectUrl,$e="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",It=nr.open();return It!==null&&It.document.write(st),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',hr=nr.open();if(hr!==null){hr.document.write(Ht);var fr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=H.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Kn=nr.open();if(Kn!==null&&(Kn.document.write(qr),Kn.document.title=H.filename),Kn||typeof safari>"u")return Kn;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",H);default:return null}}),Ty=function(A){return Array.isArray(ou)===!0&&ou.indexOf(A)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Ty("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var Ri=null;Se(),X();var aj=function(A){return f!==null?Ri.encryptor(A,0):function(H){return H}},Py=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cr[A].objId,pageNumber:A,pageContext:cr[A]}},ur=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in cr)if(cr[H].objId===A)break;return Py(H)},ij=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:cr[L].objId,pageNumber:L,pageContext:cr[L]}};p.addPage=function(){return Ay.apply(this,arguments),this},p.setPage=function(){return Ey.apply(this,arguments),Ae.call(this,_e[L]),this},p.insertPage=function(A){return this.addPage(),this.movePage(L,A),this},p.movePage=function(A,H){var me,xe;if(A>H){me=_e[A],xe=cr[A];for(var Ee=A;Ee>H;Ee--)_e[Ee]=_e[Ee-1],cr[Ee]=cr[Ee-1];_e[H]=me,cr[H]=xe,this.setPage(H)}else if(A<H){me=_e[A],xe=cr[A];for(var $e=A;$e<H;$e++)_e[$e]=_e[$e+1],cr[$e]=cr[$e+1];_e[H]=me,cr[H]=xe,this.setPage(H)}return this},p.deletePage=function(){return JS.apply(this,arguments),this},p.__private__.text=p.text=function(A,H,me,xe,Ee){var $e,st,It,Ht,hr,fr,qr,Kn,na,Aa=(xe=xe||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof me=="string"||Array.isArray(me))){var Mi=me;me=H,H=A,A=Mi}if(arguments[3]instanceof Xt?(E("The transform parameter of text() with a Matrix value"),na=Ee):(It=arguments[4],Ht=arguments[5],hn(qr=arguments[3])==="object"&&qr!==null||(typeof It=="string"&&(Ht=It,It=null),typeof qr=="string"&&(Ht=qr,qr=null),typeof qr=="number"&&(It=qr,qr=null),xe={flags:qr,angle:It,align:Ht})),isNaN(H)||isNaN(me)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Aa;var Ya="",Al=!1,ro=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:sh,bc=Aa.internal.scaleFactor;function Uy(jn){return jn=jn.split("	").join(Array(xe.TabLen||9).join(" ")),Ps(jn,qr)}function Vg(jn){for(var Nn,ma=jn.concat(),Ra=[],pu=ma.length;pu--;)typeof(Nn=ma.shift())=="string"?Ra.push(Nn):Array.isArray(jn)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?Ra.push(Nn[0]):Ra.push([Nn[0],Nn[1],Nn[2]]);return Ra}function Hg(jn,Nn){var ma;if(typeof jn=="string")ma=Nn(jn)[0];else if(Array.isArray(jn)){for(var Ra,pu,ev=jn.concat(),cp=[],Vy=ev.length;Vy--;)typeof(Ra=ev.shift())=="string"?cp.push(Nn(Ra)[0]):Array.isArray(Ra)&&typeof Ra[0]=="string"&&(pu=Nn(Ra[0],Ra[1],Ra[2]),cp.push([pu[0],pu[1],pu[2]]));ma=cp}return ma}var ep=!1,Gg=!0;if(typeof A=="string")ep=!0;else if(Array.isArray(A)){var Kg=A.concat();st=[];for(var tp,mi=Kg.length;mi--;)(typeof(tp=Kg.shift())!="string"||Array.isArray(tp)&&typeof tp[0]!="string")&&(Gg=!1);ep=Gg}if(ep===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var rp=gt/Aa.internal.scaleFactor,np=rp*(ro-1);switch(xe.baseline){case"bottom":me-=np;break;case"top":me+=rp-np;break;case"hanging":me+=rp-2*np;break;case"middle":me+=rp/2-np}if((fr=xe.maxWidth||0)>0&&(typeof A=="string"?A=Aa.splitTextToSize(A,fr):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(jn,Nn){return jn.concat(Aa.splitTextToSize(Nn,fr))},[]))),$e={text:A,x:H,y:me,options:xe,mutex:{pdfEscape:Ps,activeFontKey:dt,fonts:Yr,activeFontSize:gt}},Xr.publish("preProcessText",$e),A=$e.text,It=(xe=$e.options).angle,!(na instanceof Xt)&&It&&typeof It=="number"){It*=Math.PI/180,xe.rotationDirection===0&&(It=-It),b===y.ADVANCED&&(It=-It);var ap=Math.cos(It),Yg=Math.sin(It);na=new Xt(ap,Yg,-Yg,ap,0,0)}else It&&It instanceof Xt&&(na=It);b!==y.ADVANCED||na||(na=Ts),(hr=xe.charSpace||Z0)!==void 0&&(Ya+=N(P(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Kn=xe.horizontalScale)!==void 0&&(Ya+=N(100*Kn)+` Tz
`),xe.lang;var Os=-1,mj=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Xg=Aa.internal.getCurrentPageInfo().pageContext;switch(mj){case 0:case!1:case"fill":Os=0;break;case 1:case!0:case"stroke":Os=1;break;case 2:case"fillThenStroke":Os=2;break;case 3:case"invisible":Os=3;break;case 4:case"fillAndAddForClipping":Os=4;break;case 5:case"strokeAndAddPathForClipping":Os=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Os=6;break;case 7:case"addToPathForClipping":Os=7}var $y=Xg.usedRenderingMode!==void 0?Xg.usedRenderingMode:-1;Os!==-1?Ya+=Os+` Tr
`:$y!==-1&&(Ya+=`0 Tr
`),Os!==-1&&(Xg.usedRenderingMode=Os),Ht=xe.align||"left";var Mo,ip=gt*ro,zy=Aa.internal.pageSize.getWidth(),qy=Yr[dt];hr=xe.charSpace||Z0,fr=xe.maxWidth||0,qr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var _f=[],ch=function(jn){return Aa.getStringUnitWidth(jn,{font:qy,charSpace:hr,fontSize:gt,doKerning:!1})*gt/bc};if(Object.prototype.toString.call(A)==="[object Array]"){var Fs;st=Vg(A),Ht!=="left"&&(Mo=st.map(ch));var ls,Sf=0;if(Ht==="right"){H-=Mo[0],A=[],mi=st.length;for(var fu=0;fu<mi;fu++)fu===0?(ls=wc(H),Fs=uu(me)):(ls=P(Sf-Mo[fu]),Fs=-ip),A.push([st[fu],ls,Fs]),Sf=Mo[fu]}else if(Ht==="center"){H-=Mo[0]/2,A=[],mi=st.length;for(var du=0;du<mi;du++)du===0?(ls=wc(H),Fs=uu(me)):(ls=P((Sf-Mo[du])/2),Fs=-ip),A.push([st[du],ls,Fs]),Sf=Mo[du]}else if(Ht==="left"){A=[],mi=st.length;for(var sp=0;sp<mi;sp++)A.push(st[sp])}else if(Ht==="justify"&&qy.encoding==="Identity-H"){A=[],mi=st.length,fr=fr!==0?fr:zy;for(var hu=0,pa=0;pa<mi;pa++)if(Fs=pa===0?uu(me):-ip,ls=pa===0?wc(H):hu,pa<mi-1){var Zg=P((fr-Mo[pa])/(st[pa].split(" ").length-1)),cs=st[pa].split(" ");A.push([cs[0]+" ",ls,Fs]),hu=0;for(var Bo=1;Bo<cs.length;Bo++){var op=(ch(cs[Bo-1]+" "+cs[Bo])-ch(cs[Bo]))*bc+Zg;Bo==cs.length-1?A.push([cs[Bo],op,0]):A.push([cs[Bo]+" ",op,0]),hu-=op}}else A.push([st[pa],ls,Fs]);A.push(["",hu,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],mi=st.length,fr=fr!==0?fr:zy,pa=0;pa<mi;pa++)Fs=pa===0?uu(me):-ip,ls=pa===0?wc(H):0,pa<mi-1?_f.push(N(P((fr-Mo[pa])/(st[pa].split(" ").length-1)))):_f.push(0),A.push([st[pa],ls,Fs])}}var Wy=typeof xe.R2L=="boolean"?xe.R2L:ve;Wy===!0&&(A=Hg(A,function(jn,Nn,ma){return[jn.split("").reverse().join(""),Nn,ma]})),$e={text:A,x:H,y:me,options:xe,mutex:{pdfEscape:Ps,activeFontKey:dt,fonts:Yr,activeFontSize:gt}},Xr.publish("postProcessText",$e),A=$e.text,Al=$e.mutex.isHex||!1;var Jg=Yr[dt].encoding;Jg!=="WinAnsiEncoding"&&Jg!=="StandardEncoding"||(A=Hg(A,function(jn,Nn,ma){return[Uy(jn),Nn,ma]})),st=Vg(A),A=[];for(var uh,fh,jf,dh=0,lp=1,hh=Array.isArray(st[0])?lp:dh,Nf="",Qg=function(jn,Nn,ma){var Ra="";return ma instanceof Xt?(ma=typeof xe.angle=="number"?eo(ma,new Xt(1,0,0,1,jn,Nn)):eo(new Xt(1,0,0,1,jn,Nn),ma),b===y.ADVANCED&&(ma=eo(new Xt(1,0,0,-1,0,0),ma)),Ra=ma.join(" ")+` Tm
`):Ra=N(jn)+" "+N(Nn)+` Td
`,Ra},Uo=0;Uo<st.length;Uo++){switch(Nf="",hh){case lp:jf=(Al?"<":"(")+st[Uo][0]+(Al?">":")"),uh=parseFloat(st[Uo][1]),fh=parseFloat(st[Uo][2]);break;case dh:jf=(Al?"<":"(")+st[Uo]+(Al?">":")"),uh=wc(H),fh=uu(me)}_f!==void 0&&_f[Uo]!==void 0&&(Nf=_f[Uo]+` Tw
`),Uo===0?A.push(Nf+Qg(uh,fh,na)+jf):hh===dh?A.push(Nf+jf):hh===lp&&A.push(Nf+Qg(uh,fh,na)+jf)}A=hh===dh?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var $o=`BT
/`;return $o+=dt+" "+gt+` Tf
`,$o+=N(gt*ro)+` TL
`,$o+=oh+`
`,$o+=Ya,$o+=A,se($o+="ET"),h[dt]=!0,Aa};var sj=p.__private__.clip=p.clip=function(A){return se(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return sj("evenodd")},p.__private__.discardPath=p.discardPath=function(){return se("n"),this};var yc=p.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return yc(A)&&(u=A),this};var Oy=p.__private__.getStyle=p.getStyle=function(A){var H=u;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},Fy=p.close=function(){return se("h"),this};p.stroke=function(){return se("S"),this},p.fill=function(A){return Y0("f",A),this},p.fillEvenOdd=function(A){return Y0("f*",A),this},p.fillStroke=function(A){return Y0("B",A),this},p.fillStrokeEvenOdd=function(A){return Y0("B*",A),this};var Y0=function(A,H){hn(H)==="object"?lj(H,A):se(A)},Lg=function(A){A===null||b===y.ADVANCED&&A===void 0||(A=Oy(A),se(A))};function oj(A,H,me,xe,Ee){var $e=new Zp(H||this.boundingBox,me||this.xStep,xe||this.yStep,this.gState,Ee||this.matrix);$e.stream=this.stream;var st=A+"$$"+this.cloneIndex+++"$$";return Ii(st,$e),$e}var lj=function(A,H){var me=gc[A.key],xe=Rr[me];if(xe instanceof kh)se("q"),se(cj(H)),xe.gState&&p.setGState(xe.gState),se(A.matrix.toString()+" cm"),se("/"+me+" sh"),se("Q");else if(xe instanceof Zp){var Ee=new Xt(1,0,0,-1,0,bf());A.matrix&&(Ee=Ee.multiply(A.matrix||Ts),me=oj.call(xe,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),se("q"),se("/Pattern cs"),se("/"+me+" scn"),xe.gState&&p.setGState(xe.gState),se(H),se("Q")}},cj=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ig=p.moveTo=function(A,H){return se(N(P(A))+" "+N(U(H))+" m"),this},ih=p.lineTo=function(A,H){return se(N(P(A))+" "+N(U(H))+" l"),this},yf=p.curveTo=function(A,H,me,xe,Ee,$e){return se([N(P(A)),N(U(H)),N(P(me)),N(U(xe)),N(P(Ee)),N(U($e)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,H,me,xe,Ee){if(isNaN(A)||isNaN(H)||isNaN(me)||isNaN(xe)||!yc(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[me-A,xe-H]],A,H,[1,1],Ee||"S"):this.lines([[me-A,xe-H]],A,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,H,me,xe,Ee,$e){var st,It,Ht,hr,fr,qr,Kn,na,Aa,Mi,Ya,Al;if(typeof A=="number"&&(Al=me,me=H,H=A,A=Al),xe=xe||[1,1],$e=$e||!1,isNaN(H)||isNaN(me)||!Array.isArray(A)||!Array.isArray(xe)||!yc(Ee)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ig(H,me),st=xe[0],It=xe[1],hr=A.length,Mi=H,Ya=me,Ht=0;Ht<hr;Ht++)(fr=A[Ht]).length===2?(Mi=fr[0]*st+Mi,Ya=fr[1]*It+Ya,ih(Mi,Ya)):(qr=fr[0]*st+Mi,Kn=fr[1]*It+Ya,na=fr[2]*st+Mi,Aa=fr[3]*It+Ya,Mi=fr[4]*st+Mi,Ya=fr[5]*It+Ya,yf(qr,Kn,na,Aa,Mi,Ya));return $e&&Fy(),Lg(Ee),this},p.path=function(A){for(var H=0;H<A.length;H++){var me=A[H],xe=me.c;switch(me.op){case"m":Ig(xe[0],xe[1]);break;case"l":ih(xe[0],xe[1]);break;case"c":yf.apply(this,xe);break;case"h":Fy()}}return this},p.__private__.rect=p.rect=function(A,H,me,xe,Ee){if(isNaN(A)||isNaN(H)||isNaN(me)||isNaN(xe)||!yc(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(xe=-xe),se([N(P(A)),N(U(H)),N(P(me)),N(P(xe)),"re"].join(" ")),Lg(Ee),this},p.__private__.triangle=p.triangle=function(A,H,me,xe,Ee,$e,st){if(isNaN(A)||isNaN(H)||isNaN(me)||isNaN(xe)||isNaN(Ee)||isNaN($e)||!yc(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-A,xe-H],[Ee-me,$e-xe],[A-Ee,H-$e]],A,H,[1,1],st,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,H,me,xe,Ee,$e,st){if(isNaN(A)||isNaN(H)||isNaN(me)||isNaN(xe)||isNaN(Ee)||isNaN($e)||!yc(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*me),$e=Math.min($e,.5*xe),this.lines([[me-2*Ee,0],[Ee*It,0,Ee,$e-$e*It,Ee,$e],[0,xe-2*$e],[0,$e*It,-Ee*It,$e,-Ee,$e],[2*Ee-me,0],[-Ee*It,0,-Ee,-$e*It,-Ee,-$e],[0,2*$e-xe],[0,-$e*It,Ee*It,-$e,Ee,-$e]],A+Ee,H,[1,1],st,!0),this},p.__private__.ellipse=p.ellipse=function(A,H,me,xe,Ee){if(isNaN(A)||isNaN(H)||isNaN(me)||isNaN(xe)||!yc(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*me,st=4/3*(Math.SQRT2-1)*xe;return Ig(A+me,H),yf(A+me,H-st,A+$e,H-xe,A,H-xe),yf(A-$e,H-xe,A-me,H-st,A-me,H),yf(A-me,H+st,A-$e,H+xe,A,H+xe),yf(A+$e,H+xe,A+me,H+st,A+me,H),Lg(Ee),this},p.__private__.circle=p.circle=function(A,H,me,xe){if(isNaN(A)||isNaN(H)||isNaN(me)||!yc(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,me,me,xe)},p.setFont=function(A,H,me){return me&&(H=O(H,me)),dt=Cy(A,H,{disableWarning:!1}),this};var uj=p.__private__.getFont=p.getFont=function(){return Yr[Cy.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,H,me={};for(A in sn)if(sn.hasOwnProperty(A))for(H in me[A]=[],sn[A])sn[A].hasOwnProperty(H)&&me[A].push(H);return me},p.addFont=function(A,H,me,xe,Ee){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(me=O(me,xe)),Ee=Ee||"Identity-H",Og.call(this,A,H,me,Ee)};var sh,Rg=e.lineWidth||.200025,X0=p.__private__.getLineWidth=p.getLineWidth=function(){return Rg},Dy=p.__private__.setLineWidth=p.setLineWidth=function(A){return Rg=A,se(N(P(A))+" w"),this};p.__private__.setLineDash=tr.API.setLineDash=tr.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(me){return N(P(me))}).join(" "),H=N(P(H)),se("["+A+"] "+H+" d"),this};var Ly=p.__private__.getLineHeight=p.getLineHeight=function(){return gt*sh};p.__private__.getLineHeight=p.getLineHeight=function(){return gt*sh};var Iy=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(sh=A),this},Ry=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return sh};Iy(e.lineHeight);var wc=p.__private__.getHorizontalCoordinate=function(A){return P(A)},uu=p.__private__.getVerticalCoordinate=function(A){return b===y.ADVANCED?A:cr[L].mediaBox.topRightY-cr[L].mediaBox.bottomLeftY-P(A)},fj=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return N(wc(A))},wf=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return N(uu(A))},kl=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ue(kl)},p.__private__.setStrokeColor=p.setDrawColor=function(A,H,me,xe){return kl=he({ch1:A,ch2:H,ch3:me,ch4:xe,pdfColorType:"draw",precision:2}),se(kl),this};var Mg=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ue(Mg)},p.__private__.setFillColor=p.setFillColor=function(A,H,me,xe){return Mg=he({ch1:A,ch2:H,ch3:me,ch4:xe,pdfColorType:"fill",precision:2}),se(Mg),this};var oh=e.textColor||"0 g",dj=p.__private__.getTextColor=p.getTextColor=function(){return ue(oh)};p.__private__.setTextColor=p.setTextColor=function(A,H,me,xe){return oh=he({ch1:A,ch2:H,ch3:me,ch4:xe,pdfColorType:"text",precision:3}),this};var Z0=e.charSpace,hj=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Z0||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Z0=A,this};var Bg=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bg=H,se(H+" J"),this};var Ug=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ug=H,se(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(N(P(A))+" M"),this},p.GState=t_,p.setGState=function(A){(A=typeof A=="string"?Tn[Qs[A]]:My(null,A)).equals(_l)||(se("/"+A.id+" gs"),_l=A)};var My=function(A,H){if(!A||!Qs[A]){var me=!1;for(var xe in Tn)if(Tn.hasOwnProperty(xe)&&Tn[xe].equals(H)){me=!0;break}if(me)H=Tn[xe];else{var Ee="GS"+(Object.keys(Tn).length+1).toString(10);Tn[Ee]=H,H.id=Ee}return A&&(Qs[A]=H.id),Xr.publish("addGState",H),H}};p.addGState=function(A,H){return My(A,H),this},p.saveGraphicsState=function(){return se("q"),Cs.push({key:dt,size:gt,color:oh}),this},p.restoreGraphicsState=function(){se("Q");var A=Cs.pop();return dt=A.key,gt=A.size,oh=A.color,_l=null,this},p.setCurrentTransformationMatrix=function(A){return se(A.toString()+" cm"),this},p.comment=function(A){return se("#"+A),this};var J0=function(A,H){var me=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function($e){isNaN($e)||(me=parseFloat($e))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function($e){isNaN($e)||(xe=parseFloat($e))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function($e){Ee=$e.toString()}}),this},$g=function(A,H,me,xe){J0.call(this,A,H),this.type="rect";var Ee=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(st){isNaN(st)||(Ee=parseFloat(st))}});var $e=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(st){isNaN(st)||($e=parseFloat(st))}}),this},zg=function(){this.page=yn,this.currentPage=L,this.pages=_e.slice(0),this.pagesContext=cr.slice(0),this.x=en,this.y=Vt,this.matrix=Gn,this.width=lh(L),this.height=bf(L),this.outputDestination=Be,this.id="",this.objectNumber=-1};zg.prototype.restore=function(){yn=this.page,L=this.currentPage,cr=this.pagesContext,_e=this.pages,en=this.x,Vt=this.y,Gn=this.matrix,qg(L,this.width),Wg(L,this.height),Be=this.outputDestination};var By=function(A,H,me,xe,Ee){Ro.push(new zg),yn=L=0,_e=[],en=A,Vt=H,Gn=Ee,Fg([me,xe])},pj=function(A){if(Io[A])Ro.pop().restore();else{var H=new zg,me="Xo"+(Object.keys(Ia).length+1).toString(10);H.id=me,Io[A]=me,Ia[me]=H,Xr.publish("addFormObject",H),Ro.pop().restore()}};for(var Q0 in p.beginFormObject=function(A,H,me,xe,Ee){return By(A,H,me,xe,Ee),this},p.endFormObject=function(A){return pj(A),this},p.doFormObject=function(A,H){var me=Ia[Io[A]];return se("q"),se(H.toString()+" cm"),se("/"+me.id+" Do"),se("Q"),this},p.getFormObject=function(A){var H=Ia[Io[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(wh(G0(cu()),A),typeof wh.unload=="function"&&nr.setTimeout&&setTimeout(wh.unload,911),this):new Promise(function(me,xe){try{var Ee=wh(G0(cu()),A);typeof wh.unload=="function"&&nr.setTimeout&&setTimeout(wh.unload,911),me(Ee)}catch($e){xe($e.message)}})},tr.API)tr.API.hasOwnProperty(Q0)&&(Q0==="events"&&tr.API.events.length?function(A,H){var me,xe,Ee;for(Ee=H.length-1;Ee!==-1;Ee--)me=H[Ee][0],xe=H[Ee][1],A.subscribe.apply(A,[me].concat(typeof xe=="function"?[xe]:xe))}(Xr,tr.API.events):p[Q0]=tr.API[Q0]);var lh=p.getPageWidth=function(A){return(cr[A=A||L].mediaBox.topRightX-cr[A].mediaBox.bottomLeftX)/et},qg=p.setPageWidth=function(A,H){cr[A].mediaBox.topRightX=H*et+cr[A].mediaBox.bottomLeftX},bf=p.getPageHeight=function(A){return(cr[A=A||L].mediaBox.topRightY-cr[A].mediaBox.bottomLeftY)/et},Wg=p.setPageHeight=function(A,H){cr[A].mediaBox.topRightY=H*et+cr[A].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ps,getStyle:Oy,getFont:uj,getFontSize:le,getCharSpace:hj,getTextColor:dj,getLineHeight:Ly,getLineHeightFactor:Ry,getLineWidth:X0,write:Ie,getHorizontalCoordinate:wc,getVerticalCoordinate:uu,getCoordinateString:fj,getVerticalCoordinateString:wf,collections:{},newObject:da,newAdditionalObject:de,newObjectDeferred:ra,newObjectDeferredBegin:K,getFilters:Te,putStream:Re,events:Xr,scaleFactor:et,pageSize:{getWidth:function(){return lh(L)},setWidth:function(A){qg(L,A)},getHeight:function(){return bf(L)},setHeight:function(A){Wg(L,A)}},encryptionOptions:f,encryption:Ri,getEncryptor:aj,output:K0,getNumberOfPages:QS,pages:_e,out:se,f2:M,f3:C,getPageInfo:Py,getPageInfoByObjId:ur,getCurrentPageInfo:ij,getPDFVersion:m,Point:J0,Rectangle:$g,Matrix:Xt,hasHotfix:Ty},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return lh(L)},set:function(A){qg(L,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return bf(L)},set:function(A){Wg(L,A)},enumerable:!0,configurable:!0}),ZS.call(p,Je),dt="F1",Ay(a,r),Xr.publish("initialized"),p}Lp.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Lp.prototype.processOwnerPassword=function(e,t){return UA(BA(t).substr(0,5),e)},Lp.prototype.encryptor=function(e,t){var r=BA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return UA(r,n)}},t_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||hn(e)!==hn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tr.API={events:[]},tr.version="3.0.1";var sa=tr.API,CT=1,B0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ap=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(e){return e.toFixed(2)},Bf=function(e){return e.toFixed(5)};sa.__acroform__={};var Xs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},WD=function(e){return e*CT},Ec=function(e){var t=new GV,r=zt.internal.getHeight(e)||0,n=zt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dr(n)),Number(dr(r))],t},G_e=sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},K_e=sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Y_e=sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ya=sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y_e(e,t-1)},wa=sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G_e(e,t-1)},ba=sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K_e(e,t-1)},X_e=sa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(dr(c.lowerLeft_X)),Number(dr(c.lowerLeft_Y)),Number(dr(c.upperRight_X)),Number(dr(c.upperRight_Y))]},Z_e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$A(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+dr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ec(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$A=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,s=zt.internal.getHeight(e)||0;s=s<0?-s:s;var o=zt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(C,P,R){if(C+1<a.length){var U=P+" "+a[C+1][0];return Q2(U,e,R).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,f,d=Q2("3",e,i).height,h=e.multiline?s-i:(s-d)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Q2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var j=!1;if(a[b].length!==1&&v!==a[b].length-1){if((d+2)*(y+2)+2>s)continue e;x+=a[b][v],j=!0,m=b,b--}else{x=(x+=a[b][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(b),O=c(k,x,i),N=b>=a.length-1;if(O&&!N){x+=" ",v=0;continue}if(O||N){if(N)m=k;else if(e.multiline&&(d+2)*(y+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(y+2)+2>s)continue e;m=k}}for(var E="",D=g;D<=m;D++){var M=a[D];if(e.multiline){if(D===m){E+=M[v]+" ",v=(v+1)%M.length;continue}if(D===g){E+=M[M.length-1]+" ";continue}}E+=M[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,f=Q2(E,e,i).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}t+=dr(u)+" "+dr(p)+` Td
`,t+="("+B0(E)+`) Tj
`,t+=-dr(u)+` 0 Td
`,p=-(i+2),f=0,g=j?m:m+1,y++,x=""}break}return n.text=t,n.fontSize=i,n},Q2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},J_e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Q_e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},e5e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),hn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},t5e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(J_e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CT=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new KV,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Q_e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=X_e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=zt.createDefaultAppearanceStream(o),hn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Z_e(o);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&e5e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},HV=sa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),hn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+B0(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+B0(n(e))+")"},Bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bc.prototype.toString=function(){return this.objId+" 0 R"},Bc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:HV(a,this.objId,this.scope)}):a instanceof Bc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var GV=function(){Bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Xs(GV,Bc);var KV=function(){Bc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+B0(r(e))+")"}},set:function(r){e=r}})};Xs(KV,Bc);var hc=function e(){Bc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ya(t,3)},set:function(x){x?this.F=wa(t,3):this.F=ba(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof r_)return;i="FieldObject"+e.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+B0(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/CT:u},set:function(x){u=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof r_||this instanceof Zh))return Q4(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ri?h:Q4(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof ri?x:x.substr(0,1)==="("?Ap(x.substr(1,x.length-2)):Ap(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri?Ap(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof ri?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ri?p:Q4(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof ri?x:x.substr(0,1)==="("?Ap(x.substr(1,x.length-2)):Ap(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri?Ap(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof ri?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,1)},set:function(x){x?this.Ff=wa(this.Ff,1):this.Ff=ba(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,2)},set:function(x){x?this.Ff=wa(this.Ff,2):this.Ff=ba(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,3)},set:function(x){x?this.Ff=wa(this.Ff,3):this.Ff=ba(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Xs(hc,Bc);var gm=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HV(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,18)},set:function(r){r?this.Ff=wa(this.Ff,18):this.Ff=ba(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wa(this.Ff,19):this.Ff=ba(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,20)},set:function(r){r?(this.Ff=wa(this.Ff,20),t.sort()):this.Ff=ba(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,22)},set:function(r){r?this.Ff=wa(this.Ff,22):this.Ff=ba(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(r){r?this.Ff=wa(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,27)},set:function(r){r?this.Ff=wa(this.Ff,27):this.Ff=ba(this.Ff,27)}}),this.hasAppearanceStream=!1};Xs(gm,hc);var vm=function(){gm.call(this),this.fontName="helvetica",this.combo=!1};Xs(vm,gm);var xm=function(){vm.call(this),this.combo=!0};Xs(xm,vm);var Iw=function(){xm.call(this),this.edit=!0};Xs(Iw,xm);var ri=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,15)},set:function(r){r?this.Ff=wa(this.Ff,15):this.Ff=ba(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,16)},set:function(r){r?this.Ff=wa(this.Ff,16):this.Ff=ba(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,17)},set:function(r){r?this.Ff=wa(this.Ff,17):this.Ff=ba(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(r){r?this.Ff=wa(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+B0(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){hn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Xs(ri,hc);var Rw=function(){ri.call(this),this.pushButton=!0};Xs(Rw,ri);var ym=function(){ri.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Xs(ym,ri);var r_=function(){var e,t;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+B0(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xs(r_,hc),ym.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ym.prototype.createOption=function(e){var t=new r_;return t.Parent=this,t.optionName=e,this.Kids.push(t),r5e.call(this.scope,t),t};var Mw=function(){ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Xs(Mw,ri);var Zh=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,13)},set:function(t){t?this.Ff=wa(this.Ff,13):this.Ff=ba(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,21)},set:function(t){t?this.Ff=wa(this.Ff,21):this.Ff=ba(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(t){t?this.Ff=wa(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,24)},set:function(t){t?this.Ff=wa(this.Ff,24):this.Ff=ba(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,25)},set:function(t){t?this.Ff=wa(this.Ff,25):this.Ff=ba(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(t){t?this.Ff=wa(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xs(Zh,hc);var Bw=function(){Zh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,14)},set:function(e){e?this.Ff=wa(this.Ff,14):this.Ff=ba(this.Ff,14)}}),this.password=!0};Xs(Bw,Zh);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$A(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(e))+" "+dr(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+dr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=zt.internal.getHeight(e),s=zt.internal.getWidth(e),o=$A(e,e.caption);return a.push("1 g"),a.push("0 0 "+dr(s)+" "+dr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dr(s-1)+" "+dr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+dr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(e))+" "+dr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Circle.YesNormal,t.D[e]=zt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=zt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bf(zt.internal.getWidth(e)/2)+" "+Bf(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zt.internal.Bezier_C).toFixed(5)),s=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bf(zt.internal.getWidth(e)/2)+" "+Bf(zt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bf(zt.internal.getWidth(e)/2)+" "+Bf(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bf(zt.internal.getWidth(e)/2)+" "+Bf(zt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Cross.YesNormal,t.D[e]=zt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var r=[],n=zt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+dr(zt.internal.getWidth(e)-2)+" "+dr(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dr(n.x1.x)+" "+dr(n.x1.y)+" m"),r.push(dr(n.x2.x)+" "+dr(n.x2.y)+" l"),r.push(dr(n.x4.x)+" "+dr(n.x4.y)+" m"),r.push(dr(n.x3.x)+" "+dr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=zt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(zt.internal.getWidth(e))+" "+dr(zt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dr(zt.internal.getWidth(e)-2)+" "+dr(zt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dr(r.x1.x)+" "+dr(r.x1.y)+" m"),n.push(dr(r.x2.x)+" "+dr(r.x2.y)+" l"),n.push(dr(r.x4.x)+" "+dr(r.x4.y)+" m"),n.push(dr(r.x3.x)+" "+dr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(e))+" "+dr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zt.internal.getWidth(e),r=zt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(e){var t=0;return hn(e)==="object"&&(t=WD(e.Rect[2])),t},zt.internal.getHeight=function(e){var t=0;return hn(e)==="object"&&(t=WD(e.Rect[3])),t};var r5e=sa.addField=function(e){if(t5e(this,e),!(e instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=gm,sa.AcroFormListBox=vm,sa.AcroFormComboBox=xm,sa.AcroFormEditBox=Iw,sa.AcroFormButton=ri,sa.AcroFormPushButton=Rw,sa.AcroFormRadioButton=ym,sa.AcroFormCheckBox=Mw,sa.AcroFormTextField=Zh,sa.AcroFormPasswordField=Bw,sa.AcroFormAppearance=zt,sa.AcroForm={ChoiceField:gm,ListBox:vm,ComboBox:xm,EditBox:Iw,Button:ri,PushButton:Rw,RadioButton:ym,CheckBox:Mw,TextField:Zh,PasswordField:Bw,Appearance:zt},tr.AcroForm={ChoiceField:gm,ListBox:vm,ComboBox:xm,EditBox:Iw,Button:ri,PushButton:Rw,RadioButton:ym,CheckBox:Mw,TextField:Zh,PasswordField:Bw,Appearance:zt};function YV(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,P){var R,U,ee,J,ae,X=t;if((P=P||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(O(C))for(ae in r)for(ee=r[ae],R=0;R<ee.length;R+=1){for(J=!0,U=0;U<ee[R].length;U+=1)if(ee[R][U]!==void 0&&ee[R][U]!==C[U]){J=!1;break}if(J===!0){X=ae;break}}else for(ae in r)for(ee=r[ae],R=0;R<ee.length;R+=1){for(J=!0,U=0;U<ee[R].length;U+=1)if(ee[R][U]!==void 0&&ee[R][U]!==C.charCodeAt(U)){J=!1;break}if(J===!0){X=ae;break}}return X===t&&P!==t&&(X=P),X},a=function C(P){for(var R=this.internal.write,U=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:P.width}),J.push({key:"Height",value:P.height}),P.colorSpace===v.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===v.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ae="",X=0,W=P.transparency.length;X<W;X++)ae+=P.transparency[X]+" "+P.transparency[X]+" ";J.push({key:"Mask",value:"["+ae+"]"})}P.sMask!==void 0&&J.push({key:"SMask",value:P.objectId+1+" 0 R"});var fe=P.filter!==void 0?["/"+P.filter]:void 0;if(U({data:P.data,additionalKeyValues:J,alreadyAppliedFilters:fe,objectId:P.objectId}),R("endobj"),"sMask"in P&&P.sMask!==void 0){var Se="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,T={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:Se,data:P.sMask};"filter"in P&&(T.filter=P.filter),C.call(this,T)}if(P.colorSpace===v.INDEXED){var L=this.internal.newObject();U({data:E(new Uint8Array(P.palette)),objectId:L}),R("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var P in C)a.call(this,C[P])},s=function(){var C,P=this.internal.collections.addImage_images,R=this.internal.write;for(var U in P)R("/I"+(C=P[U]).index,C.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var C=this.internal.collections.addImage_images;return o.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(C){return typeof e["process"+C.toUpperCase()]=="function"},d=function(C){return hn(C)==="object"&&C.nodeType===1},h=function(C,P){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var R=""+C.getAttribute("src");if(R.indexOf("data:image/")===0)return xx(unescape(R).split("base64,").pop());var U=e.loadFile(R,!0);if(U!==void 0)return U}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ee;switch(P){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;case"JPEG":case"JPG":default:ee="image/jpeg"}return xx(C.toDataURL(ee,1).split("base64,").pop())}},p=function(C){var P=this.internal.collections.addImage_images;if(P){for(var R in P)if(C===P[R].alias)return P[R]}},g=function(C,P,R){return C||P||(C=-96,P=-96),C<0&&(C=-1*R.width*72/C/this.internal.scaleFactor),P<0&&(P=-1*R.height*72/P/this.internal.scaleFactor),C===0&&(C=P*R.width/R.height),P===0&&(P=C*R.height/R.width),[C,P]},m=function(C,P,R,U,ee,J){var ae=g.call(this,R,U,ee),X=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,fe=c.call(this);if(R=ae[0],U=ae[1],fe[ee.index]=ee,J){J*=Math.PI/180;var Se=Math.cos(J),T=Math.sin(J),L=function(z){return z.toFixed(4)},B=[L(Se),L(T),L(-1*T),L(Se),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,X(C),W(P+U),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([X(R),"0","0",X(U),"0","0","cm"].join(" "))):this.internal.write([X(R),"0","0",X(U),X(C),W(P+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(C){var P,R,U=0;if(typeof C=="string")for(R=C.length,P=0;P<R;P++)U=(U<<5)-U+C.charCodeAt(P),U|=0;else if(O(C))for(R=C.byteLength/2,P=0;P<R;P++)U=(U<<5)-U+C[P],U|=0;return U},b=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var P=!0;return C.length===0&&(P=!1),C.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(P=!1),P},j=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var P=C.indexOf(",");return P<0?null:C.substring(0,P).trim().endsWith("base64")?C.substring(P+1):null},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return k()&&C instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(C){return k()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(C){for(var P=C.length,R=new Uint8Array(P),U=0;U<P;U++)R[U]=C.charCodeAt(U);return R},E=e.__addimage__.arrayBufferToBinaryString=function(C){for(var P="",R=O(C)?C:new Uint8Array(C),U=0;U<R.length;U+=8192)P+=String.fromCharCode.apply(null,R.subarray(U,U+8192));return P};e.addImage=function(){var C,P,R,U,ee,J,ae,X,W;if(typeof arguments[1]=="number"?(P=t,R=arguments[1],U=arguments[2],ee=arguments[3],J=arguments[4],ae=arguments[5],X=arguments[6],W=arguments[7]):(P=arguments[1],R=arguments[2],U=arguments[3],ee=arguments[4],J=arguments[5],ae=arguments[6],X=arguments[7],W=arguments[8]),hn(C=arguments[0])==="object"&&!d(C)&&"imageData"in C){var fe=C;C=fe.imageData,P=fe.format||P||t,R=fe.x||R||0,U=fe.y||U||0,ee=fe.w||fe.width||ee,J=fe.h||fe.height||J,ae=fe.alias||ae,X=fe.compression||X,W=fe.rotation||fe.angle||W}var Se=this.internal.getFilters();if(X===void 0&&Se.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(R)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var T=D.call(this,C,P,ae,X);return m.call(this,R,U,ee,J,T,W),this};var D=function(C,P,R,U){var ee,J,ae;if(typeof C=="string"&&n(C)===t){C=unescape(C);var X=M(C,!1);(X!==""||(X=e.loadFile(C,!0))!==void 0)&&(C=X)}if(d(C)&&(C=h(C,P)),P=n(C,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ae=R)==null||ae.length===0)&&(R=function(W){return typeof W=="string"||O(W)?y(W):O(W.data)?y(W.data):null}(C)),(ee=p.call(this,R))||(k()&&(C instanceof Uint8Array||P==="RGBA"||(J=C,C=N(C))),ee=this["process"+P.toUpperCase()](C,u.call(this),R,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:x.NONE}(U),J)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},M=e.__addimage__.convertBase64ToBinaryString=function(C,P){P=typeof P!="boolean"||P;var R,U="";if(typeof C=="string"){var ee;R=(ee=j(C))!==null&&ee!==void 0?ee:C;try{U=xx(R)}catch(J){if(P)throw b(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(C){var P,R,U="";if(d(C)&&(C=h(C)),typeof C=="string"&&n(C)===t&&((U=M(C,!1))===""&&(U=e.loadFile(C)||""),C=U),R=n(C),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!k()||C instanceof Uint8Array||(C=N(C)),!(P=this["process"+R.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=R,P}})(tr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,d=0;d<u.length&&!f;d++)switch((n=u[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(x(y))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(u*f)}else o=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,y="",b=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(b++,typeof(x=x[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(x),x=r,b=0),v===m.length-1&&(x=r,y+=m.charAt(v-(b-1)),v-=b-1,b=0)):(x=r,y+=m.charAt(v-b),v-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,x){return s(m)?i(m)===!1?-1:!u(m)||!s(v)&&!s(x)||!s(x)&&o(v)||o(m)&&!s(v)||o(m)&&c(v)||o(m)&&o(v)?0:f(m)&&s(v)&&!o(v)&&s(x)&&u(x)?3:o(m)||!s(x)?1:2:-1},p=function(m){var v=0,x=0,y=0,b="",j="",k="",O=(m=m||"").split("\\s+"),N=[];for(v=0;v<O.length;v+=1){for(N.push(""),x=0;x<O[v].length;x+=1)b=O[v][x],j=O[v][x-1],k=O[v][x+1],s(b)?(y=h(b,j,k),N[v]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):N[v]+=b;N[v]=d(N[v])}return N.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var y=0;for(x=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?x.push([p(v[y][0]),v[y][1],v[y][2]]):x.push([p(v[y])]);m=x}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(tr.API),tr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(v.splitTextToSize(j,x))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:d})*f)&&(p=m);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,d,h){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,g,m,v,x=[],y=[],b=[],j={},k={},O=[],N=[],E=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,R=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=U,this.setFontSize(M),d==null)y=x=Object.keys(f[0]),b=x.map(function(){return"left"});else if(Array.isArray(d)&&hn(d[0])==="object")for(x=d.map(function(fe){return fe.name}),y=d.map(function(fe){return fe.prompt||fe.name||""}),b=d.map(function(fe){return fe.align||"left"}),p=0;p<d.length;p+=1)k[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=x=d,b=x.map(function(){return"left"}));if(E||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<x.length;p+=1){for(j[v=x[p]]=f.map(function(fe){return fe[v]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)O.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,O)+P+P,O=[]}if(D){var ee={};for(p=0;p<x.length;p+=1)ee[x[p]]={},ee[x[p]].text=y[p],ee[x[p]].align=b[p];var J=o.call(this,ee,k);N=x.map(function(fe){return new i(c,u,k[fe],J,ee[fe].text,void 0,ee[fe].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ae=d.reduce(function(fe,Se){return fe[Se.name]=Se.align,fe},{});for(p=0;p<f.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:f[p]},this);var X=o.call(this,f[p],k);for(m=0;m<x.length;m+=1){var W=f[p][x[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:W},this),s.call(this,new i(c,u,k[x[m]],X,W,p+2,ae[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var f=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+f+f},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,h.push(f)),f.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(tr.API);var XV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zA=YV(ZV),JV=[100,200,300,400,500,600,700,800,900],n5e=YV(JV);function qA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return XV[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof zA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function VD(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var a5e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function i5e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},a5e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=qA(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+GD(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var f=zA[c],d=f<=zA.normal?-1:1,h=VD(u,ZV,f,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var f=XV[c],d=0;d<f.length;++d)if(u[f[d]])return u[f[d]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=n5e[c],d=VD(u,JV,f,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+GD(i)+"'.");return s}function KD(e){return e.trimLeft()}function s5e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function o5e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ew,YD,XD,eN=["times"];(function(e){var t,r,n,a,i,s,o,c,u,f=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=T;Object.defineProperty(this,"pdf",{get:function(){return L}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Ae){B=!!Ae}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Ae){z=!!Ae}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(Ae){isNaN(Ae)||(te=Ae)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Ae){isNaN(Ae)||(ie=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var se;typeof Ae=="number"?se=[Ae,Ae,Ae,Ae]:((se=new Array(4))[0]=Ae[0],se[1]=Ae.length>=2?Ae[1]:se[0],se[2]=Ae.length>=3?Ae[2]:se[0],se[3]=Ae.length>=4?Ae[3]:se[1]),u.margin=se}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ae){pe=Ae}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(Ae){Q=Ae}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Ae){ge=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof f&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(Ae){_e=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var se;se=h(Ae),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var se=h(Ae);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var q=null;function Be(Ae,se){if(q===null){var Ie=function(yt){var Je=[];return Object.keys(yt).forEach(function(gt){yt[gt].forEach(function(wt){var le=null;switch(wt){case"bold":le={family:gt,weight:"bold"};break;case"italic":le={family:gt,style:"italic"};break;case"bolditalic":le={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":le={family:gt}}le!==null&&(le.ref={name:gt,style:wt},Je.push(le))})}),Je}(Ae.getFontList());q=function(yt){for(var Je={},gt=0;gt<yt.length;++gt){var wt=qA(yt[gt]),le=wt.family,ve=wt.stretch,ke=wt.style,Ge=wt.weight;Je[le]=Je[le]||{},Je[le][ve]=Je[le][ve]||{},Je[le][ve][ke]=Je[le][ve][ke]||{},Je[le][ve][ke][Ge]=wt}return Je}(Ie.concat(se))}return q}var We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Ae){q=null,We=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var se;if(this.ctx.font=Ae,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Ie=se[1];se[2];var yt=se[3],Je=se[4];se[5];var gt=se[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(wt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var le=function(vt){var dt,et,en=[],Vt=vt.trim();if(Vt==="")return eN;if(Vt in HD)return[HD[Vt]];for(;Vt!=="";){switch(et=null,dt=(Vt=KD(Vt)).charAt(0)){case'"':case"'":et=s5e(Vt.substring(1),dt);break;default:et=o5e(Vt)}if(et===null||(en.push(et[0]),(Vt=KD(et[1]))!==""&&Vt.charAt(0)!==","))return eN;Vt=Vt.replace(/^,/,"")}return en}(gt);if(this.fontFaces){var ve=i5e(Be(this.pdf,this.fontFaces),le.map(function(vt){return{family:vt,stretch:"normal",weight:yt,style:Ie}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var ke="";(yt==="bold"||parseInt(yt,10)>=700||Ie==="bold")&&(ke="bold"),Ie==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Ge="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qe=0;qe<le.length;qe++){if(this.pdf.internal.getFont(le[qe],ke,{noFallback:!0,disableWarning:!0})!==void 0){Ge=le[qe];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(le[qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=le[qe],ke="bold";else if(this.pdf.internal.getFont(le[qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=le[qe],ke="normal";break}}if(Ge===""){for(var tt=0;tt<le.length;tt++)if(He[le[tt]]){Ge=He[le[tt]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){j.call(this,"fill",!1)},d.prototype.stroke=function(){j.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,L){if(isNaN(T)||isNaN(L))throw bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(T,L));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(T,L)},d.prototype.closePath=function(){var T=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&hn(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){T=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},d.prototype.lineTo=function(T,L){if(isNaN(T)||isNaN(L))throw bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(T,L));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,L,B,z){if(isNaN(B)||isNaN(z)||isNaN(T)||isNaN(L))throw bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(B,z)),ie=this.ctx.transform.applyToPoint(new s(T,L));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},d.prototype.bezierCurveTo=function(T,L,B,z,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z))throw bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new s(te,ie)),Q=this.ctx.transform.applyToPoint(new s(T,L)),ge=this.ctx.transform.applyToPoint(new s(B,z));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:ge.x,y2:ge.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},d.prototype.arc=function(T,L,B,z,te,ie){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z)||isNaN(te))throw bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new s(T,L));T=pe.x,L=pe.y;var Q=this.ctx.transform.applyToPoint(new s(0,B)),ge=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(Q.x-ge.x,2)+Math.pow(Q.y-ge.y,2))}Math.abs(te-z)>=2*Math.PI&&(z=0,te=2*Math.PI),this.path.push({type:"arc",x:T,y:L,radius:B,startAngle:z,endAngle:te,counterclockwise:ie})},d.prototype.arcTo=function(T,L,B,z,te){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,L,B,z){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z))throw bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,L),this.lineTo(T+B,L),this.lineTo(T+B,L+z),this.lineTo(T,L+z),this.lineTo(T,L),this.lineTo(T+B,L),this.lineTo(T,L)},d.prototype.fillRect=function(T,L,B,z){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z))throw bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,L,B,z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},d.prototype.strokeRect=function(T,L,B,z){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z))throw bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,L,B,z),this.stroke())},d.prototype.clearRect=function(T,L,B,z){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z))throw bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,L,B,z))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(L),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(T){var L,B,z,te;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))L=0,B=0,z=0,te=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ie!==null)L=parseInt(ie[1]),B=parseInt(ie[2]),z=parseInt(ie[3]),te=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)L=parseInt(ie[1]),B=parseInt(ie[2]),z=parseInt(ie[3]),te=parseFloat(ie[4]);else{if(te=1,typeof T=="string"&&T.charAt(0)!=="#"){var pe=new qV(T);T=pe.ok?pe.toHex():"#000000"}T.length===4?(L=T.substring(1,2),L+=L,B=T.substring(2,3),B+=B,z=T.substring(3,4),z+=z):(L=T.substring(1,3),B=T.substring(3,5),z=T.substring(5,7)),L=parseInt(L,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:L,g:B,b:z,a:te,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,L,B,z){if(isNaN(L)||isNaN(B)||typeof T!="string")throw bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!p.call(this)){var te=X(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;P.call(this,{text:T,x:L,y:B,scale:ie,angle:te,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(T,L,B,z){if(isNaN(L)||isNaN(B)||typeof T!="string")throw bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){z=isNaN(z)?void 0:z;var te=X(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;P.call(this,{text:T,x:L,y:B,scale:ie,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(T){if(typeof T!="string")throw bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,B=this.pdf.internal.scaleFactor,z=L.internal.getFontSize(),te=L.getStringUnitWidth(T)*z/L.internal.scaleFactor,ie=function(pe){var Q=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this};return new ie({width:te*=Math.round(96*B/72*1e4)/1e4})},d.prototype.scale=function(T,L){if(isNaN(T)||isNaN(L))throw bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(T,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.rotate=function(T){if(isNaN(T))throw bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(T,L){if(isNaN(T)||isNaN(L))throw bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,T,L);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.transform=function(T,L,B,z,te,ie){if(isNaN(T)||isNaN(L)||isNaN(B)||isNaN(z)||isNaN(te)||isNaN(ie))throw bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(T,L,B,z,te,ie);this.ctx.transform=this.ctx.transform.multiply(pe)},d.prototype.setTransform=function(T,L,B,z,te,ie){T=isNaN(T)?1:T,L=isNaN(L)?0:L,B=isNaN(B)?0:B,z=isNaN(z)?1:z,te=isNaN(te)?0:te,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(T,L,B,z,te,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,L,B,z,te,ie,pe,Q,ge){var _e=this.pdf.getImageProperties(T),q=1,Be=1,We=1,Ae=1;z!==void 0&&Q!==void 0&&(We=Q/z,Ae=ge/te,q=_e.width/z*Q/z,Be=_e.height/te*ge/te),ie===void 0&&(ie=L,pe=B,L=0,B=0),z!==void 0&&Q===void 0&&(Q=z,ge=te),z===void 0&&Q===void 0&&(Q=_e.width,ge=_e.height);for(var se,Ie=this.ctx.transform.decompose(),yt=X(Ie.rotate.shx),Je=new c,gt=(Je=(Je=(Je=Je.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new o(ie-L*We,pe-B*Ae,z*q,te*Be)),wt=v.call(this,gt),le=[],ve=0;ve<wt.length;ve+=1)le.indexOf(wt[ve])===-1&&le.push(wt[ve]);if(b(le),this.autoPaging)for(var ke=le[0],Ge=le[le.length-1],He=ke;He<Ge+1;He++){this.pdf.setPage(He);var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=He===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=He===1?0:vt+(He-2)*dt;if(this.ctx.clip_path.length!==0){var en=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(se,this.posX+this.margin[3],-et+tt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=en}var Vt=JSON.parse(JSON.stringify(gt));Vt=y([Vt],this.posX+this.margin[3],-et+tt+this.ctx.prevPageLastElemOffset)[0];var Gn=(He>ke||He<Ge)&&m.call(this);Gn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,dt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,yt),Gn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,yt)};var v=function(T,L,B){var z=[];L=L||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":z.push(Math.floor((T.y+te)/B)+1);break;case"arc":z.push(Math.floor((T.y+te-T.radius)/B)+1),z.push(Math.floor((T.y+te+T.radius)/B)+1);break;case"qct":var ie=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);z.push(Math.floor((ie.y+te)/B)+1),z.push(Math.floor((ie.y+ie.h+te)/B)+1);break;case"bct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);z.push(Math.floor((pe.y+te)/B)+1),z.push(Math.floor((pe.y+pe.h+te)/B)+1);break;case"rect":z.push(Math.floor((T.y+te)/B)+1),z.push(Math.floor((T.y+T.h+te)/B)+1)}for(var Q=0;Q<z.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<z[Q];)x.call(this);return z},x=function(){var T=this.fillStyle,L=this.strokeStyle,B=this.font,z=this.lineCap,te=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=L,this.font=B,this.lineCap=z,this.lineWidth=te,this.lineJoin=ie},y=function(T,L,B){for(var z=0;z<T.length;z++)switch(T[z].type){case"bct":T[z].x2+=L,T[z].y2+=B;case"qct":T[z].x1+=L,T[z].y1+=B;case"mt":case"lt":case"arc":default:T[z].x+=L,T[z].y+=B}return T},b=function(T){return T.sort(function(L,B){return L-B})},j=function(T,L){for(var B,z,te=this.fillStyle,ie=this.strokeStyle,pe=this.lineCap,Q=this.lineWidth,ge=Math.abs(Q*this.ctx.transform.scaleX),_e=this.lineJoin,q=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),We=[],Ae=0;Ae<Be.length;Ae++)if(Be[Ae].x!==void 0)for(var se=v.call(this,Be[Ae]),Ie=0;Ie<se.length;Ie+=1)We.indexOf(se[Ie])===-1&&We.push(se[Ie]);for(var yt=0;yt<We.length;yt++)for(;this.pdf.internal.getNumberOfPages()<We[yt];)x.call(this);if(b(We),this.autoPaging)for(var Je=We[0],gt=We[We.length-1],wt=Je;wt<gt+1;wt++){this.pdf.setPage(wt),this.fillStyle=te,this.strokeStyle=ie,this.lineCap=pe,this.lineWidth=ge,this.lineJoin=_e;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=wt===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=wt===1?0:ke+(wt-2)*Ge;if(this.ctx.clip_path.length!==0){var qe=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(B,this.posX+this.margin[3],-He+ve+this.ctx.prevPageLastElemOffset),k.call(this,T,!0),this.path=qe}if(z=JSON.parse(JSON.stringify(q)),this.path=y(z,this.posX+this.margin[3],-He+ve+this.ctx.prevPageLastElemOffset),L===!1||wt===0){var tt=(wt>Je||wt<gt)&&m.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,Ge,null).clip().discardPath()),k.call(this,T,L),tt&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}else this.lineWidth=ge,k.call(this,T,L),this.lineWidth=Q;this.path=q},k=function(T,L){if((T!=="stroke"||L||!g.call(this))&&(T==="stroke"||L||!p.call(this))){for(var B,z,te=[],ie=this.path,pe=0;pe<ie.length;pe++){var Q=ie[pe];switch(Q.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:Q,deltas:[],abs:[]});break;case"lt":var ge=te.length;if(ie[pe-1]&&!isNaN(ie[pe-1].x)&&(B=[Q.x-ie[pe-1].x,Q.y-ie[pe-1].y],ge>0)){for(;ge>=0;ge--)if(te[ge-1].close!==!0&&te[ge-1].begin!==!0){te[ge-1].deltas.push(B),te[ge-1].abs.push(Q);break}}break;case"bct":B=[Q.x1-ie[pe-1].x,Q.y1-ie[pe-1].y,Q.x2-ie[pe-1].x,Q.y2-ie[pe-1].y,Q.x-ie[pe-1].x,Q.y-ie[pe-1].y],te[te.length-1].deltas.push(B);break;case"qct":var _e=ie[pe-1].x+2/3*(Q.x1-ie[pe-1].x),q=ie[pe-1].y+2/3*(Q.y1-ie[pe-1].y),Be=Q.x+2/3*(Q.x1-Q.x),We=Q.y+2/3*(Q.y1-Q.y),Ae=Q.x,se=Q.y;B=[_e-ie[pe-1].x,q-ie[pe-1].y,Be-ie[pe-1].x,We-ie[pe-1].y,Ae-ie[pe-1].x,se-ie[pe-1].y],te[te.length-1].deltas.push(B);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(Q)}}z=L?null:T==="stroke"?"stroke":"fill";for(var Ie=!1,yt=0;yt<te.length;yt++)if(te[yt].arc)for(var Je=te[yt].abs,gt=0;gt<Je.length;gt++){var wt=Je[gt];wt.type==="arc"?E.call(this,wt.x,wt.y,wt.radius,wt.startAngle,wt.endAngle,wt.counterclockwise,void 0,L,!Ie):R.call(this,wt.x,wt.y),Ie=!0}else if(te[yt].close===!0)this.pdf.internal.out("h"),Ie=!1;else if(te[yt].begin!==!0){var le=te[yt].start.x,ve=te[yt].start.y;U.call(this,te[yt].deltas,le,ve),Ie=!0}z&&D.call(this,z),L&&M.call(this)}},O=function(T){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-B;case"top":return T+L-B;case"hanging":return T+L-2*B;case"middle":return T+L/2-B;case"ideographic":return T;case"alphabetic":default:return T}},N=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(L,B){this.colorStops.push([L,B])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(T,L,B,z,te,ie,pe,Q,ge){for(var _e=J.call(this,B,z,te,ie),q=0;q<_e.length;q++){var Be=_e[q];q===0&&(ge?C.call(this,Be.x1+T,Be.y1+L):R.call(this,Be.x1+T,Be.y1+L)),ee.call(this,T,L,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}Q?M.call(this):D.call(this,pe)},D=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(T,L){this.pdf.internal.out(r(T)+" "+n(L)+" m")},P=function(T){var L;switch(T.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var B=this.pdf.getTextDimensions(T.text),z=O.call(this,T.y),te=N.call(this,z)-B.h,ie=this.ctx.transform.applyToPoint(new s(T.x,z)),pe=this.ctx.transform.decompose(),Q=new c;Q=(Q=(Q=Q.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var ge,_e,q,Be=this.ctx.transform.applyToRectangle(new o(T.x,z,B.w,B.h)),We=Q.applyToRectangle(new o(T.x,te,B.w,B.h)),Ae=v.call(this,We),se=[],Ie=0;Ie<Ae.length;Ie+=1)se.indexOf(Ae[Ie])===-1&&se.push(Ae[Ie]);if(b(se),this.autoPaging)for(var yt=se[0],Je=se[se.length-1],gt=yt;gt<Je+1;gt++){this.pdf.setPage(gt);var wt=gt===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],ke=ve-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],He=Ge-this.margin[3],qe=gt===1?0:le+(gt-2)*ke;if(this.ctx.clip_path.length!==0){var tt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ge,this.posX+this.margin[3],-1*qe+wt),k.call(this,"fill",!0),this.path=tt}var vt=y([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*T.scale),q=this.lineWidth,this.lineWidth=q*T.scale);var dt=this.autoPaging!=="text";if(dt||vt.y+vt.h<=ve){if(dt||vt.y>=wt&&vt.x<=Ge){var et=dt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ge-vt.x)[0],en=y([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset)[0],Vt=dt&&(gt>yt||gt<Je)&&m.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,ke,null).clip().discardPath()),this.pdf.text(et,en.x,en.y,{angle:T.angle,align:L,renderingMode:T.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else vt.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-vt.y);T.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=q)}else T.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*T.scale),q=this.lineWidth,this.lineWidth=q*T.scale),this.pdf.text(T.text,ie.x+this.posX,ie.y+this.posY,{angle:T.angle,align:L,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=q)},R=function(T,L,B,z){B=B||0,z=z||0,this.pdf.internal.out(r(T+B)+" "+n(L+z)+" l")},U=function(T,L,B){return this.pdf.lines(T,L,B,null,null)},ee=function(T,L,B,z,te,ie,pe,Q){this.pdf.internal.out([t(a(B+T)),t(i(z+L)),t(a(te+T)),t(i(ie+L)),t(a(pe+T)),t(i(Q+L)),"c"].join(" "))},J=function(T,L,B,z){for(var te=2*Math.PI,ie=Math.PI/2;L>B;)L-=te;var pe=Math.abs(B-L);pe<te&&z&&(pe=te-pe);for(var Q=[],ge=z?-1:1,_e=L;pe>1e-5;){var q=_e+ge*Math.min(pe,ie);Q.push(ae.call(this,T,_e,q)),pe-=Math.abs(q-_e),_e=q}return Q},ae=function(T,L,B){var z=(B-L)/2,te=T*Math.cos(z),ie=T*Math.sin(z),pe=te,Q=-ie,ge=pe*pe+Q*Q,_e=ge+pe*te+Q*ie,q=4/3*(Math.sqrt(2*ge*_e)-_e)/(pe*ie-Q*te),Be=pe-q*Q,We=Q+q*pe,Ae=Be,se=-We,Ie=z+L,yt=Math.cos(Ie),Je=Math.sin(Ie);return{x1:T*Math.cos(L),y1:T*Math.sin(L),x2:Be*yt-We*Je,y2:Be*Je+We*yt,x3:Ae*yt-se*Je,y3:Ae*Je+se*yt,x4:T*Math.cos(B),y4:T*Math.sin(B)}},X=function(T){return 180*T/Math.PI},W=function(T,L,B,z,te,ie){var pe=T+.5*(B-T),Q=L+.5*(z-L),ge=te+.5*(B-te),_e=ie+.5*(z-ie),q=Math.min(T,te,pe,ge),Be=Math.max(T,te,pe,ge),We=Math.min(L,ie,Q,_e),Ae=Math.max(L,ie,Q,_e);return new o(q,We,Be-q,Ae-We)},fe=function(T,L,B,z,te,ie,pe,Q){var ge,_e,q,Be,We,Ae,se,Ie,yt,Je,gt,wt,le,ve,ke=B-T,Ge=z-L,He=te-B,qe=ie-z,tt=pe-te,vt=Q-ie;for(_e=0;_e<41;_e++)yt=(se=(q=T+(ge=_e/40)*ke)+ge*((We=B+ge*He)-q))+ge*(We+ge*(te+ge*tt-We)-se),Je=(Ie=(Be=L+ge*Ge)+ge*((Ae=z+ge*qe)-Be))+ge*(Ae+ge*(ie+ge*vt-Ae)-Ie),_e==0?(gt=yt,wt=Je,le=yt,ve=Je):(gt=Math.min(gt,yt),wt=Math.min(wt,Je),le=Math.max(le,yt),ve=Math.max(ve,Je));return new o(Math.round(gt),Math.round(wt),Math.round(le-gt),Math.round(ve-wt))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,L,B=(T=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:L}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(tr.API),function(e){var t=function(i){var s,o,c,u,f,d,h,p,g,m;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(m=f%85))/85)-(g=f%85))/85)-(p=f%85))/85)-(h=f%85))/85)%85,o.push(d+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,x){for(var y=x;y>0;y--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,u,f,d=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(i+=s="uuuuu"[m](i[h]%5||5))[h];f>u;u+=5)o=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(x,y){for(var b=y;b>0;b--)x.pop()}(c,s[h]),d.fromCharCode.apply(d,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=RA(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,f){var d=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],x=String.fromCharCode;for(h=0;h<m;h+=1)v.push(x(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",c,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?f(p(this.responseText)):f(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(tr.API),function(e){function t(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):Pd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):Pd(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=hn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,f){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)f!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(c(h,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||tr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(u,s,o);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,tr.getPageSize=function(s,o,c){if(hn(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/f,m=h[d][0]/f;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:f,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(qA):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(tr.API),tr.API.addJS=function(e){return XD=e,this.internal.events.subscribe("postPutResources",function(){ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ew+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ew!==void 0&&YD!==void 0&&this.internal.out("/Names <</JavaScript "+ew+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var d=r.internal.newObject();f.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(tr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}p=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(tr.API);var Ep,tw,ZD,JD,QD,l5e=function(){var e,t,r;function n(i){var s,o,c,u,f,d,h,p,g,m,v,x,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var j,k;for(k=[],j=0;j<4;++j)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*f/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(d,h,p,g){var m,v,x,y,b,j,k,O,N,E,D,M,C,P,R,U,ee,J,ae,X,W,fe=Math.ceil((u.width-d)/p),Se=Math.ceil((u.height-h)/g),T=u.width==fe&&u.height==Se;for(P=s*fe,M=T?o:new Uint8Array(P*Se),j=i.length,C=0,v=0;C<Se&&c<j;){switch(i[c++]){case 0:for(y=ee=0;ee<P;y=ee+=1)M[v++]=i[c++];break;case 1:for(y=J=0;J<P;y=J+=1)m=i[c++],b=y<s?0:M[v-s],M[v++]=(m+b)%256;break;case 2:for(y=ae=0;ae<P;y=ae+=1)m=i[c++],x=(y-y%s)/s,R=C&&M[(C-1)*P+x*s+y%s],M[v++]=(R+m)%256;break;case 3:for(y=X=0;X<P;y=X+=1)m=i[c++],x=(y-y%s)/s,b=y<s?0:M[v-s],R=C&&M[(C-1)*P+x*s+y%s],M[v++]=(m+Math.floor((b+R)/2))%256;break;case 4:for(y=W=0;W<P;y=W+=1)m=i[c++],x=(y-y%s)/s,b=y<s?0:M[v-s],C===0?R=U=0:(R=M[(C-1)*P+x*s+y%s],U=x&&M[(C-1)*P+(x-1)*s+y%s]),k=b+R-U,O=Math.abs(k-b),E=Math.abs(k-R),D=Math.abs(k-U),N=O<=E&&O<=D?b:E<=D?R:U,M[v++]=(m+N)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!T){var L=((h+C*g)*u.width+d)*s,B=C*P;for(y=0;y<fe;y+=1){for(var z=0;z<s;z+=1)o[L++]=M[B++];L+=(p-1)*s}}C++}}return i=U_e(i),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,f,d,h,p;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),c=0,i=0,s=d=0,h=o.length;d<h;s=d+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(p=f[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,f,d,h,p,g,m,v,x;if(c=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=i.data||i).length,d=m||s,f=h=0,c===1)for(;f<g;)p=m?4*s[f/4]:h,v=d[p++],u[f++]=v,u[f++]=v,u[f++]=v,u[f++]=o?d[p++]:255,h=p;else for(;f<g;)p=m?4*s[f/4]:h,u[f++]=d[p++],u[f++]=d[p++],u[f++]=d[p++],u[f++]=o?d[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(nr)==="[object Window]"){try{t=nr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,f,d,h,p;if(this.animation){for(p=[],o=f=0,d=(h=this.animation.frames).length;f<d;o=++f)s=h[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,p.push(s.image=e(c));return p}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,f,d,h=this;return o=0,d=this.animation,u=d.numFrames,c=d.frames,f=d.numPlays,(s=function(){var p,g;if(p=o++%u,g=c[p],h.renderFrame(i,p),u>1&&o/u<f)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function c5e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var u=!0,f=[],d=0,h=null,p=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],k=j>>6&1,O=1<<(7&j)+1,N=o,E=c,D=!1;j>>7&&(D=!0,N=t,E=O,t+=3*O);var M=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}f.push({x:v,y:x,width:y,height:b,has_local_palette:D,palette_offset:N,palette_size:E,data_offset:M,data_length:t-M,transparent_index:h,interlaced:!!k,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=f.length)throw new Error("Frame index out of range.");return f[P]},this.decodeAndBlitFrameBGRA=function(P,R){var U=this.frameInfo(P),ee=U.width*U.height,J=new Uint8Array(ee);eL(e,U.data_offset,J,ee);var ae=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var W=U.width,fe=r-W,Se=W,T=4*(U.y*r+U.x),L=4*((U.y+U.height)*r+U.x),B=T,z=4*fe;U.interlaced===!0&&(z+=4*r*7);for(var te=8,ie=0,pe=J.length;ie<pe;++ie){var Q=J[ie];if(Se===0&&(Se=W,(B+=z)>=L&&(z=4*fe+4*r*(te-1),B=T+(W+fe)*(te<<1),te>>=1)),Q===X)B+=4;else{var ge=e[ae+3*Q],_e=e[ae+3*Q+1],q=e[ae+3*Q+2];R[B++]=q,R[B++]=_e,R[B++]=ge,R[B++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(P,R){var U=this.frameInfo(P),ee=U.width*U.height,J=new Uint8Array(ee);eL(e,U.data_offset,J,ee);var ae=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var W=U.width,fe=r-W,Se=W,T=4*(U.y*r+U.x),L=4*((U.y+U.height)*r+U.x),B=T,z=4*fe;U.interlaced===!0&&(z+=4*r*7);for(var te=8,ie=0,pe=J.length;ie<pe;++ie){var Q=J[ie];if(Se===0&&(Se=W,(B+=z)>=L&&(z=4*fe+4*r*(te-1),B=T+(W+fe)*(te<<1),te>>=1)),Q===X)B+=4;else{var ge=e[ae+3*Q],_e=e[ae+3*Q+1],q=e[ae+3*Q+2];R[B++]=ge,R[B++]=_e,R[B++]=q,R[B++]=255}--Se}}}function eL(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,f=0,d=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;f<16&&p!==0;)d|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<c)break;var v=d&u;if(d>>=c,f-=c,v!==i){if(v===s)break;for(var x=v<o?v:m,y=0,b=x;b>i;)b=g[b]>>8,++y;var j=b;if(h+y+(x!==v?1:0)>n)return void bn.log("Warning, gif stream longer than expected.");r[h++]=j;var k=h+=y;for(x!==v&&(r[h++]=j),b=x;y--;)b=g[b],r[--k]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|j,o>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else o=s+1,u=(1<<(c=a+1))-1,m=null}return h!==n&&bn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tN(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,x=7,y=new Array(64),b=new Array(64),j=new Array(64),k=new Array(256),O=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(T,L){for(var B=0,z=0,te=new Array,ie=1;ie<=16;ie++){for(var pe=1;pe<=T[ie];pe++)te[L[z]]=[],te[L[z]][0]=B,te[L[z]][1]=ie,z++,B++;B*=2}return te}function ae(T){for(var L=T[0],B=T[1]-1;B>=0;)L&1<<B&&(v|=1<<x),B--,--x<0&&(v==255?(X(255),X(0)):X(v),x=7,v=0)}function X(T){m.push(T)}function W(T){X(T>>8&255),X(255&T)}function fe(T,L,B,z,te){for(var ie,pe=te[0],Q=te[240],ge=function(Je,gt){var wt,le,ve,ke,Ge,He,qe,tt,vt,dt,et=0;for(vt=0;vt<8;++vt){wt=Je[et],le=Je[et+1],ve=Je[et+2],ke=Je[et+3],Ge=Je[et+4],He=Je[et+5],qe=Je[et+6];var en=wt+(tt=Je[et+7]),Vt=wt-tt,Gn=le+qe,Yr=le-qe,sn=ve+He,Cs=ve-He,Rr=ke+Ge,gc=ke-Ge,Tn=en+Rr,Qs=en-Rr,_l=Gn+sn,yn=Gn-sn;Je[et]=Tn+_l,Je[et+4]=Tn-_l;var cr=.707106781*(yn+Qs);Je[et+2]=Qs+cr,Je[et+6]=Qs-cr;var Xr=.382683433*((Tn=gc+Cs)-(yn=Yr+Vt)),ou=.5411961*Tn+Xr,Ia=1.306562965*yn+Xr,Io=.707106781*(_l=Cs+Yr),Ro=Vt+Io,Xt=Vt-Io;Je[et+5]=Xt+ou,Je[et+3]=Xt-ou,Je[et+1]=Ro+Ia,Je[et+7]=Ro-Ia,et+=8}for(et=0,vt=0;vt<8;++vt){wt=Je[et],le=Je[et+8],ve=Je[et+16],ke=Je[et+24],Ge=Je[et+32],He=Je[et+40],qe=Je[et+48];var eo=wt+(tt=Je[et+56]),Ts=wt-tt,Ii=le+qe,da=le-qe,ra=ve+He,K=ve-He,de=ke+Ge,ne=ke-Ge,oe=eo+de,ue=eo-de,he=Ii+ra,Te=Ii-ra;Je[et]=oe+he,Je[et+32]=oe-he;var Re=.707106781*(Te+ue);Je[et+16]=ue+Re,Je[et+48]=ue-Re;var Ce=.382683433*((oe=ne+K)-(Te=da+Ts)),Fe=.5411961*oe+Ce,Le=1.306562965*Te+Ce,ut=.707106781*(he=K+da),bt=Ts+ut,Lt=Ts-ut;Je[et+40]=Lt+Fe,Je[et+24]=Lt-Fe,Je[et+8]=bt+Le,Je[et+56]=bt-Le,et++}for(vt=0;vt<64;++vt)dt=Je[vt]*gt[vt],p[vt]=dt>0?dt+.5|0:dt-.5|0;return p}(T,L),_e=0;_e<64;++_e)g[N[_e]]=ge[_e];var q=g[0]-B;B=g[0],q==0?ae(z[0]):(ae(z[h[ie=32767+q]]),ae(d[ie]));for(var Be=63;Be>0&&g[Be]==0;)Be--;if(Be==0)return ae(pe),B;for(var We,Ae=1;Ae<=Be;){for(var se=Ae;g[Ae]==0&&Ae<=Be;)++Ae;var Ie=Ae-se;if(Ie>=16){We=Ie>>4;for(var yt=1;yt<=We;++yt)ae(Q);Ie&=15}ie=32767+g[Ae],ae(te[(Ie<<4)+h[ie]]),ae(d[ie]),Ae++}return Be!=63&&ae(pe),B}function Se(T){T=Math.min(Math.max(T,1),100),i!=T&&(function(L){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var te=s((B[z]*L+50)/100);te=Math.min(Math.max(te,1),255),o[N[z]]=te}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var Q=s((ie[pe]*L+50)/100);Q=Math.min(Math.max(Q,1),255),c[N[pe]]=Q}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,q=0;q<8;q++)for(var Be=0;Be<8;Be++)u[_e]=1/(o[N[_e]]*ge[q]*ge[Be]*8),f[_e]=1/(c[N[_e]]*ge[q]*ge[Be]*8),_e++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,L){L&&Se(L),m=new Array,v=0,x=7,W(65496),W(65504),W(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),W(1),W(1),X(0),X(0),function(){W(65499),W(132),X(0);for(var le=0;le<64;le++)X(o[le]);X(1);for(var ve=0;ve<64;ve++)X(c[ve])}(),function(le,ve){W(65472),W(17),X(8),W(ve),W(le),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(T.width,T.height),function(){W(65476),W(418),X(0);for(var le=0;le<16;le++)X(E[le+1]);for(var ve=0;ve<=11;ve++)X(D[ve]);X(16);for(var ke=0;ke<16;ke++)X(M[ke+1]);for(var Ge=0;Ge<=161;Ge++)X(C[Ge]);X(1);for(var He=0;He<16;He++)X(P[He+1]);for(var qe=0;qe<=11;qe++)X(R[qe]);X(17);for(var tt=0;tt<16;tt++)X(U[tt+1]);for(var vt=0;vt<=161;vt++)X(ee[vt])}(),W(65498),W(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var B=0,z=0,te=0;v=0,x=7,this.encode.displayName="_encode_";for(var ie,pe,Q,ge,_e,q,Be,We,Ae,se=T.data,Ie=T.width,yt=T.height,Je=4*Ie,gt=0;gt<yt;){for(ie=0;ie<Je;){for(_e=Je*gt+ie,Be=-1,We=0,Ae=0;Ae<64;Ae++)q=_e+(We=Ae>>3)*Je+(Be=4*(7&Ae)),gt+We>=yt&&(q-=Je*(gt+1+We-yt)),ie+Be>=Je&&(q-=ie+Be-Je+4),pe=se[q++],Q=se[q++],ge=se[q++],y[Ae]=(O[pe]+O[Q+256>>0]+O[ge+512>>0]>>16)-128,b[Ae]=(O[pe+768>>0]+O[Q+1024>>0]+O[ge+1280>>0]>>16)-128,j[Ae]=(O[pe+1280>>0]+O[Q+1536>>0]+O[ge+1792>>0]>>16)-128;B=fe(y,u,B,t,n),z=fe(b,f,z,r,a),te=fe(j,f,te,r,a),ie+=32}gt+=8}if(x>=0){var wt=[];wt[1]=x+1,wt[0]=(1<<x+1)-1,ae(wt)}return W(65497),new Uint8Array(m)},e=e||50,function(){for(var T=String.fromCharCode,L=0;L<256;L++)k[L]=T(L)}(),t=J(E,D),r=J(P,R),n=J(M,C),a=J(U,ee),function(){for(var T=1,L=2,B=1;B<=15;B++){for(var z=T;z<L;z++)h[32767+z]=B,d[32767+z]=[],d[32767+z][1]=B,d[32767+z][0]=z;for(var te=-(L-1);te<=-T;te++)h[32767+te]=B,d[32767+te]=[],d[32767+te][1]=B,d[32767+te][0]=L-1+te;T<<=1,L<<=1}}(),function(){for(var T=0;T<256;T++)O[T]=19595*T,O[T+256>>0]=38470*T,O[T+512>>0]=7471*T+32768,O[T+768>>0]=-11059*T,O[T+1024>>0]=-21709*T,O[T+1280>>0]=32768*T+8421375,O[T+1536>>0]=-27439*T,O[T+1792>>0]=-5329*T}(),Se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tL(e){function t(E){if(!E)throw Error("assert :P")}function r(E,D,M){for(var C=0;4>C;C++)if(E[D+C]!=M.charCodeAt(C))return!0;return!1}function n(E,D,M,C,P){for(var R=0;R<P;R++)E[D+R]=M[C+R]}function a(E,D,M,C){for(var P=0;P<C;P++)E[D+P]=M}function i(E){return new Int32Array(E)}function s(E,D){for(var M=[],C=0;C<E;C++)M.push(new D);return M}function o(E,D){var M=[];return function C(P,R,U){for(var ee=U[R],J=0;J<ee&&(P.push(U.length>R+1?[]:new D),!(U.length<R+1));J++)C(P[J],R+1,U)}(M,0,E),M}var c=function(){var E=this;function D(w,_){for(var F=1<<_-1>>>0;w&F;)F>>>=1;return F?(w&F-1)+F:w}function M(w,_,F,I,V){t(!(I%F));do w[_+(I-=F)]=V;while(0<I)}function C(w,_,F,I,V){if(t(2328>=V),512>=V)var G=i(512);else if((G=i(V))==null)return 0;return function(Y,Z,re,ce,we,Pe){var Oe,Ne,Qe=Z,Me=1<<re,be=i(16),je=i(16);for(t(we!=0),t(ce!=null),t(Y!=null),t(0<re),Ne=0;Ne<we;++Ne){if(15<ce[Ne])return 0;++be[ce[Ne]]}if(be[0]==we)return 0;for(je[1]=0,Oe=1;15>Oe;++Oe){if(be[Oe]>1<<Oe)return 0;je[Oe+1]=je[Oe]+be[Oe]}for(Ne=0;Ne<we;++Ne)Oe=ce[Ne],0<ce[Ne]&&(Pe[je[Oe]++]=Ne);if(je[15]==1)return(ce=new P).g=0,ce.value=Pe[0],M(Y,Qe,1,Me,ce),Me;var Xe,nt=-1,Ze=Me-1,Rt=0,kt=1,Zt=1,Ct=1<<re;for(Ne=0,Oe=1,we=2;Oe<=re;++Oe,we<<=1){if(kt+=Zt<<=1,0>(Zt-=be[Oe]))return 0;for(;0<be[Oe];--be[Oe])(ce=new P).g=Oe,ce.value=Pe[Ne++],M(Y,Qe+Rt,we,Ct,ce),Rt=D(Rt,Oe)}for(Oe=re+1,we=2;15>=Oe;++Oe,we<<=1){if(kt+=Zt<<=1,0>(Zt-=be[Oe]))return 0;for(;0<be[Oe];--be[Oe]){if(ce=new P,(Rt&Ze)!=nt){for(Qe+=Ct,Xe=1<<(nt=Oe)-re;15>nt&&!(0>=(Xe-=be[nt]));)++nt,Xe<<=1;Me+=Ct=1<<(Xe=nt-re),Y[Z+(nt=Rt&Ze)].g=Xe+re,Y[Z+nt].value=Qe-Z-nt}ce.g=Oe-re,ce.value=Pe[Ne++],M(Y,Qe+(Rt>>re),we,Ct,ce),Rt=D(Rt,Oe)}}return kt!=2*je[15]-1?0:Me}(w,_,F,I,V,G)}function P(){this.value=this.g=0}function R(){this.value=this.g=0}function U(){this.G=s(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(mi,R)}function ee(w,_,F,I){t(w!=null),t(_!=null),t(2147483648>I),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=_,w.pa=F,w.Jd=_,w.Yc=F+I,w.Zc=4<=I?F+I-4+1:F,ie(w)}function J(w,_){for(var F=0;0<_--;)F|=Q(w,128)<<_;return F}function ae(w,_){var F=J(w,_);return pe(w)?-F:F}function X(w,_,F,I){var V,G=0;for(t(w!=null),t(_!=null),t(4294967288>I),w.Sb=I,w.Ra=0,w.u=0,w.h=0,4<I&&(I=4),V=0;V<I;++V)G+=_[F+V]<<8*V;w.Ra=G,w.bb=I,w.oa=_,w.pa=F}function W(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ap-8>>>0,++w.bb,w.u-=8;B(w)&&(w.h=1,w.u=0)}function fe(w,_){if(t(0<=_),!w.h&&_<=np){var F=L(w)&rp[_];return w.u+=_,W(w),F}return w.h=1,w.u=0}function Se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(w){return w.Ra>>>(w.u&ap-1)>>>0}function B(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ap}function z(w,_){w.u=_,w.h=B(w)}function te(w){w.u>=Yg&&(t(w.u>=Yg),W(w))}function ie(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function pe(w){return J(w,1)}function Q(w,_){var F=w.Ca;0>w.b&&ie(w);var I=w.b,V=F*_>>>8,G=(w.I>>>I>V)+0;for(G?(F-=V,w.I-=V+1<<I>>>0):F=V+1,I=F,V=0;256<=I;)V+=8,I>>=8;return I=7^V+Os[I],w.b-=I,w.Ca=(F<<I)-1,G}function ge(w,_,F){w[_+0]=F>>24&255,w[_+1]=F>>16&255,w[_+2]=F>>8&255,w[_+3]=F>>0&255}function _e(w,_){return w[_+0]<<0|w[_+1]<<8}function q(w,_){return _e(w,_)|w[_+2]<<16}function Be(w,_){return _e(w,_)|_e(w,_+2)<<16}function We(w,_){var F=1<<_;return t(w!=null),t(0<_),w.X=i(F),w.X==null?0:(w.Mb=32-_,w.Xa=_,1)}function Ae(w,_){t(w!=null),t(_!=null),t(w.Xa==_.Xa),n(_.X,0,w.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Ie(w,_,F,I){t(F!=null),t(I!=null);var V=F[0],G=I[0];return V==0&&(V=(w*G+_/2)/_),G==0&&(G=(_*V+w/2)/w),0>=V||0>=G?0:(F[0]=V,I[0]=G,1)}function yt(w,_){return w+(1<<_)-1>>>_}function Je(w,_){return((4278255360&w)+(4278255360&_)>>>0&4278255360)+((16711935&w)+(16711935&_)>>>0&16711935)>>>0}function gt(w,_){E[_]=function(F,I,V,G,Y,Z,re){var ce;for(ce=0;ce<Y;++ce){var we=E[w](Z[re+ce-1],V,G+ce);Z[re+ce]=Je(F[I+ce],we)}}}function wt(){this.ud=this.hd=this.jd=0}function le(w,_){return((4278124286&(w^_))>>>1)+(w&_)>>>0}function ve(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function ke(w,_){return ve(w+(w-_+.5>>1))}function Ge(w,_,F){return Math.abs(_-F)-Math.abs(w-F)}function He(w,_,F,I,V,G,Y){for(I=G[Y-1],F=0;F<V;++F)G[Y+F]=I=Je(w[_+F],I)}function qe(w,_,F,I,V){var G;for(G=0;G<F;++G){var Y=w[_+G],Z=Y>>8&255,re=16711935&(re=(re=16711935&Y)+((Z<<16)+Z));I[V+G]=(4278255360&Y)+re>>>0}}function tt(w,_){_.jd=w>>0&255,_.hd=w>>8&255,_.ud=w>>16&255}function vt(w,_,F,I,V,G){var Y;for(Y=0;Y<I;++Y){var Z=_[F+Y],re=Z>>>8,ce=Z,we=255&(we=(we=Z>>>16)+((w.jd<<24>>24)*(re<<24>>24)>>>5));ce=255&(ce=(ce=ce+((w.hd<<24>>24)*(re<<24>>24)>>>5))+((w.ud<<24>>24)*(we<<24>>24)>>>5)),V[G+Y]=(4278255360&Z)+(we<<16)+ce}}function dt(w,_,F,I,V){E[_]=function(G,Y,Z,re,ce,we,Pe,Oe,Ne){for(re=Pe;re<Oe;++re)for(Pe=0;Pe<Ne;++Pe)ce[we++]=V(Z[I(G[Y++])])},E[w]=function(G,Y,Z,re,ce,we,Pe){var Oe=8>>G.b,Ne=G.Ea,Qe=G.K[0],Me=G.w;if(8>Oe)for(G=(1<<G.b)-1,Me=(1<<Oe)-1;Y<Z;++Y){var be,je=0;for(be=0;be<Ne;++be)be&G||(je=I(re[ce++])),we[Pe++]=V(Qe[je&Me]),je>>=Oe}else E["VP8LMapColor"+F](re,ce,Qe,Me,we,Pe,Y,Z,Ne)}}function et(w,_,F,I,V){for(F=_+F;_<F;){var G=w[_++];I[V++]=G>>16&255,I[V++]=G>>8&255,I[V++]=G>>0&255}}function en(w,_,F,I,V){for(F=_+F;_<F;){var G=w[_++];I[V++]=G>>16&255,I[V++]=G>>8&255,I[V++]=G>>0&255,I[V++]=G>>24&255}}function Vt(w,_,F,I,V){for(F=_+F;_<F;){var G=(Y=w[_++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;I[V++]=G,I[V++]=Y}}function Gn(w,_,F,I,V){for(F=_+F;_<F;){var G=(Y=w[_++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;I[V++]=G,I[V++]=Y}}function Yr(w,_,F,I,V){for(F=_+F;_<F;){var G=w[_++];I[V++]=G>>0&255,I[V++]=G>>8&255,I[V++]=G>>16&255}}function sn(w,_,F,I,V,G){if(G==0)for(F=_+F;_<F;)ge(I,((G=w[_++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else n(I,V,w,_,F)}function Cs(w,_){E[_][0]=E[w+"0"],E[_][1]=E[w+"1"],E[_][2]=E[w+"2"],E[_][3]=E[w+"3"],E[_][4]=E[w+"4"],E[_][5]=E[w+"5"],E[_][6]=E[w+"6"],E[_][7]=E[w+"7"],E[_][8]=E[w+"8"],E[_][9]=E[w+"9"],E[_][10]=E[w+"10"],E[_][11]=E[w+"11"],E[_][12]=E[w+"12"],E[_][13]=E[w+"13"],E[_][14]=E[w+"0"],E[_][15]=E[w+"0"]}function Rr(w){return w==xj||w==yj||w==Zy||w==wj}function gc(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gc,this.f.kb=new Tn,this.sd=null}function _l(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cr(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Xr(w,_){var F=w.T,I=_.ba.f.RGBA,V=I.eb,G=I.fb+w.ka*I.A,Y=qo[_.ba.S],Z=w.y,re=w.O,ce=w.f,we=w.N,Pe=w.ea,Oe=w.W,Ne=_.cc,Qe=_.dc,Me=_.Mc,be=_.Nc,je=w.ka,Xe=w.ka+w.T,nt=w.U,Ze=nt+1>>1;for(je==0?Y(Z,re,null,null,ce,we,Pe,Oe,ce,we,Pe,Oe,V,G,null,null,nt):(Y(_.ec,_.fc,Z,re,Ne,Qe,Me,be,ce,we,Pe,Oe,V,G-I.A,V,G,nt),++F);je+2<Xe;je+=2)Ne=ce,Qe=we,Me=Pe,be=Oe,we+=w.Rc,Oe+=w.Rc,G+=2*I.A,Y(Z,(re+=2*w.fa)-w.fa,Z,re,Ne,Qe,Me,be,ce,we,Pe,Oe,V,G-I.A,V,G,nt);return re+=w.fa,w.j+Xe<w.o?(n(_.ec,_.fc,Z,re,nt),n(_.cc,_.dc,ce,we,Ze),n(_.Mc,_.Nc,Pe,Oe,Ze),F--):1&Xe||Y(Z,re,null,null,ce,we,Pe,Oe,ce,we,Pe,Oe,V,G+I.A,null,null,nt),F}function ou(w,_,F){var I=w.F,V=[w.J];if(I!=null){var G=w.U,Y=_.ba.S,Z=Y==Xy||Y==Zy;_=_.ba.f.RGBA;var re=[0],ce=w.ka;re[0]=w.T,w.Kb&&(ce==0?--re[0]:(--ce,V[0]-=w.width),w.j+w.ka+w.T==w.o&&(re[0]=w.o-w.j-ce));var we=_.eb;ce=_.fb+ce*_.A,w=Nn(I,V[0],w.width,G,re,we,ce+(Z?0:3),_.A),t(F==re),w&&Rr(Y)&&$o(we,ce,Z,G,re,_.A)}return 0}function Ia(w){var _=w.ma,F=_.ba.S,I=11>F,V=F==Ky||F==Yy||F==Xy||F==vj||F==12||Rr(F);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Gg(_.Oa,w,V?11:12))return 0;if(V&&Rr(F)&&st(),w.da)alert("todo:use_scaling");else{if(I){if(_.Ib=cr,w.Kb){if(F=w.U+1>>1,_.memory=i(w.U+2*F),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+w.U,_.Mc=_.cc,_.Nc=_.dc+F,_.Ib=Xr,st()}}else alert("todo:EmitYUV");V&&(_.Jb=ou,I&&Ee())}if(I&&!k6){for(w=0;256>w;++w)uJ[w]=89858*(w-128)+Qy>>Jy,hJ[w]=-22014*(w-128)+Qy,dJ[w]=-45773*(w-128),fJ[w]=113618*(w-128)+Qy>>Jy;for(w=rv;w<Sj;++w)_=76283*(w-16)+Qy>>Jy,pJ[w-rv]=ro(_,255),mJ[w-rv]=ro(_+8>>4,15);k6=1}return 1}function Io(w){var _=w.ma,F=w.U,I=w.T;return t(!(1&w.ka)),0>=F||0>=I?0:(F=_.Ib(w,_),_.Jb!=null&&_.Jb(w,_,F),_.Dc+=F,1)}function Ro(w){w.ma.memory=null}function Xt(w,_,F,I){return fe(w,8)!=47?0:(_[0]=fe(w,14)+1,F[0]=fe(w,14)+1,I[0]=fe(w,1),fe(w,3)!=0?0:!w.h)}function eo(w,_){if(4>w)return w+1;var F=w-2>>1;return(2+(1&w)<<F)+fe(_,F)+1}function Ts(w,_){return 120<_?_-120:1<=(F=((F=XZ[_-1])>>4)*w+(8-(15&F)))?F:1;var F}function Ii(w,_,F){var I=L(F),V=w[_+=255&I].g-8;return 0<V&&(z(F,F.u+8),I=L(F),_+=w[_].value,_+=I&(1<<V)-1),z(F,F.u+w[_].g),w[_].value}function da(w,_,F){return F.g+=w.g,F.value+=w.value<<_>>>0,t(8>=F.g),w.g}function ra(w,_,F){var I=w.xc;return t((_=I==0?0:w.vc[w.md*(F>>I)+(_>>I)])<w.Wb),w.Ya[_]}function K(w,_,F,I){var V=w.ab,G=w.c*_,Y=w.C;_=Y+_;var Z=F,re=I;for(I=w.Ta,F=w.Ua;0<V--;){var ce=w.gc[V],we=Y,Pe=_,Oe=Z,Ne=re,Qe=(re=I,Z=F,ce.Ea);switch(t(we<Pe),t(Pe<=ce.nc),ce.hc){case 2:$y(Oe,Ne,(Pe-we)*Qe,re,Z);break;case 0:var Me=we,be=Pe,je=re,Xe=Z,nt=(Ct=ce).Ea;Me==0&&(mj(Oe,Ne,null,null,1,je,Xe),He(Oe,Ne+1,0,0,nt-1,je,Xe+1),Ne+=nt,Xe+=nt,++Me);for(var Ze=1<<Ct.b,Rt=Ze-1,kt=yt(nt,Ct.b),Zt=Ct.K,Ct=Ct.w+(Me>>Ct.b)*kt;Me<be;){var tn=Zt,on=Ct,Vr=1;for(Xg(Oe,Ne,je,Xe-nt,1,je,Xe);Vr<nt;){var Mr=(Vr&~Rt)+Ze;Mr>nt&&(Mr=nt),(0,_f[tn[on++]>>8&15])(Oe,Ne+ +Vr,je,Xe+Vr-nt,Mr-Vr,je,Xe+Vr),Vr=Mr}Ne+=nt,Xe+=nt,++Me&Rt||(Ct+=kt)}Pe!=ce.nc&&n(re,Z-Qe,re,Z+(Pe-we-1)*Qe,Qe);break;case 1:for(Qe=Oe,be=Ne,nt=(Oe=ce.Ea)-(Xe=Oe&~(je=(Ne=1<<ce.b)-1)),Me=yt(Oe,ce.b),Ze=ce.K,ce=ce.w+(we>>ce.b)*Me;we<Pe;){for(Rt=Ze,kt=ce,Zt=new wt,Ct=be+Xe,tn=be+Oe;be<Ct;)tt(Rt[kt++],Zt),ch(Zt,Qe,be,Ne,re,Z),be+=Ne,Z+=Ne;be<tn&&(tt(Rt[kt++],Zt),ch(Zt,Qe,be,nt,re,Z),be+=nt,Z+=nt),++we&je||(ce+=Me)}break;case 3:if(Oe==re&&Ne==Z&&0<ce.b){for(be=re,Oe=Qe=Z+(Pe-we)*Qe-(Xe=(Pe-we)*yt(ce.Ea,ce.b)),Ne=re,je=Z,Me=[],Xe=(nt=Xe)-1;0<=Xe;--Xe)Me[Xe]=Ne[je+Xe];for(Xe=nt-1;0<=Xe;--Xe)be[Oe+Xe]=Me[Xe];Mo(ce,we,Pe,re,Qe,re,Z)}else Mo(ce,we,Pe,Oe,Ne,re,Z)}Z=I,re=F}re!=F&&n(I,F,Z,re,G)}function de(w,_){var F=w.V,I=w.Ba+w.c*w.C,V=_-w.C;if(t(_<=w.l.o),t(16>=V),0<V){var G=w.l,Y=w.Ta,Z=w.Ua,re=G.width;if(K(w,V,F,I),V=Z=[Z],t((F=w.C)<(I=_)),t(G.v<G.va),I>G.o&&(I=G.o),F<G.j){var ce=G.j-F;F=G.j,V[0]+=ce*re}if(F>=I?F=0:(V[0]+=4*G.v,G.ka=F-G.j,G.U=G.va-G.v,G.T=I-F,F=1),F){if(Z=Z[0],11>(F=w.ca).S){var we=F.f.RGBA,Pe=(I=F.S,V=G.U,G=G.T,ce=we.eb,we.A),Oe=G;for(we=we.fb+w.Ma*we.A;0<Oe--;){var Ne=Y,Qe=Z,Me=V,be=ce,je=we;switch(I){case Gy:Fs(Ne,Qe,Me,be,je);break;case Ky:ls(Ne,Qe,Me,be,je);break;case xj:ls(Ne,Qe,Me,be,je),$o(be,je,0,Me,1,0);break;case g6:du(Ne,Qe,Me,be,je);break;case Yy:sn(Ne,Qe,Me,be,je,1);break;case yj:sn(Ne,Qe,Me,be,je,1),$o(be,je,0,Me,1,0);break;case Xy:sn(Ne,Qe,Me,be,je,0);break;case Zy:sn(Ne,Qe,Me,be,je,0),$o(be,je,1,Me,1,0);break;case vj:Sf(Ne,Qe,Me,be,je);break;case wj:Sf(Ne,Qe,Me,be,je),jn(be,je,Me,1,0);break;case v6:fu(Ne,Qe,Me,be,je);break;default:t(0)}Z+=re,we+=Pe}w.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=F.height)}}w.C=_,t(w.C<=w.i)}function ne(w){var _;if(0<w.ua)return 0;for(_=0;_<w.Wb;++_){var F=w.Ya[_].G,I=w.Ya[_].H;if(0<F[1][I[1]+0].g||0<F[2][I[2]+0].g||0<F[3][I[3]+0].g)return 0}return 1}function oe(w,_,F,I,V,G){if(w.Z!=0){var Y=w.qd,Z=w.rd;for(t(Af[w.Z]!=null);_<F;++_)Af[w.Z](Y,Z,I,V,I,V,G),Y=I,Z=V,V+=G;w.qd=Y,w.rd=Z}}function ue(w,_){var F=w.l.ma,I=F.Z==0||F.Z==1?w.l.j:w.C;if(I=w.C<I?I:w.C,t(_<=w.l.o),_>I){var V=w.l.width,G=F.ca,Y=F.tb+V*I,Z=w.V,re=w.Ba+w.c*I,ce=w.gc;t(w.ab==1),t(ce[0].hc==3),zy(ce[0],I,_,Z,re,G,Y),oe(F,I,_,G,Y,V)}w.C=w.Ma=_}function he(w,_,F,I,V,G,Y){var Z=w.$/I,re=w.$%I,ce=w.m,we=w.s,Pe=F+w.$,Oe=Pe;V=F+I*V;var Ne=F+I*G,Qe=280+we.ua,Me=w.Pb?Z:16777216,be=0<we.ua?we.Wa:null,je=we.wc,Xe=Pe<Ne?ra(we,re,Z):null;t(w.C<G),t(Ne<=V);var nt=!1;e:for(;;){for(;nt||Pe<Ne;){var Ze=0;if(Z>=Me){var Rt=Pe-F;t((Me=w).Pb),Me.wd=Me.m,Me.xd=Rt,0<Me.s.ua&&Ae(Me.s.Wa,Me.s.vb),Me=Z+JZ}if(re&je||(Xe=ra(we,re,Z)),t(Xe!=null),Xe.Qb&&(_[Pe]=Xe.qb,nt=!0),!nt)if(te(ce),Xe.jc){Ze=ce,Rt=_;var kt=Pe,Zt=Xe.pd[L(Ze)&mi-1];t(Xe.jc),256>Zt.g?(z(Ze,Ze.u+Zt.g),Rt[kt]=Zt.value,Ze=0):(z(Ze,Ze.u+Zt.g-256),t(256<=Zt.value),Ze=Zt.value),Ze==0&&(nt=!0)}else Ze=Ii(Xe.G[0],Xe.H[0],ce);if(ce.h)break;if(nt||256>Ze){if(!nt)if(Xe.nd)_[Pe]=(Xe.qb|Ze<<8)>>>0;else{if(te(ce),nt=Ii(Xe.G[1],Xe.H[1],ce),te(ce),Rt=Ii(Xe.G[2],Xe.H[2],ce),kt=Ii(Xe.G[3],Xe.H[3],ce),ce.h)break;_[Pe]=(kt<<24|nt<<16|Ze<<8|Rt)>>>0}if(nt=!1,++Pe,++re>=I&&(re=0,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(w,Z),be!=null))for(;Oe<Pe;)Ze=_[Oe++],be.X[(506832829*Ze&4294967295)>>>be.Mb]=Ze}else if(280>Ze){if(Ze=eo(Ze-256,ce),Rt=Ii(Xe.G[4],Xe.H[4],ce),te(ce),Rt=Ts(I,Rt=eo(Rt,ce)),ce.h)break;if(Pe-F<Rt||V-Pe<Ze)break e;for(kt=0;kt<Ze;++kt)_[Pe+kt]=_[Pe+kt-Rt];for(Pe+=Ze,re+=Ze;re>=I;)re-=I,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(w,Z);if(t(Pe<=V),re&je&&(Xe=ra(we,re,Z)),be!=null)for(;Oe<Pe;)Ze=_[Oe++],be.X[(506832829*Ze&4294967295)>>>be.Mb]=Ze}else{if(!(Ze<Qe))break e;for(nt=Ze-280,t(be!=null);Oe<Pe;)Ze=_[Oe++],be.X[(506832829*Ze&4294967295)>>>be.Mb]=Ze;Ze=Pe,t(!(nt>>>(Rt=be).Xa)),_[Ze]=Rt.X[nt],nt=!0}nt||t(ce.h==B(ce))}if(w.Pb&&ce.h&&Pe<V)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ae(w.s.vb,w.s.Wa);else{if(ce.h)break e;Y!=null&&Y(w,Z>G?G:Z),w.a=0,w.$=Pe-F}return 1}return w.a=3,0}function Te(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var _=w.Wa;_!=null&&(_.X=null),w.vb=null,t(w!=null)}function Re(){var w=new pj;return w==null?null:(w.a=0,w.xb=w6,Cs("Predictor","VP8LPredictors"),Cs("Predictor","VP8LPredictors_C"),Cs("PredictorAdd","VP8LPredictorsAdd"),Cs("PredictorAdd","VP8LPredictorsAdd_C"),$y=qe,ch=vt,Fs=et,ls=en,Sf=Vt,fu=Gn,du=Yr,E.VP8LMapColor32b=ip,E.VP8LMapColor8b=qy,w)}function Ce(w,_,F,I,V){var G=1,Y=[w],Z=[_],re=I.m,ce=I.s,we=null,Pe=0;e:for(;;){if(F)for(;G&&fe(re,1);){var Oe=Y,Ne=Z,Qe=I,Me=1,be=Qe.m,je=Qe.gc[Qe.ab],Xe=fe(be,2);if(Qe.Oc&1<<Xe)G=0;else{switch(Qe.Oc|=1<<Xe,je.hc=Xe,je.Ea=Oe[0],je.nc=Ne[0],je.K=[null],++Qe.ab,t(4>=Qe.ab),Xe){case 0:case 1:je.b=fe(be,3)+2,Me=Ce(yt(je.Ea,je.b),yt(je.nc,je.b),0,Qe,je.K),je.K=je.K[0];break;case 3:var nt,Ze=fe(be,8)+1,Rt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(Oe[0]=yt(je.Ea,Rt),je.b=Rt,nt=Me=Ce(Ze,1,0,Qe,je.K)){var kt,Zt=Ze,Ct=je,tn=1<<(8>>Ct.b),on=i(tn);if(on==null)nt=0;else{var Vr=Ct.K[0],Mr=Ct.w;for(on[0]=Ct.K[0][0],kt=1;kt<1*Zt;++kt)on[kt]=Je(Vr[Mr+kt],on[kt-1]);for(;kt<4*tn;++kt)on[kt]=0;Ct.K[0]=null,Ct.K[0]=on,nt=1}}Me=nt;break;case 2:break;default:t(0)}G=Me}}if(Y=Y[0],Z=Z[0],G&&fe(re,1)&&!(G=1<=(Pe=fe(re,4))&&11>=Pe)){I.a=3;break e}var wn;if(wn=G)t:{var vn,pr,Ea,Ds=I,Ca=Y,Ls=Z,ln=Pe,ao=F,io=Ds.m,Xa=Ds.s,gi=[null],us=1,Wo=0,_c=ZZ[ln];r:for(;;){if(ao&&fe(io,1)){var Za=fe(io,3)+2,gu=yt(Ca,Za),ph=yt(Ls,Za),up=gu*ph;if(!Ce(gu,ph,0,Ds,gi))break r;for(gi=gi[0],Xa.xc=Za,vn=0;vn<up;++vn){var Ef=gi[vn]>>8&65535;gi[vn]=Ef,Ef>=us&&(us=Ef+1)}}if(io.h)break r;for(pr=0;5>pr;++pr){var aa=x6[pr];!pr&&0<ln&&(aa+=1<<ln),Wo<aa&&(Wo=aa)}var jj=s(us*_c,P),C6=us,T6=s(C6,U);if(T6==null)var t2=null;else t(65536>=C6),t2=T6;var nv=i(Wo);if(t2==null||nv==null||jj==null){Ds.a=1;break r}var r2=jj;for(vn=Ea=0;vn<us;++vn){var Cl=t2[vn],fp=Cl.G,dp=Cl.H,P6=0,n2=1,O6=0;for(pr=0;5>pr;++pr){aa=x6[pr],fp[pr]=r2,dp[pr]=Ea,!pr&&0<ln&&(aa+=1<<ln);a:{var a2,Nj=aa,i2=Ds,av=nv,xJ=r2,yJ=Ea,kj=0,Cf=i2.m,wJ=fe(Cf,1);if(a(av,0,0,Nj),wJ){var bJ=fe(Cf,1)+1,_J=fe(Cf,1),F6=fe(Cf,_J==0?1:8);av[F6]=1,bJ==2&&(av[F6=fe(Cf,8)]=1);var s2=1}else{var D6=i(19),L6=fe(Cf,4)+4;if(19<L6){i2.a=3;var o2=0;break a}for(a2=0;a2<L6;++a2)D6[YZ[a2]]=fe(Cf,3);var Aj=void 0,iv=void 0,I6=i2,SJ=D6,l2=Nj,R6=av,Ej=0,Tf=I6.m,M6=8,B6=s(128,P);n:for(;C(B6,0,7,SJ,19);){if(fe(Tf,1)){var jJ=2+2*fe(Tf,3);if((Aj=2+fe(Tf,jJ))>l2)break n}else Aj=l2;for(iv=0;iv<l2&&Aj--;){te(Tf);var U6=B6[0+(127&L(Tf))];z(Tf,Tf.u+U6.g);var hp=U6.value;if(16>hp)R6[iv++]=hp,hp!=0&&(M6=hp);else{var NJ=hp==16,$6=hp-16,kJ=GZ[$6],z6=fe(Tf,HZ[$6])+kJ;if(iv+z6>l2)break n;for(var AJ=NJ?M6:0;0<z6--;)R6[iv++]=AJ}}Ej=1;break n}Ej||(I6.a=3),s2=Ej}(s2=s2&&!Cf.h)&&(kj=C(xJ,yJ,8,av,Nj)),s2&&kj!=0?o2=kj:(i2.a=3,o2=0)}if(o2==0)break r;if(n2&&KZ[pr]==1&&(n2=r2[Ea].g==0),P6+=r2[Ea].g,Ea+=o2,3>=pr){var sv,Cj=nv[0];for(sv=1;sv<aa;++sv)nv[sv]>Cj&&(Cj=nv[sv]);O6+=Cj}}if(Cl.nd=n2,Cl.Qb=0,n2&&(Cl.qb=(fp[3][dp[3]+0].value<<24|fp[1][dp[1]+0].value<<16|fp[2][dp[2]+0].value)>>>0,P6==0&&256>fp[0][dp[0]+0].value&&(Cl.Qb=1,Cl.qb+=fp[0][dp[0]+0].value<<8)),Cl.jc=!Cl.Qb&&6>O6,Cl.jc){var c2,vu=Cl;for(c2=0;c2<mi;++c2){var Pf=c2,Of=vu.pd[Pf],u2=vu.G[0][vu.H[0]+Pf];256<=u2.value?(Of.g=u2.g+256,Of.value=u2.value):(Of.g=0,Of.value=0,Pf>>=da(u2,8,Of),Pf>>=da(vu.G[1][vu.H[1]+Pf],16,Of),Pf>>=da(vu.G[2][vu.H[2]+Pf],0,Of),da(vu.G[3][vu.H[3]+Pf],24,Of))}}}Xa.vc=gi,Xa.Wb=us,Xa.Ya=t2,Xa.yc=jj,wn=1;break t}wn=0}if(!(G=wn)){I.a=3;break e}if(0<Pe){if(ce.ua=1<<Pe,!We(ce.Wa,Pe)){I.a=1,G=0;break e}}else ce.ua=0;var Tj=I,q6=Y,EJ=Z,Pj=Tj.s,Oj=Pj.xc;if(Tj.c=q6,Tj.i=EJ,Pj.md=yt(q6,Oj),Pj.wc=Oj==0?-1:(1<<Oj)-1,F){I.xb=iJ;break e}if((we=i(Y*Z))==null){I.a=1,G=0;break e}G=(G=he(I,we,0,Y,Z,Z,null))&&!re.h;break e}return G?(V!=null?V[0]=we:(t(we==null),t(F)),I.$=0,F||Te(ce)):Te(ce),G}function Fe(w,_){var F=w.c*w.i,I=F+_+16*_;return t(w.c<=_),w.V=i(I),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+F+_,1)}function Le(w,_){var F=w.C,I=_-F,V=w.V,G=w.Ba+w.c*F;for(t(_<=w.l.o);0<I;){var Y=16<I?16:I,Z=w.l.ma,re=w.l.width,ce=re*Y,we=Z.ca,Pe=Z.tb+re*F,Oe=w.Ta,Ne=w.Ua;K(w,Y,V,G),ma(Oe,Ne,we,Pe,ce),oe(Z,F,F+Y,we,Pe,re),I-=Y,V+=Y*w.c,F+=Y}t(F==_),w.C=w.Ma=_}function ut(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mt(){this.Yb=function(){var w=[];return function _(F,I,V){for(var G=V[I],Y=0;Y<G&&(F.push(V.length>I+1?[]:0),!(V.length<I+1));Y++)_(F[Y],I+1,V)}(w,0,[3,11]),w}()}function Pt(){this.jb=i(3),this.Wc=o([4,8],mt),this.Xc=o([4,17],mt)}function lr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function rn(){this.ld=this.La=this.dd=this.tc=0}function gn(){this.Na=this.la=0}function ka(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lu(){this.uc=this.M=this.Nb=0,this.wa=Array(new rn),this.Y=0,this.ya=Array(new Sl),this.aa=0,this.l=new xc}function vc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function jl(){this.cb=this.a=0,this.sc="",this.m=new Se,this.Od=new ut,this.Kc=new bt,this.ed=new lr,this.Qa=new Lt,this.Ic=this.$c=this.Aa=0,this.D=new lu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Se),this.ia=0,this.pb=s(4,ka),this.Pa=new Pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vc),this.Hd=0,this.rb=Array(new gn),this.sb=0,this.wa=Array(new rn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sl),this.L=this.aa=0,this.gd=o([4,2],rn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function to(){var w=new jl;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,tv||(tv=ky)),w}function ha(w,_,F){return w.a==0&&(w.a=_,w.sc=F,w.cb=0),0}function jy(w,_,F){return 3<=F&&w[_+0]==157&&w[_+1]==1&&w[_+2]==42}function Ny(w,_){if(w==null)return 0;if(w.a=0,w.sc="OK",_==null)return ha(w,2,"null VP8Io passed to VP8GetHeaders()");var F=_.data,I=_.w,V=_.ha;if(4>V)return ha(w,7,"Truncated header.");var G=F[I+0]|F[I+1]<<8|F[I+2]<<16,Y=w.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return ha(w,3,"Incorrect keyframe parameters.");if(!Y.yd)return ha(w,4,"Frame not displayable.");I+=3,V-=3;var Z=w.Kc;if(Y.Rb){if(7>V)return ha(w,7,"cannot parse picture header");if(!jy(F,I,V))return ha(w,3,"Bad code word");Z.c=16383&(F[I+4]<<8|F[I+3]),Z.Td=F[I+4]>>6,Z.i=16383&(F[I+6]<<8|F[I+5]),Z.Ud=F[I+6]>>6,I+=7,V-=7,w.za=Z.c+15>>4,w.Ub=Z.i+15>>4,_.width=Z.c,_.height=Z.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((G=w.Pa).jb,0,255,G.jb.length),t((G=w.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(Y.ub>V)return ha(w,7,"bad partition length");ee(G=w.m,F,I,Y.ub),I+=Y.ub,V-=Y.ub,Y.Rb&&(Z.Ld=pe(G),Z.Kd=pe(G)),Z=w.Qa;var re,ce=w.Pa;if(t(G!=null),t(Z!=null),Z.Cb=pe(G),Z.Cb){if(Z.Bb=pe(G),pe(G)){for(Z.Fb=pe(G),re=0;4>re;++re)Z.Zb[re]=pe(G)?ae(G,7):0;for(re=0;4>re;++re)Z.Lb[re]=pe(G)?ae(G,6):0}if(Z.Bb)for(re=0;3>re;++re)ce.jb[re]=pe(G)?J(G,8):255}else Z.Bb=0;if(G.Ka)return ha(w,3,"cannot parse segment header");if((Z=w.ed).zd=pe(G),Z.Tb=J(G,6),Z.wb=J(G,3),Z.Pc=pe(G),Z.Pc&&pe(G)){for(ce=0;4>ce;++ce)pe(G)&&(Z.vd[ce]=ae(G,6));for(ce=0;4>ce;++ce)pe(G)&&(Z.od[ce]=ae(G,6))}if(w.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return ha(w,3,"cannot parse filter header");var we=V;if(V=re=I,I=re+we,Z=we,w.Xb=(1<<J(w.m,2))-1,we<3*(ce=w.Xb))F=7;else{for(re+=3*ce,Z-=3*ce,we=0;we<ce;++we){var Pe=F[V+0]|F[V+1]<<8|F[V+2]<<16;Pe>Z&&(Pe=Z),ee(w.Jc[+we],F,re,Pe),re+=Pe,Z-=Pe,V+=3}ee(w.Jc[+ce],F,re,Z),F=re<I?0:5}if(F!=0)return ha(w,F,"cannot parse partitions");for(F=J(re=w.m,7),V=pe(re)?ae(re,4):0,I=pe(re)?ae(re,4):0,Z=pe(re)?ae(re,4):0,ce=pe(re)?ae(re,4):0,re=pe(re)?ae(re,4):0,we=w.Qa,Pe=0;4>Pe;++Pe){if(we.Cb){var Oe=we.Zb[Pe];we.Fb||(Oe+=F)}else{if(0<Pe){w.pb[Pe]=w.pb[0];continue}Oe=F}var Ne=w.pb[Pe];Ne.Sc[0]=bj[ro(Oe+V,127)],Ne.Sc[1]=_j[ro(Oe+0,127)],Ne.Eb[0]=2*bj[ro(Oe+I,127)],Ne.Eb[1]=101581*_j[ro(Oe+Z,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=bj[ro(Oe+ce,117)],Ne.Qc[1]=_j[ro(Oe+re,127)],Ne.lc=Oe+re}if(!Y.Rb)return ha(w,4,"Not a key frame.");for(pe(G),Y=w.Pa,F=0;4>F;++F){for(V=0;8>V;++V)for(I=0;3>I;++I)for(Z=0;11>Z;++Z)ce=Q(G,nJ[F][V][I][Z])?J(G,8):tJ[F][V][I][Z],Y.Wc[F][V].Yb[I][Z]=ce;for(V=0;17>V;++V)Y.Xc[F][V]=Y.Wc[F][aJ[V]]}return w.kc=pe(G),w.kc&&(w.Bd=J(G,8)),w.cb=1}function ky(w,_,F,I,V,G,Y){var Z=_[V].Yb[F];for(F=0;16>V;++V){if(!Q(w,Z[F+0]))return V;for(;!Q(w,Z[F+1]);)if(Z=_[++V].Yb[0],F=0,V==16)return 16;var re=_[V+1].Yb;if(Q(w,Z[F+2])){var ce=w,we=0;if(Q(ce,(Oe=Z)[(Pe=F)+3]))if(Q(ce,Oe[Pe+6])){for(Z=0,Pe=2*(we=Q(ce,Oe[Pe+8]))+(Oe=Q(ce,Oe[Pe+9+we])),we=0,Oe=QZ[Pe];Oe[Z];++Z)we+=we+Q(ce,Oe[Z]);we+=3+(8<<Pe)}else Q(ce,Oe[Pe+7])?(we=7+2*Q(ce,165),we+=Q(ce,145)):we=5+Q(ce,159);else we=Q(ce,Oe[Pe+4])?3+Q(ce,Oe[Pe+5]):2;Z=re[2]}else we=1,Z=re[1];re=Y+eJ[V],0>(ce=w).b&&ie(ce);var Pe,Oe=ce.b,Ne=(Pe=ce.Ca>>1)-(ce.I>>Oe)>>31;--ce.b,ce.Ca+=Ne,ce.Ca|=1,ce.I-=(Pe+1&Ne)<<Oe,G[re]=((we^Ne)-Ne)*I[(0<V)+0]}return 16}function Og(w){var _=w.rb[w.sb-1];_.la=0,_.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function ZS(w,_){if(w==null)return 0;if(_==null)return ha(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!Ny(w,_))return 0;if(t(w.cb),_.ac==null||_.ac(_)){_.ob&&(w.L=0);var F=e2[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=_.v-F>>4,w.zb=_.j-F>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=_.o+15+F>>4,w.Hb=_.va+15+F>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var I=w.ed;for(F=0;4>F;++F){var V;if(w.Qa.Cb){var G=w.Qa.Lb[F];w.Qa.Fb||(G+=I.Tb)}else G=I.Tb;for(V=0;1>=V;++V){var Y=w.gd[F][V],Z=G;if(I.Pc&&(Z+=I.vd[0],V&&(Z+=I.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var re=Z;0<I.wb&&(re=4<I.wb?re>>2:re>>1)>9-I.wb&&(re=9-I.wb),1>re&&(re=1),Y.dd=re,Y.tc=2*Z+re,Y.ld=40<=Z?2:15<=Z?1:0}else Y.tc=0;Y.La=V}}}F=0}else ha(w,6,"Frame setup failed"),F=w.a;if(F=F==0){if(F){w.$c=0,0<w.Aa||(w.Ic=vJ);e:{F=w.Ic,I=4*(re=w.za);var ce=32*re,we=re+1,Pe=0<w.L?re*(0<w.Aa?2:1):0,Oe=(w.Aa==2?2:1)*re;if((Y=I+832+(V=3*(16*F+e2[w.L])/2*ce)+(G=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=Y)F=0;else{if(Y>w.Vb){if(w.Vb=0,w.Ec=i(Y),w.Fc=0,w.Ec==null){F=ha(w,1,"no memory during frame initialization.");break e}w.Vb=Y}Y=w.Ec,Z=w.Fc,w.Ac=Y,w.Bc=Z,Z+=I,w.Gd=s(ce,vc),w.Hd=0,w.rb=s(we+1,gn),w.sb=1,w.wa=Pe?s(Pe,rn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=re),t(!0),w.oc=Y,w.pc=Z,Z+=832,w.ya=s(Oe,Sl),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=re),w.R=16*re,w.B=8*re,re=(ce=e2[w.L])*w.R,ce=ce/2*w.B,w.sa=Y,w.ta=Z+re,w.qa=w.sa,w.ra=w.ta+16*F*w.R+ce,w.Ha=w.qa,w.Ia=w.ra+8*F*w.B+ce,w.$c=0,Z+=V,w.mb=G?Y:null,w.nb=G?Z:null,t(Z+G<=w.Fc+w.Vb),Og(w),a(w.Ac,w.Bc,0,I),F=1}}if(F){if(_.ka=0,_.y=w.sa,_.O=w.ta,_.f=w.qa,_.N=w.ra,_.ea=w.Ha,_.Vd=w.Ia,_.fa=w.R,_.Rc=w.B,_.F=null,_.J=0,!Vy){for(F=-255;255>=F;++F)Ra[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)pu[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)ev[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)cp[255+F]=0>F?0:255<F?255:F;Vy=1}sp=ej,hu=JS,Zg=Ey,cs=QS,Bo=Cy,pa=Ay,op=Mg,Wy=oh,Jg=hj,uh=Bg,fh=dj,jf=Z0,dh=Ug,lp=My,hh=Ry,Nf=wc,Qg=uu,Uo=fj,El[0]=yc,El[1]=tj,El[2]=ij,El[3]=sj,El[4]=Oy,El[5]=Y0,El[6]=Fy,El[7]=Lg,El[8]=lj,El[9]=oj,kf[0]=Ty,kf[1]=nj,kf[2]=cu,kf[3]=G0,kf[4]=Ri,kf[5]=aj,kf[6]=Py,mu[0]=yf,mu[1]=rj,mu[2]=cj,mu[3]=Ig,mu[4]=sh,mu[5]=uj,mu[6]=Rg,F=1}else F=0}F&&(F=function(Ne,Qe){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Me,be=Ne.Jc[Ne.M&Ne.Xb],je=Ne.m,Xe=Ne;for(Me=0;Me<Xe.za;++Me){var nt=je,Ze=Xe,Rt=Ze.Ac,kt=Ze.Bc+4*Me,Zt=Ze.zc,Ct=Ze.ya[Ze.aa+Me];if(Ze.Qa.Bb?Ct.$b=Q(nt,Ze.Pa.jb[0])?2+Q(nt,Ze.Pa.jb[2]):Q(nt,Ze.Pa.jb[1]):Ct.$b=0,Ze.kc&&(Ct.Ad=Q(nt,Ze.Bd)),Ct.Za=!Q(nt,145)+0,Ct.Za){var tn=Ct.Ob,on=0;for(Ze=0;4>Ze;++Ze){var Vr,Mr=Zt[0+Ze];for(Vr=0;4>Vr;++Vr){Mr=rJ[Rt[kt+Vr]][Mr];for(var wn=y6[Q(nt,Mr[0])];0<wn;)wn=y6[2*wn+Q(nt,Mr[wn])];Mr=-wn,Rt[kt+Vr]=Mr}n(tn,on,Rt,kt,4),on+=4,Zt[0+Ze]=Mr}}else Mr=Q(nt,156)?Q(nt,128)?1:3:Q(nt,163)?2:0,Ct.Ob[0]=Mr,a(Rt,kt,Mr,4),a(Zt,0,Mr,4);Ct.Dd=Q(nt,142)?Q(nt,114)?Q(nt,183)?1:3:2:0}if(Xe.m.Ka)return ha(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(Xe=be,nt=(je=Ne).rb[je.sb-1],Rt=je.rb[je.sb+je.ja],Me=je.ya[je.aa+je.ja],kt=je.kc?Me.Ad:0)nt.la=Rt.la=0,Me.Za||(nt.Na=Rt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var vn,pr;if(nt=Rt,Rt=Xe,kt=je.Pa.Xc,Zt=je.ya[je.aa+je.ja],Ct=je.pb[Zt.$b],Ze=Zt.ad,tn=0,on=je.rb[je.sb-1],Mr=Vr=0,a(Ze,tn,0,384),Zt.Za)var Ea=0,Ds=kt[3];else{wn=i(16);var Ca=nt.Na+on.Na;if(Ca=tv(Rt,kt[1],Ca,Ct.Eb,0,wn,0),nt.Na=on.Na=(0<Ca)+0,1<Ca)sp(wn,0,Ze,tn);else{var Ls=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)Ze[tn+wn]=Ls}Ea=1,Ds=kt[0]}var ln=15&nt.la,ao=15&on.la;for(wn=0;4>wn;++wn){var io=1&ao;for(Ls=pr=0;4>Ls;++Ls)ln=ln>>1|(io=(Ca=tv(Rt,Ds,Ca=io+(1&ln),Ct.Sc,Ea,Ze,tn))>Ea)<<7,pr=pr<<2|(3<Ca?3:1<Ca?2:Ze[tn+0]!=0),tn+=16;ln>>=4,ao=ao>>1|io<<7,Vr=(Vr<<8|pr)>>>0}for(Ds=ln,Ea=ao>>4,vn=0;4>vn;vn+=2){for(pr=0,ln=nt.la>>4+vn,ao=on.la>>4+vn,wn=0;2>wn;++wn){for(io=1&ao,Ls=0;2>Ls;++Ls)Ca=io+(1&ln),ln=ln>>1|(io=0<(Ca=tv(Rt,kt[2],Ca,Ct.Qc,0,Ze,tn)))<<3,pr=pr<<2|(3<Ca?3:1<Ca?2:Ze[tn+0]!=0),tn+=16;ln>>=2,ao=ao>>1|io<<5}Mr|=pr<<4*vn,Ds|=ln<<4<<vn,Ea|=(240&ao)<<vn}nt.la=Ds,on.la=Ea,Zt.Hc=Vr,Zt.Gc=Mr,Zt.ia=43690&Mr?0:Ct.ia,kt=!(Vr|Mr)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[Me.$b][Me.Za],je.wa[je.Y+je.ja].La|=!kt),Xe.Ka)return ha(Ne,7,"Premature end-of-file encountered.")}if(Og(Ne),je=Qe,Xe=1,Me=(be=Ne).D,nt=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Me.M=be.M,Me.uc=nt,Hg(be,Me),Xe=1,Me=(pr=be.D).Nb,nt=(Mr=e2[be.L])*be.R,Rt=Mr/2*be.B,wn=16*Me*be.R,Ls=8*Me*be.B,kt=be.sa,Zt=be.ta-nt+wn,Ct=be.qa,Ze=be.ra-Rt+Ls,tn=be.Ha,on=be.Ia-Rt+Ls,ao=(ln=pr.M)==0,Vr=ln>=be.Va-1,be.Aa==2&&Hg(be,pr),pr.uc)for(io=(Ca=be).D.M,t(Ca.D.uc),pr=Ca.yb;pr<Ca.Hb;++pr){Ea=pr,Ds=io;var Xa=(gi=(aa=Ca).D).Nb;vn=aa.R;var gi=gi.wa[gi.Y+Ea],us=aa.sa,Wo=aa.ta+16*Xa*vn+16*Ea,_c=gi.dd,Za=gi.tc;if(Za!=0)if(t(3<=Za),aa.L==1)0<Ea&&Nf(us,Wo,vn,Za+4),gi.La&&Uo(us,Wo,vn,Za),0<Ds&&hh(us,Wo,vn,Za+4),gi.La&&Qg(us,Wo,vn,Za);else{var gu=aa.B,ph=aa.qa,up=aa.ra+8*Xa*gu+8*Ea,Ef=aa.Ha,aa=aa.Ia+8*Xa*gu+8*Ea;Xa=gi.ld,0<Ea&&(Wy(us,Wo,vn,Za+4,_c,Xa),uh(ph,up,Ef,aa,gu,Za+4,_c,Xa)),gi.La&&(jf(us,Wo,vn,Za,_c,Xa),lp(ph,up,Ef,aa,gu,Za,_c,Xa)),0<Ds&&(op(us,Wo,vn,Za+4,_c,Xa),Jg(ph,up,Ef,aa,gu,Za+4,_c,Xa)),gi.La&&(fh(us,Wo,vn,Za,_c,Xa),dh(ph,up,Ef,aa,gu,Za,_c,Xa))}}if(be.ia&&alert("todo:DitherRow"),je.put!=null){if(pr=16*ln,ln=16*(ln+1),ao?(je.y=be.sa,je.O=be.ta+wn,je.f=be.qa,je.N=be.ra+Ls,je.ea=be.Ha,je.W=be.Ia+Ls):(pr-=Mr,je.y=kt,je.O=Zt,je.f=Ct,je.N=Ze,je.ea=tn,je.W=on),Vr||(ln-=Mr),ln>je.o&&(ln=je.o),je.F=null,je.J=null,be.Fa!=null&&0<be.Fa.length&&pr<ln&&(je.J=Wg(be,je,pr,ln-pr),je.F=be.mb,je.F==null&&je.F.length==0)){Xe=ha(be,3,"Could not decode alpha data.");break e}pr<je.j&&(Mr=je.j-pr,pr=je.j,t(!(1&Mr)),je.O+=be.R*Mr,je.N+=be.B*(Mr>>1),je.W+=be.B*(Mr>>1),je.F!=null&&(je.J+=je.width*Mr)),pr<ln&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=pr-je.j,je.U=je.va-je.v,je.T=ln-pr,Xe=je.put(je))}Me+1!=be.Ic||Vr||(n(be.sa,be.ta-nt,kt,Zt+16*be.R,nt),n(be.qa,be.ra-Rt,Ct,Ze+8*be.B,Rt),n(be.Ha,be.Ia-Rt,tn,on+8*be.B,Rt))}if(!Xe)return ha(Ne,6,"Output aborted.")}return 1}(w,_)),_.bc!=null&&_.bc(_),F&=1}return F?(w.cb=0,F):0}function Nl(w,_,F,I,V){V=w[_+F+32*I]+(V>>3),w[_+F+32*I]=-256&V?0>V?0:255:V}function H0(w,_,F,I,V,G){Nl(w,_,0,F,I+V),Nl(w,_,1,F,I+G),Nl(w,_,2,F,I-G),Nl(w,_,3,F,I-V)}function Ps(w){return(20091*w>>16)+w}function Fg(w,_,F,I){var V,G=0,Y=i(16);for(V=0;4>V;++V){var Z=w[_+0]+w[_+8],re=w[_+0]-w[_+8],ce=(35468*w[_+4]>>16)-Ps(w[_+12]),we=Ps(w[_+4])+(35468*w[_+12]>>16);Y[G+0]=Z+we,Y[G+1]=re+ce,Y[G+2]=re-ce,Y[G+3]=Z-we,G+=4,_++}for(V=G=0;4>V;++V)Z=(w=Y[G+0]+4)+Y[G+8],re=w-Y[G+8],ce=(35468*Y[G+4]>>16)-Ps(Y[G+12]),Nl(F,I,0,0,Z+(we=Ps(Y[G+4])+(35468*Y[G+12]>>16))),Nl(F,I,1,0,re+ce),Nl(F,I,2,0,re-ce),Nl(F,I,3,0,Z-we),G++,I+=32}function Ay(w,_,F,I){var V=w[_+0]+4,G=35468*w[_+4]>>16,Y=Ps(w[_+4]),Z=35468*w[_+1]>>16;H0(F,I,0,V+Y,w=Ps(w[_+1]),Z),H0(F,I,1,V+G,w,Z),H0(F,I,2,V-G,w,Z),H0(F,I,3,V-Y,w,Z)}function JS(w,_,F,I,V){Fg(w,_,F,I),V&&Fg(w,_+16,F,I+4)}function Ey(w,_,F,I){hu(w,_+0,F,I,1),hu(w,_+32,F,I+128,1)}function QS(w,_,F,I){var V;for(w=w[_+0]+4,V=0;4>V;++V)for(_=0;4>_;++_)Nl(F,I,_,V,w)}function Cy(w,_,F,I){w[_+0]&&cs(w,_+0,F,I),w[_+16]&&cs(w,_+16,F,I+4),w[_+32]&&cs(w,_+32,F,I+128),w[_+48]&&cs(w,_+48,F,I+128+4)}function ej(w,_,F,I){var V,G=i(16);for(V=0;4>V;++V){var Y=w[_+0+V]+w[_+12+V],Z=w[_+4+V]+w[_+8+V],re=w[_+4+V]-w[_+8+V],ce=w[_+0+V]-w[_+12+V];G[0+V]=Y+Z,G[8+V]=Y-Z,G[4+V]=ce+re,G[12+V]=ce-re}for(V=0;4>V;++V)Y=(w=G[0+4*V]+3)+G[3+4*V],Z=G[1+4*V]+G[2+4*V],re=G[1+4*V]-G[2+4*V],ce=w-G[3+4*V],F[I+0]=Y+Z>>3,F[I+16]=ce+re>>3,F[I+32]=Y-Z>>3,F[I+48]=ce-re>>3,I+=64}function Dg(w,_,F){var I,V=_-32,G=no,Y=255-w[V-1];for(I=0;I<F;++I){var Z,re=G,ce=Y+w[_-1];for(Z=0;Z<F;++Z)w[_+Z]=re[ce+w[V+Z]];_+=32}}function tj(w,_){Dg(w,_,4)}function rj(w,_){Dg(w,_,8)}function nj(w,_){Dg(w,_,16)}function cu(w,_){var F;for(F=0;16>F;++F)n(w,_+32*F,w,_-32,16)}function G0(w,_){var F;for(F=16;0<F;--F)a(w,_,w[_-1],16),_+=32}function K0(w,_,F){var I;for(I=0;16>I;++I)a(_,F+32*I,w,16)}function Ty(w,_){var F,I=16;for(F=0;16>F;++F)I+=w[_-1+32*F]+w[_+F-32];K0(I>>5,w,_)}function Ri(w,_){var F,I=8;for(F=0;16>F;++F)I+=w[_-1+32*F];K0(I>>4,w,_)}function aj(w,_){var F,I=8;for(F=0;16>F;++F)I+=w[_+F-32];K0(I>>4,w,_)}function Py(w,_){K0(128,w,_)}function ur(w,_,F){return w+2*_+F+2>>2}function ij(w,_){var F,I=_-32;for(I=new Uint8Array([ur(w[I-1],w[I+0],w[I+1]),ur(w[I+0],w[I+1],w[I+2]),ur(w[I+1],w[I+2],w[I+3]),ur(w[I+2],w[I+3],w[I+4])]),F=0;4>F;++F)n(w,_+32*F,I,0,I.length)}function sj(w,_){var F=w[_-1],I=w[_-1+32],V=w[_-1+64],G=w[_-1+96];ge(w,_+0,16843009*ur(w[_-1-32],F,I)),ge(w,_+32,16843009*ur(F,I,V)),ge(w,_+64,16843009*ur(I,V,G)),ge(w,_+96,16843009*ur(V,G,G))}function yc(w,_){var F,I=4;for(F=0;4>F;++F)I+=w[_+F-32]+w[_-1+32*F];for(I>>=3,F=0;4>F;++F)a(w,_+32*F,I,4)}function Oy(w,_){var F=w[_-1+0],I=w[_-1+32],V=w[_-1+64],G=w[_-1-32],Y=w[_+0-32],Z=w[_+1-32],re=w[_+2-32],ce=w[_+3-32];w[_+0+96]=ur(I,V,w[_-1+96]),w[_+1+96]=w[_+0+64]=ur(F,I,V),w[_+2+96]=w[_+1+64]=w[_+0+32]=ur(G,F,I),w[_+3+96]=w[_+2+64]=w[_+1+32]=w[_+0+0]=ur(Y,G,F),w[_+3+64]=w[_+2+32]=w[_+1+0]=ur(Z,Y,G),w[_+3+32]=w[_+2+0]=ur(re,Z,Y),w[_+3+0]=ur(ce,re,Z)}function Fy(w,_){var F=w[_+1-32],I=w[_+2-32],V=w[_+3-32],G=w[_+4-32],Y=w[_+5-32],Z=w[_+6-32],re=w[_+7-32];w[_+0+0]=ur(w[_+0-32],F,I),w[_+1+0]=w[_+0+32]=ur(F,I,V),w[_+2+0]=w[_+1+32]=w[_+0+64]=ur(I,V,G),w[_+3+0]=w[_+2+32]=w[_+1+64]=w[_+0+96]=ur(V,G,Y),w[_+3+32]=w[_+2+64]=w[_+1+96]=ur(G,Y,Z),w[_+3+64]=w[_+2+96]=ur(Y,Z,re),w[_+3+96]=ur(Z,re,re)}function Y0(w,_){var F=w[_-1+0],I=w[_-1+32],V=w[_-1+64],G=w[_-1-32],Y=w[_+0-32],Z=w[_+1-32],re=w[_+2-32],ce=w[_+3-32];w[_+0+0]=w[_+1+64]=G+Y+1>>1,w[_+1+0]=w[_+2+64]=Y+Z+1>>1,w[_+2+0]=w[_+3+64]=Z+re+1>>1,w[_+3+0]=re+ce+1>>1,w[_+0+96]=ur(V,I,F),w[_+0+64]=ur(I,F,G),w[_+0+32]=w[_+1+96]=ur(F,G,Y),w[_+1+32]=w[_+2+96]=ur(G,Y,Z),w[_+2+32]=w[_+3+96]=ur(Y,Z,re),w[_+3+32]=ur(Z,re,ce)}function Lg(w,_){var F=w[_+0-32],I=w[_+1-32],V=w[_+2-32],G=w[_+3-32],Y=w[_+4-32],Z=w[_+5-32],re=w[_+6-32],ce=w[_+7-32];w[_+0+0]=F+I+1>>1,w[_+1+0]=w[_+0+64]=I+V+1>>1,w[_+2+0]=w[_+1+64]=V+G+1>>1,w[_+3+0]=w[_+2+64]=G+Y+1>>1,w[_+0+32]=ur(F,I,V),w[_+1+32]=w[_+0+96]=ur(I,V,G),w[_+2+32]=w[_+1+96]=ur(V,G,Y),w[_+3+32]=w[_+2+96]=ur(G,Y,Z),w[_+3+64]=ur(Y,Z,re),w[_+3+96]=ur(Z,re,ce)}function oj(w,_){var F=w[_-1+0],I=w[_-1+32],V=w[_-1+64],G=w[_-1+96];w[_+0+0]=F+I+1>>1,w[_+2+0]=w[_+0+32]=I+V+1>>1,w[_+2+32]=w[_+0+64]=V+G+1>>1,w[_+1+0]=ur(F,I,V),w[_+3+0]=w[_+1+32]=ur(I,V,G),w[_+3+32]=w[_+1+64]=ur(V,G,G),w[_+3+64]=w[_+2+64]=w[_+0+96]=w[_+1+96]=w[_+2+96]=w[_+3+96]=G}function lj(w,_){var F=w[_-1+0],I=w[_-1+32],V=w[_-1+64],G=w[_-1+96],Y=w[_-1-32],Z=w[_+0-32],re=w[_+1-32],ce=w[_+2-32];w[_+0+0]=w[_+2+32]=F+Y+1>>1,w[_+0+32]=w[_+2+64]=I+F+1>>1,w[_+0+64]=w[_+2+96]=V+I+1>>1,w[_+0+96]=G+V+1>>1,w[_+3+0]=ur(Z,re,ce),w[_+2+0]=ur(Y,Z,re),w[_+1+0]=w[_+3+32]=ur(F,Y,Z),w[_+1+32]=w[_+3+64]=ur(I,F,Y),w[_+1+64]=w[_+3+96]=ur(V,I,F),w[_+1+96]=ur(G,V,I)}function cj(w,_){var F;for(F=0;8>F;++F)n(w,_+32*F,w,_-32,8)}function Ig(w,_){var F;for(F=0;8>F;++F)a(w,_,w[_-1],8),_+=32}function ih(w,_,F){var I;for(I=0;8>I;++I)a(_,F+32*I,w,8)}function yf(w,_){var F,I=8;for(F=0;8>F;++F)I+=w[_+F-32]+w[_-1+32*F];ih(I>>4,w,_)}function uj(w,_){var F,I=4;for(F=0;8>F;++F)I+=w[_+F-32];ih(I>>3,w,_)}function sh(w,_){var F,I=4;for(F=0;8>F;++F)I+=w[_-1+32*F];ih(I>>3,w,_)}function Rg(w,_){ih(128,w,_)}function X0(w,_,F){var I=w[_-F],V=w[_+0],G=3*(V-I)+gj[1020+w[_-2*F]-w[_+F]],Y=Hy[112+(G+4>>3)];w[_-F]=no[255+I+Hy[112+(G+3>>3)]],w[_+0]=no[255+V-Y]}function Dy(w,_,F,I){var V=w[_+0],G=w[_+F];return zo[255+w[_-2*F]-w[_-F]]>I||zo[255+G-V]>I}function Ly(w,_,F,I){return 4*zo[255+w[_-F]-w[_+0]]+zo[255+w[_-2*F]-w[_+F]]<=I}function Iy(w,_,F,I,V){var G=w[_-3*F],Y=w[_-2*F],Z=w[_-F],re=w[_+0],ce=w[_+F],we=w[_+2*F],Pe=w[_+3*F];return 4*zo[255+Z-re]+zo[255+Y-ce]>I?0:zo[255+w[_-4*F]-G]<=V&&zo[255+G-Y]<=V&&zo[255+Y-Z]<=V&&zo[255+Pe-we]<=V&&zo[255+we-ce]<=V&&zo[255+ce-re]<=V}function Ry(w,_,F,I){var V=2*I+1;for(I=0;16>I;++I)Ly(w,_+I,F,V)&&X0(w,_+I,F)}function wc(w,_,F,I){var V=2*I+1;for(I=0;16>I;++I)Ly(w,_+I*F,1,V)&&X0(w,_+I*F,1)}function uu(w,_,F,I){var V;for(V=3;0<V;--V)Ry(w,_+=4*F,F,I)}function fj(w,_,F,I){var V;for(V=3;0<V;--V)wc(w,_+=4,F,I)}function wf(w,_,F,I,V,G,Y,Z){for(G=2*G+1;0<V--;){if(Iy(w,_,F,G,Y))if(Dy(w,_,F,Z))X0(w,_,F);else{var re=w,ce=_,we=F,Pe=re[ce-2*we],Oe=re[ce-we],Ne=re[ce+0],Qe=re[ce+we],Me=re[ce+2*we],be=27*(Xe=gj[1020+3*(Ne-Oe)+gj[1020+Pe-Qe]])+63>>7,je=18*Xe+63>>7,Xe=9*Xe+63>>7;re[ce-3*we]=no[255+re[ce-3*we]+Xe],re[ce-2*we]=no[255+Pe+je],re[ce-we]=no[255+Oe+be],re[ce+0]=no[255+Ne-be],re[ce+we]=no[255+Qe-je],re[ce+2*we]=no[255+Me-Xe]}_+=I}}function kl(w,_,F,I,V,G,Y,Z){for(G=2*G+1;0<V--;){if(Iy(w,_,F,G,Y))if(Dy(w,_,F,Z))X0(w,_,F);else{var re=w,ce=_,we=F,Pe=re[ce-we],Oe=re[ce+0],Ne=re[ce+we],Qe=Hy[112+((Me=3*(Oe-Pe))+4>>3)],Me=Hy[112+(Me+3>>3)],be=Qe+1>>1;re[ce-2*we]=no[255+re[ce-2*we]+be],re[ce-we]=no[255+Pe+Me],re[ce+0]=no[255+Oe-Qe],re[ce+we]=no[255+Ne-be]}_+=I}}function Mg(w,_,F,I,V,G){wf(w,_,F,1,16,I,V,G)}function oh(w,_,F,I,V,G){wf(w,_,1,F,16,I,V,G)}function dj(w,_,F,I,V,G){var Y;for(Y=3;0<Y;--Y)kl(w,_+=4*F,F,1,16,I,V,G)}function Z0(w,_,F,I,V,G){var Y;for(Y=3;0<Y;--Y)kl(w,_+=4,1,F,16,I,V,G)}function hj(w,_,F,I,V,G,Y,Z){wf(w,_,V,1,8,G,Y,Z),wf(F,I,V,1,8,G,Y,Z)}function Bg(w,_,F,I,V,G,Y,Z){wf(w,_,1,V,8,G,Y,Z),wf(F,I,1,V,8,G,Y,Z)}function Ug(w,_,F,I,V,G,Y,Z){kl(w,_+4*V,V,1,8,G,Y,Z),kl(F,I+4*V,V,1,8,G,Y,Z)}function My(w,_,F,I,V,G,Y,Z){kl(w,_+4,1,V,8,G,Y,Z),kl(F,I+4,1,V,8,G,Y,Z)}function J0(){this.ba=new Qs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $g(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function By(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new P}function pj(){this.xb=this.a=0,this.l=new xc,this.ca=new Qs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new By,this.ab=0,this.gc=s(4,zg),this.Oc=0}function Q0(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lh(w,_,F,I,V,G,Y){for(w=w==null?0:w[_+0],_=0;_<Y;++_)V[G+_]=w+F[I+_]&255,w=V[G+_]}function qg(w,_,F,I,V,G,Y){var Z;if(w==null)lh(null,null,F,I,V,G,Y);else for(Z=0;Z<Y;++Z)V[G+Z]=w[_+Z]+F[I+Z]&255}function bf(w,_,F,I,V,G,Y){if(w==null)lh(null,null,F,I,V,G,Y);else{var Z,re=w[_+0],ce=re,we=re;for(Z=0;Z<Y;++Z)ce=we+(re=w[_+Z])-ce,we=F[I+Z]+(-256&ce?0>ce?0:255:ce)&255,ce=re,V[G+Z]=we}}function Wg(w,_,F,I){var V=_.width,G=_.o;if(t(w!=null&&_!=null),0>F||0>=I||F+I>G)return null;if(!w.Cc){if(w.ga==null){var Y;if(w.ga=new Q0,(Y=w.ga==null)||(Y=_.width*_.o,t(w.Gb.length==0),w.Gb=i(Y),w.Uc=0,w.Gb==null?Y=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,Y=1),Y=!Y),!Y){Y=w.ga;var Z=w.Fa,re=w.P,ce=w.qc,we=w.mb,Pe=w.nb,Oe=re+1,Ne=ce-1,Qe=Y.l;if(t(Z!=null&&we!=null&&_!=null),Af[0]=null,Af[1]=lh,Af[2]=qg,Af[3]=bf,Y.ca=we,Y.tb=Pe,Y.c=_.width,Y.i=_.height,t(0<Y.c&&0<Y.i),1>=ce)_=0;else if(Y.$a=Z[re+0]>>0&3,Y.Z=Z[re+0]>>2&3,Y.Lc=Z[re+0]>>4&3,re=Z[re+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||re)_=0;else if(Qe.put=Io,Qe.ac=Ia,Qe.bc=Ro,Qe.ma=Y,Qe.width=_.width,Qe.height=_.height,Qe.Da=_.Da,Qe.v=_.v,Qe.va=_.va,Qe.j=_.j,Qe.o=_.o,Y.$a)e:{t(Y.$a==1),_=Re();t:for(;;){if(_==null){_=0;break e}if(t(Y!=null),Y.mc=_,_.c=Y.c,_.i=Y.i,_.l=Y.l,_.l.ma=Y,_.l.width=Y.c,_.l.height=Y.i,_.a=0,X(_.m,Z,Oe,Ne),!Ce(Y.c,Y.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&ne(_.s)?(Y.ic=1,Z=_.c*_.i,_.Ta=null,_.Ua=0,_.V=i(Z),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(Y.ic=0,_=Fe(_,Y.c)),!_))break t;_=1;break e}Y.mc=null,_=0}else _=Ne>=Y.c*Y.i;Y=!_}if(Y)return null;w.ga.Lc!=1?w.Ga=0:I=G-F}t(w.ga!=null),t(F+I<=G);e:{if(_=(Z=w.ga).c,G=Z.l.o,Z.$a==0){if(Oe=w.rc,Ne=w.Vc,Qe=w.Fa,re=w.P+1+F*_,ce=w.mb,we=w.nb+F*_,t(re<=w.P+w.qc),Z.Z!=0)for(t(Af[Z.Z]!=null),Y=0;Y<I;++Y)Af[Z.Z](Oe,Ne,Qe,re,ce,we,_),Oe=ce,Ne=we,we+=_,re+=_;else for(Y=0;Y<I;++Y)n(ce,we,Qe,re,_),Oe=ce,Ne=we,we+=_,re+=_;w.rc=Oe,w.Vc=Ne}else{if(t(Z.mc!=null),_=F+I,t((Y=Z.mc)!=null),t(_<=Y.i),Y.C>=_)_=1;else if(Z.ic||Ee(),Z.ic){Z=Y.V,Oe=Y.Ba,Ne=Y.c;var Me=Y.i,be=(Qe=1,re=Y.$/Ne,ce=Y.$%Ne,we=Y.m,Pe=Y.s,Y.$),je=Ne*Me,Xe=Ne*_,nt=Pe.wc,Ze=be<Xe?ra(Pe,ce,re):null;t(be<=je),t(_<=Me),t(ne(Pe));t:for(;;){for(;!we.h&&be<Xe;){if(ce&nt||(Ze=ra(Pe,ce,re)),t(Ze!=null),te(we),256>(Me=Ii(Ze.G[0],Ze.H[0],we)))Z[Oe+be]=Me,++be,++ce>=Ne&&(ce=0,++re<=_&&!(re%16)&&ue(Y,re));else{if(!(280>Me)){Qe=0;break t}Me=eo(Me-256,we);var Rt,kt=Ii(Ze.G[4],Ze.H[4],we);if(te(we),!(be>=(kt=Ts(Ne,kt=eo(kt,we)))&&je-be>=Me)){Qe=0;break t}for(Rt=0;Rt<Me;++Rt)Z[Oe+be+Rt]=Z[Oe+be+Rt-kt];for(be+=Me,ce+=Me;ce>=Ne;)ce-=Ne,++re<=_&&!(re%16)&&ue(Y,re);be<Xe&&ce&nt&&(Ze=ra(Pe,ce,re))}t(we.h==B(we))}ue(Y,re>_?_:re);break t}!Qe||we.h&&be<je?(Qe=0,Y.a=we.h?5:3):Y.$=be,_=Qe}else _=he(Y,Y.V,Y.Ba,Y.c,Y.i,_,Le);if(!_){I=0;break e}}F+I>=G&&(w.Cc=1),I=1}if(!I)return null;if(w.Cc&&((I=w.ga)!=null&&(I.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+F*V}function A(w,_,F,I,V,G){for(;0<V--;){var Y,Z=w,re=_+(F?1:0),ce=w,we=_+(F?0:3);for(Y=0;Y<I;++Y){var Pe=ce[we+4*Y];Pe!=255&&(Pe*=32897,Z[re+4*Y+0]=Z[re+4*Y+0]*Pe>>23,Z[re+4*Y+1]=Z[re+4*Y+1]*Pe>>23,Z[re+4*Y+2]=Z[re+4*Y+2]*Pe>>23)}_+=G}}function H(w,_,F,I,V){for(;0<I--;){var G;for(G=0;G<F;++G){var Y=w[_+2*G+0],Z=15&(ce=w[_+2*G+1]),re=4369*Z,ce=(240&ce|ce>>4)*re>>16;w[_+2*G+0]=(240&Y|Y>>4)*re>>16&240|(15&Y|Y<<4)*re>>16>>4&15,w[_+2*G+1]=240&ce|Z}_+=V}}function me(w,_,F,I,V,G,Y,Z){var re,ce,we=255;for(ce=0;ce<V;++ce){for(re=0;re<I;++re){var Pe=w[_+re];G[Y+4*re]=Pe,we&=Pe}_+=F,Y+=Z}return we!=255}function xe(w,_,F,I,V){var G;for(G=0;G<V;++G)F[I+G]=w[_+G]>>8}function Ee(){$o=A,jn=H,Nn=me,ma=xe}function $e(w,_,F){E[w]=function(I,V,G,Y,Z,re,ce,we,Pe,Oe,Ne,Qe,Me,be,je,Xe,nt){var Ze,Rt=nt-1>>1,kt=Z[re+0]|ce[we+0]<<16,Zt=Pe[Oe+0]|Ne[Qe+0]<<16;t(I!=null);var Ct=3*kt+Zt+131074>>2;for(_(I[V+0],255&Ct,Ct>>16,Me,be),G!=null&&(Ct=3*Zt+kt+131074>>2,_(G[Y+0],255&Ct,Ct>>16,je,Xe)),Ze=1;Ze<=Rt;++Ze){var tn=Z[re+Ze]|ce[we+Ze]<<16,on=Pe[Oe+Ze]|Ne[Qe+Ze]<<16,Vr=kt+tn+Zt+on+524296,Mr=Vr+2*(tn+Zt)>>3;Ct=Mr+kt>>1,kt=(Vr=Vr+2*(kt+on)>>3)+tn>>1,_(I[V+2*Ze-1],255&Ct,Ct>>16,Me,be+(2*Ze-1)*F),_(I[V+2*Ze-0],255&kt,kt>>16,Me,be+(2*Ze-0)*F),G!=null&&(Ct=Vr+Zt>>1,kt=Mr+on>>1,_(G[Y+2*Ze-1],255&Ct,Ct>>16,je,Xe+(2*Ze-1)*F),_(G[Y+2*Ze+0],255&kt,kt>>16,je,Xe+(2*Ze+0)*F)),kt=tn,Zt=on}1&nt||(Ct=3*kt+Zt+131074>>2,_(I[V+nt-1],255&Ct,Ct>>16,Me,be+(nt-1)*F),G!=null&&(Ct=3*Zt+kt+131074>>2,_(G[Y+nt-1],255&Ct,Ct>>16,je,Xe+(nt-1)*F)))}}function st(){qo[Gy]=sJ,qo[Ky]=b6,qo[g6]=oJ,qo[Yy]=_6,qo[Xy]=S6,qo[vj]=j6,qo[v6]=lJ,qo[xj]=b6,qo[yj]=_6,qo[Zy]=S6,qo[wj]=j6}function It(w){return w&~cJ?0>w?0:255:w>>N6}function Ht(w,_){return It((19077*w>>8)+(26149*_>>8)-14234)}function hr(w,_,F){return It((19077*w>>8)-(6419*_>>8)-(13320*F>>8)+8708)}function fr(w,_){return It((19077*w>>8)+(33050*_>>8)-17685)}function qr(w,_,F,I,V){I[V+0]=Ht(w,F),I[V+1]=hr(w,_,F),I[V+2]=fr(w,_)}function Kn(w,_,F,I,V){I[V+0]=fr(w,_),I[V+1]=hr(w,_,F),I[V+2]=Ht(w,F)}function na(w,_,F,I,V){var G=hr(w,_,F);_=G<<3&224|fr(w,_)>>3,I[V+0]=248&Ht(w,F)|G>>5,I[V+1]=_}function Aa(w,_,F,I,V){var G=240&fr(w,_)|15;I[V+0]=240&Ht(w,F)|hr(w,_,F)>>4,I[V+1]=G}function Mi(w,_,F,I,V){I[V+0]=255,qr(w,_,F,I,V+1)}function Ya(w,_,F,I,V){Kn(w,_,F,I,V),I[V+3]=255}function Al(w,_,F,I,V){qr(w,_,F,I,V),I[V+3]=255}function ro(w,_){return 0>w?0:w>_?_:w}function bc(w,_,F){E[w]=function(I,V,G,Y,Z,re,ce,we,Pe){for(var Oe=we+(-2&Pe)*F;we!=Oe;)_(I[V+0],G[Y+0],Z[re+0],ce,we),_(I[V+1],G[Y+0],Z[re+0],ce,we+F),V+=2,++Y,++re,we+=2*F;1&Pe&&_(I[V+0],G[Y+0],Z[re+0],ce,we)}}function Uy(w,_,F){return F==0?w==0?_==0?6:5:_==0?4:0:F}function Vg(w,_,F,I,V){switch(w>>>30){case 3:hu(_,F,I,V,0);break;case 2:pa(_,F,I,V);break;case 1:cs(_,F,I,V)}}function Hg(w,_){var F,I,V=_.M,G=_.Nb,Y=w.oc,Z=w.pc+40,re=w.oc,ce=w.pc+584,we=w.oc,Pe=w.pc+600;for(F=0;16>F;++F)Y[Z+32*F-1]=129;for(F=0;8>F;++F)re[ce+32*F-1]=129,we[Pe+32*F-1]=129;for(0<V?Y[Z-1-32]=re[ce-1-32]=we[Pe-1-32]=129:(a(Y,Z-32-1,127,21),a(re,ce-32-1,127,9),a(we,Pe-32-1,127,9)),I=0;I<w.za;++I){var Oe=_.ya[_.aa+I];if(0<I){for(F=-1;16>F;++F)n(Y,Z+32*F-4,Y,Z+32*F+12,4);for(F=-1;8>F;++F)n(re,ce+32*F-4,re,ce+32*F+4,4),n(we,Pe+32*F-4,we,Pe+32*F+4,4)}var Ne=w.Gd,Qe=w.Hd+I,Me=Oe.ad,be=Oe.Hc;if(0<V&&(n(Y,Z-32,Ne[Qe].y,0,16),n(re,ce-32,Ne[Qe].f,0,8),n(we,Pe-32,Ne[Qe].ea,0,8)),Oe.Za){var je=Y,Xe=Z-32+16;for(0<V&&(I>=w.za-1?a(je,Xe,Ne[Qe].y[15],4):n(je,Xe,Ne[Qe+1].y,0,4)),F=0;4>F;F++)je[Xe+128+F]=je[Xe+256+F]=je[Xe+384+F]=je[Xe+0+F];for(F=0;16>F;++F,be<<=2)je=Y,Xe=Z+A6[F],El[Oe.Ob[F]](je,Xe),Vg(be,Me,16*+F,je,Xe)}else if(je=Uy(I,V,Oe.Ob[0]),kf[je](Y,Z),be!=0)for(F=0;16>F;++F,be<<=2)Vg(be,Me,16*+F,Y,Z+A6[F]);for(F=Oe.Gc,je=Uy(I,V,Oe.Dd),mu[je](re,ce),mu[je](we,Pe),be=Me,je=re,Xe=ce,255&(Oe=F>>0)&&(170&Oe?Zg(be,256,je,Xe):Bo(be,256,je,Xe)),Oe=we,be=Pe,255&(F>>=8)&&(170&F?Zg(Me,320,Oe,be):Bo(Me,320,Oe,be)),V<w.Ub-1&&(n(Ne[Qe].y,0,Y,Z+480,16),n(Ne[Qe].f,0,re,ce+224,8),n(Ne[Qe].ea,0,we,Pe+224,8)),F=8*G*w.B,Ne=w.sa,Qe=w.ta+16*I+16*G*w.R,Me=w.qa,Oe=w.ra+8*I+F,be=w.Ha,je=w.Ia+8*I+F,F=0;16>F;++F)n(Ne,Qe+F*w.R,Y,Z+32*F,16);for(F=0;8>F;++F)n(Me,Oe+F*w.B,re,ce+32*F,8),n(be,je+F*w.B,we,Pe+32*F,8)}}function ep(w,_,F,I,V,G,Y,Z,re){var ce=[0],we=[0],Pe=0,Oe=re!=null?re.kd:0,Ne=re??new $g;if(w==null||12>F)return 7;Ne.data=w,Ne.w=_,Ne.ha=F,_=[_],F=[F],Ne.gb=[Ne.gb];e:{var Qe=_,Me=F,be=Ne.gb;if(t(w!=null),t(Me!=null),t(be!=null),be[0]=0,12<=Me[0]&&!r(w,Qe[0],"RIFF")){if(r(w,Qe[0]+8,"WEBP")){be=3;break e}var je=Be(w,Qe[0]+4);if(12>je||4294967286<je){be=3;break e}if(Oe&&je>Me[0]-8){be=7;break e}be[0]=je,Qe[0]+=12,Me[0]-=12}be=0}if(be!=0)return be;for(je=0<Ne.gb[0],F=F[0];;){e:{var Xe=w;Me=_,be=F;var nt=ce,Ze=we,Rt=Qe=[0];if((Ct=Pe=[Pe])[0]=0,8>be[0])be=7;else{if(!r(Xe,Me[0],"VP8X")){if(Be(Xe,Me[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var kt=Be(Xe,Me[0]+8),Zt=1+q(Xe,Me[0]+12);if(2147483648<=Zt*(Xe=1+q(Xe,Me[0]+15))){be=3;break e}Rt!=null&&(Rt[0]=kt),nt!=null&&(nt[0]=Zt),Ze!=null&&(Ze[0]=Xe),Me[0]+=18,be[0]-=18,Ct[0]=1}be=0}}if(Pe=Pe[0],Qe=Qe[0],be!=0)return be;if(Me=!!(2&Qe),!je&&Pe)return 3;if(G!=null&&(G[0]=!!(16&Qe)),Y!=null&&(Y[0]=Me),Z!=null&&(Z[0]=0),Y=ce[0],Qe=we[0],Pe&&Me&&re==null){be=0;break}if(4>F){be=7;break}if(je&&Pe||!je&&!Pe&&!r(w,_[0],"ALPH")){F=[F],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{kt=w,be=_,je=F;var Ct=Ne.gb;nt=Ne.na,Ze=Ne.P,Rt=Ne.Sa,Zt=22,t(kt!=null),t(je!=null),Xe=be[0];var tn=je[0];for(t(nt!=null),t(Rt!=null),nt[0]=null,Ze[0]=null,Rt[0]=0;;){if(be[0]=Xe,je[0]=tn,8>tn){be=7;break e}var on=Be(kt,Xe+4);if(4294967286<on){be=3;break e}var Vr=8+on+1&-2;if(Zt+=Vr,0<Ct&&Zt>Ct){be=3;break e}if(!r(kt,Xe,"VP8 ")||!r(kt,Xe,"VP8L")){be=0;break e}if(tn[0]<Vr){be=7;break e}r(kt,Xe,"ALPH")||(nt[0]=kt,Ze[0]=Xe+8,Rt[0]=on),Xe+=Vr,tn-=Vr}}if(F=F[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],be!=0)break}F=[F],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(Ct=w,be=_,je=F,nt=Ne.gb[0],Ze=Ne.Ja,Rt=Ne.xa,kt=be[0],Xe=!r(Ct,kt,"VP8 "),Zt=!r(Ct,kt,"VP8L"),t(Ct!=null),t(je!=null),t(Ze!=null),t(Rt!=null),8>je[0])be=7;else{if(Xe||Zt){if(Ct=Be(Ct,kt+4),12<=nt&&Ct>nt-12){be=3;break e}if(Oe&&Ct>je[0]-8){be=7;break e}Ze[0]=Ct,be[0]+=8,je[0]-=8,Rt[0]=Zt}else Rt[0]=5<=je[0]&&Ct[kt+0]==47&&!(Ct[kt+4]>>5),Ze[0]=je[0];be=0}if(F=F[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],_=_[0],be!=0)break;if(4294967286<Ne.Ja)return 3;if(Z==null||Me||(Z[0]=Ne.xa?2:1),Y=[Y],Qe=[Qe],Ne.xa){if(5>F){be=7;break}Z=Y,Oe=Qe,Me=G,w==null||5>F?w=0:5<=F&&w[_+0]==47&&!(w[_+4]>>5)?(je=[0],Ct=[0],nt=[0],X(Ze=new T,w,_,F),Xt(Ze,je,Ct,nt)?(Z!=null&&(Z[0]=je[0]),Oe!=null&&(Oe[0]=Ct[0]),Me!=null&&(Me[0]=nt[0]),w=1):w=0):w=0}else{if(10>F){be=7;break}Z=Qe,w==null||10>F||!jy(w,_+3,F-3)?w=0:(Oe=w[_+0]|w[_+1]<<8|w[_+2]<<16,Me=16383&(w[_+7]<<8|w[_+6]),w=16383&(w[_+9]<<8|w[_+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ne.Ja||!Me||!w?w=0:(Y&&(Y[0]=Me),Z&&(Z[0]=w),w=1))}if(!w||(Y=Y[0],Qe=Qe[0],Pe&&(ce[0]!=Y||we[0]!=Qe)))return 3;re!=null&&(re[0]=Ne,re.offset=_-re.w,t(4294967286>_-re.w),t(re.offset==re.ha-F));break}return be==0||be==7&&Pe&&re==null?(G!=null&&(G[0]|=Ne.na!=null&&0<Ne.na.length),I!=null&&(I[0]=Y),V!=null&&(V[0]=Qe),0):be}function Gg(w,_,F){var I=_.width,V=_.height,G=0,Y=0,Z=I,re=V;if(_.Da=w!=null&&0<w.Da,_.Da&&(Z=w.cd,re=w.bd,G=w.v,Y=w.j,11>F||(G&=-2,Y&=-2),0>G||0>Y||0>=Z||0>=re||G+Z>I||Y+re>V))return 0;if(_.v=G,_.j=Y,_.va=G+Z,_.o=Y+re,_.U=Z,_.T=re,_.da=w!=null&&0<w.da,_.da){if(!Ie(Z,re,F=[w.ib],G=[w.hb]))return 0;_.ib=F[0],_.hb=G[0]}return _.ob=w!=null&&w.ob,_.Kb=w==null||!w.Sd,_.da&&(_.ob=_.ib<3*I/4&&_.hb<3*V/4,_.Kb=0),1}function Kg(w){if(w==null)return 2;if(11>w.S){var _=w.f.RGBA;_.fb+=(w.height-1)*_.A,_.A=-_.A}else _=w.f.kb,w=w.height,_.O+=(w-1)*_.fa,_.fa=-_.fa,_.N+=(w-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(w-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(w-1)*_.lb,_.lb=-_.lb);return 0}function tp(w,_,F,I){if(I==null||0>=w||0>=_)return 2;if(F!=null){if(F.Da){var V=F.cd,G=F.bd,Y=-2&F.v,Z=-2&F.j;if(0>Y||0>Z||0>=V||0>=G||Y+V>w||Z+G>_)return 2;w=V,_=G}if(F.da){if(!Ie(w,_,V=[F.ib],G=[F.hb]))return 2;w=V[0],_=G[0]}}I.width=w,I.height=_;e:{var re=I.width,ce=I.height;if(w=I.S,0>=re||0>=ce||!(w>=Gy&&13>w))w=2;else{if(0>=I.Rd&&I.sd==null){Y=G=V=_=0;var we=(Z=re*E6[w])*ce;if(11>w||(G=(ce+1)/2*(_=(re+1)/2),w==12&&(Y=(V=re)*ce)),(ce=i(we+2*G+Y))==null){w=1;break e}I.sd=ce,11>w?((re=I.f.RGBA).eb=ce,re.fb=0,re.A=Z,re.size=we):((re=I.f.kb).y=ce,re.O=0,re.fa=Z,re.Fd=we,re.f=ce,re.N=0+we,re.Ab=_,re.Cd=G,re.ea=ce,re.W=0+we+G,re.Db=_,re.Ed=G,w==12&&(re.F=ce,re.J=0+we+2*G),re.Tc=Y,re.lb=V)}if(_=1,V=I.S,G=I.width,Y=I.height,V>=Gy&&13>V)if(11>V)w=I.f.RGBA,_&=(Z=Math.abs(w.A))*(Y-1)+G<=w.size,_&=Z>=G*E6[V],_&=w.eb!=null;else{w=I.f.kb,Z=(G+1)/2,we=(Y+1)/2,re=Math.abs(w.fa),ce=Math.abs(w.Ab);var Pe=Math.abs(w.Db),Oe=Math.abs(w.lb),Ne=Oe*(Y-1)+G;_&=re*(Y-1)+G<=w.Fd,_&=ce*(we-1)+Z<=w.Cd,_=(_&=Pe*(we-1)+Z<=w.Ed)&re>=G&ce>=Z&Pe>=Z,_&=w.y!=null,_&=w.f!=null,_&=w.ea!=null,V==12&&(_&=Oe>=G,_&=Ne<=w.Tc,_&=w.F!=null)}else _=0;w=_?0:2}}return w!=0||F!=null&&F.fd&&(w=Kg(I)),w}var mi=64,rp=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],np=24,ap=32,Yg=8,Os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(w){return w},E.Predictor2=function(w,_,F){return _[F+0]},E.Predictor3=function(w,_,F){return _[F+1]},E.Predictor4=function(w,_,F){return _[F-1]},E.Predictor5=function(w,_,F){return le(le(w,_[F+1]),_[F+0])},E.Predictor6=function(w,_,F){return le(w,_[F-1])},E.Predictor7=function(w,_,F){return le(w,_[F+0])},E.Predictor8=function(w,_,F){return le(_[F-1],_[F+0])},E.Predictor9=function(w,_,F){return le(_[F+0],_[F+1])},E.Predictor10=function(w,_,F){return le(le(w,_[F-1]),le(_[F+0],_[F+1]))},E.Predictor11=function(w,_,F){var I=_[F+0];return 0>=Ge(I>>24&255,w>>24&255,(_=_[F-1])>>24&255)+Ge(I>>16&255,w>>16&255,_>>16&255)+Ge(I>>8&255,w>>8&255,_>>8&255)+Ge(255&I,255&w,255&_)?I:w},E.Predictor12=function(w,_,F){var I=_[F+0];return(ve((w>>24&255)+(I>>24&255)-((_=_[F-1])>>24&255))<<24|ve((w>>16&255)+(I>>16&255)-(_>>16&255))<<16|ve((w>>8&255)+(I>>8&255)-(_>>8&255))<<8|ve((255&w)+(255&I)-(255&_)))>>>0},E.Predictor13=function(w,_,F){var I=_[F-1];return(ke((w=le(w,_[F+0]))>>24&255,I>>24&255)<<24|ke(w>>16&255,I>>16&255)<<16|ke(w>>8&255,I>>8&255)<<8|ke(w>>0&255,I>>0&255))>>>0};var mj=E.PredictorAdd0;E.PredictorAdd1=He,gt("Predictor2","PredictorAdd2"),gt("Predictor3","PredictorAdd3"),gt("Predictor4","PredictorAdd4"),gt("Predictor5","PredictorAdd5"),gt("Predictor6","PredictorAdd6"),gt("Predictor7","PredictorAdd7"),gt("Predictor8","PredictorAdd8"),gt("Predictor9","PredictorAdd9"),gt("Predictor10","PredictorAdd10"),gt("Predictor11","PredictorAdd11"),gt("Predictor12","PredictorAdd12"),gt("Predictor13","PredictorAdd13");var Xg=E.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var $y,Mo=E.ColorIndexInverseTransform,ip=E.MapARGB,zy=E.VP8LColorIndexInverseTransformAlpha,qy=E.MapAlpha,_f=E.VP8LPredictorsAdd=[];_f.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ch,Fs,ls,Sf,fu,du,sp,hu,pa,Zg,cs,Bo,op,Wy,Jg,uh,fh,jf,dh,lp,hh,Nf,Qg,Uo,$o,jn,Nn,ma,Ra=i(511),pu=i(2041),ev=i(225),cp=i(767),Vy=0,gj=pu,Hy=ev,no=cp,zo=Ra,Gy=0,Ky=1,g6=2,Yy=3,Xy=4,vj=5,v6=6,xj=7,yj=8,Zy=9,wj=10,HZ=[2,3,7],GZ=[3,3,11],x6=[280,256,256,256,40],KZ=[0,1,1,1,0],YZ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XZ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ZZ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],JZ=8,bj=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_j=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tv=null,QZ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],eJ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],y6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tJ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rJ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nJ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],aJ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],kf=[],El=[],mu=[],iJ=1,w6=2,Af=[],qo=[];$e("UpsampleRgbLinePair",qr,3),$e("UpsampleBgrLinePair",Kn,3),$e("UpsampleRgbaLinePair",Al,4),$e("UpsampleBgraLinePair",Ya,4),$e("UpsampleArgbLinePair",Mi,4),$e("UpsampleRgba4444LinePair",Aa,2),$e("UpsampleRgb565LinePair",na,2);var sJ=E.UpsampleRgbLinePair,oJ=E.UpsampleBgrLinePair,b6=E.UpsampleRgbaLinePair,_6=E.UpsampleBgraLinePair,S6=E.UpsampleArgbLinePair,j6=E.UpsampleRgba4444LinePair,lJ=E.UpsampleRgb565LinePair,Jy=16,Qy=1<<Jy-1,rv=-227,Sj=482,N6=6,cJ=(256<<N6)-1,k6=0,uJ=i(256),fJ=i(256),dJ=i(256),hJ=i(256),pJ=i(Sj-rv),mJ=i(Sj-rv);bc("YuvToRgbRow",qr,3),bc("YuvToBgrRow",Kn,3),bc("YuvToRgbaRow",Al,4),bc("YuvToBgraRow",Ya,4),bc("YuvToArgbRow",Mi,4),bc("YuvToRgba4444Row",Aa,2),bc("YuvToRgb565Row",na,2);var A6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],e2=[0,2,8],gJ=[8,7,6,4,4,2,2,2,1,1,1,1],vJ=1;this.WebPDecodeRGBA=function(w,_,F,I,V){var G=Ky,Y=new J0,Z=new Qs;Y.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var re=Z.width,ce=Z.height,we=new _l;if(we==null||w==null)var Pe=2;else t(we!=null),Pe=ep(w,_,F,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Pe!=0?re=0:(re!=null&&(re[0]=we.width[0]),ce!=null&&(ce[0]=we.height[0]),re=1),re){Z.width=Z.width[0],Z.height=Z.height[0],I!=null&&(I[0]=Z.width),V!=null&&(V[0]=Z.height);e:{if(I=new xc,(V=new $g).data=w,V.w=_,V.ha=F,V.kd=1,_=[0],t(V!=null),((w=ep(V.data,V.w,V.ha,null,null,null,_,null,V))==0||w==7)&&_[0]&&(w=4),(_=w)==0){if(t(Y!=null),I.data=V.data,I.w=V.w+V.offset,I.ha=V.ha-V.offset,I.put=Io,I.ac=Ia,I.bc=Ro,I.ma=Y,V.xa){if((w=Re())==null){Y=1;break e}if(function(Oe,Ne){var Qe=[0],Me=[0],be=[0];t:for(;;){if(Oe==null)return 0;if(Ne==null)return Oe.a=2,0;if(Oe.l=Ne,Oe.a=0,X(Oe.m,Ne.data,Ne.w,Ne.ha),!Xt(Oe.m,Qe,Me,be)){Oe.a=3;break t}if(Oe.xb=w6,Ne.width=Qe[0],Ne.height=Me[0],!Ce(Qe[0],Me[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0}(w,I)){if(I=(_=tp(I.width,I.height,Y.Oa,Y.ba))==0){t:{I=w;r:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((F=I.l)!=null),t((V=F.ma)!=null),I.xb!=0){if(I.ca=V.ba,I.tb=V.tb,t(I.ca!=null),!Gg(V.Oa,F,Yy)){I.a=2;break r}if(!Fe(I,F.width)||F.da)break r;if((F.da||Rr(I.ca.S))&&Ee(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Ee()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!We(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!he(I,I.V,I.Ba,I.c,I.i,F.o,de))break r;V.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(_=w.a)}else _=w.a}else{if((w=new to)==null){Y=1;break e}if(w.Fa=V.na,w.P=V.P,w.qc=V.Sa,Ny(w,I)){if((_=tp(I.width,I.height,Y.Oa,Y.ba))==0){if(w.Aa=0,F=Y.Oa,t((V=w)!=null),F!=null){if(0<(re=0>(re=F.Md)?0:100<re?255:255*re/100)){for(ce=we=0;4>ce;++ce)12>(Pe=V.pb[ce]).lc&&(Pe.ia=re*gJ[0>Pe.lc?0:Pe.lc]>>3),we|=Pe.ia;we&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=F.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}ZS(w,I)||(_=w.a)}}else _=w.a}_==0&&Y.Oa!=null&&Y.Oa.fd&&(_=Kg(Y.ba))}Y=_}G=Y!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var E6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,D){for(var M="",C=0;C<4;C++)M+=String.fromCharCode(E[D++]);return M}function f(E,D){return(E[D+0]<<0|E[D+1]<<8|E[D+2]<<16)>>>0}function d(E,D){return(E[D+0]<<0|E[D+1]<<8|E[D+2]<<16|E[D+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],m=new c,v=e,x=function(E,D){var M={},C=0,P=!1,R=0,U=0;if(M.frames=[],!function(L,B,z,te){for(var ie=0;ie<te;ie++)if(L[B+ie]!=z.charCodeAt(ie))return!0;return!1}(E,D,"RIFF",4)){for(d(E,D+=4),D+=8;D<E.length;){var ee=u(E,D),J=d(E,D+=4);D+=4;var ae=J+(1&J);switch(ee){case"VP8 ":case"VP8L":M.frames[C]===void 0&&(M.frames[C]={}),(fe=M.frames[C]).src_off=P?U:D-8,fe.src_size=R+J+8,C++,P&&(P=!1,R=0,U=0);break;case"VP8X":(fe=M.header={}).feature_flags=E[D];var X=D+4;fe.canvas_width=1+f(E,X),X+=3,fe.canvas_height=1+f(E,X),X+=3;break;case"ALPH":P=!0,R=ae+8,U=D-8;break;case"ANIM":(fe=M.header).bgcolor=d(E,D),X=D+4,fe.loop_count=(Se=E)[(T=X)+0]<<0|Se[T+1]<<8,X+=2;break;case"ANMF":var W,fe;(fe=M.frames[C]={}).offset_x=2*f(E,D),D+=3,fe.offset_y=2*f(E,D),D+=3,fe.width=1+f(E,D),D+=3,fe.height=1+f(E,D),D+=3,fe.duration=f(E,D),D+=3,W=E[D++],fe.dispose=1&W,fe.blend=W>>1&1}ee!="ANMF"&&(D+=ae)}var Se,T;return M}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,b=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var j=0;j<b.length&&b[j].blend!=0;j++);}var k=b[0],O=m.WebPDecodeRGBA(v,k.src_off,k.src_size,p,h);k.rgba=O,k.imgwidth=p[0],k.imgheight=h[0];for(var N=0;N<p[0]*h[0]*4;N++)g[N]=O[N];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof RA=="function"},r=function(h,p,g,m){var v=4,x=s;switch(m){case e.image_compression.FAST:v=1,x=i;break;case e.image_compression.MEDIUM:v=6,x=o;break;case e.image_compression.SLOW:v=9,x=c}h=n(h,p,g,x);var y=RA(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,g,m){for(var v,x,y,b=h.length/p,j=new Uint8Array(h.length+b),k=f(),O=0;O<b;O+=1){if(y=O*p,v=h.subarray(y,y+p),m)j.set(m(v,g,x),y+O);else{for(var N,E=k.length,D=[];N<E;N+=1)D[N]=k[N](v,g,x);var M=d(D.concat());j.set(D[M],y+O)}x=v}return j},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var x=0;x<v;x+=1)g=h[x-p]||0,m[x+1]=h[x]-g+256&255;return m},s=function(h,p,g){var m,v=[],x=h.length;v[0]=2;for(var y=0;y<x;y+=1)m=g&&g[y]||0,v[y+1]=h[y]-m+256&255;return v},o=function(h,p,g){var m,v,x=[],y=h.length;x[0]=3;for(var b=0;b<y;b+=1)m=h[b-p]||0,v=g&&g[b]||0,x[b+1]=h[b]+256-(m+v>>>1)&255;return x},c=function(h,p,g){var m,v,x,y,b=[],j=h.length;b[0]=4;for(var k=0;k<j;k+=1)m=h[k-p]||0,v=g&&g[k]||0,x=g&&g[k-p]||0,y=u(m,v,x),b[k+1]=h[k]-y+256&255;return b},u=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),x=Math.abs(h+p-g-g);return m<=v&&m<=x?h:v<=x?p:g},f=function(){return[a,i,s,o,c]},d=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,x,y,b,j,k,O,N,E,D,M,C,P,R,U,ee=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new l5e(h)).imgData,x=y.bits,v=y.colorSpace,j=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){E=(N=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,M=new Uint8Array(E*y.colors),D=new Uint8Array(E);var ae,X=y.pixelBitlength-y.bits;for(R=0,U=0;R<E;R++){for(P=N[R],ae=0;ae<X;)M[U++]=P>>>ae&255,ae+=y.bits;D[R]=P>>>ae&255}}if(y.bits===16){E=(N=new Uint32Array(y.decodePixels().buffer)).length,M=new Uint8Array(E*(32/y.pixelBitlength)*y.colors),D=new Uint8Array(E*(32/y.pixelBitlength)),C=y.colors>1,R=0,U=0;for(var W=0;R<E;)P=N[R++],M[U++]=P>>>0&255,C&&(M[U++]=P>>>16&255,P=N[R++],M[U++]=P>>>0&255),D[W++]=P>>>16&255;x=8}m!==e.image_compression.NONE&&t()?(h=r(M,y.width*y.colors,y.colors,m),O=r(D,y.width,1,m)):(h=M,O=D,ee=void 0)}if(y.colorType===3&&(v=this.color_spaces.INDEXED,k=y.palette,y.transparency.indexed)){var fe=y.transparency.indexed,Se=0;for(R=0,E=fe.length;R<E;++R)Se+=fe[R];if((Se/=255)===E-1&&fe.indexOf(0)!==-1)b=[fe.indexOf(0)];else if(Se!==E){for(N=y.decodePixels(),D=new Uint8Array(N.length),R=0,E=N.length;R<E;R++)D[R]=fe[N[R]];O=r(D,y.width,1)}}var T=function(L){var B;switch(L){case e.image_compression.FAST:B=11;break;case e.image_compression.MEDIUM:B=13;break;case e.image_compression.SLOW:B=14;break;default:B=12}return B}(m);return ee===this.decode.FLATE_DECODE&&(J="/Predictor "+T+" "),J+="/Colors "+j+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:g,data:h,index:p,filter:ee,decodeParameters:J,transparency:b,palette:k,sMask:O,predictor:T,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:v}}}})(tr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new c5e(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},f=new tN(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(tr.API),Fl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){bn.log("bit decode error:"+r)}},Fl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Fl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Fl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=u}this.pos+=e}},Fl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Fl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Fl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Fl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Fl(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new tN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tr.API),tL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new tL(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new tN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(tr.API),tr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var f=n[u],d=n[u+1],h=n[u+2],p=n[u+3];i[o++]=f,i[o++]=d,i[o++]=h,s[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ep=tr.API,tw=Ep.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,d=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||c,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&hn(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/f:0,v.push((o[n]||m)/c+h)),g=n;return v},ZD=Ep.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Ep.processArabic&&(e=Ep.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:tw.apply(this,arguments).reduce(function(i,s){return i+s},0)},JD=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},QD=function(e,t,r){r||(r={});var n,a,i,s,o,c,u,f=[],d=[f],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=tw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),y=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(k,O){return(O&&k.length?`
`:"")+k})):y.push(j[0])}),m=y,c=ZD.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(g=(a=tw.apply(this,[n,r])).reduce(function(j,k){return j+k},0))>t||b){if(g>t){for(o=JD.apply(this,[n,a,t-(h+p),t]),f.push(o.shift()),f=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(j,k){return j+k},0)}else f=[n];d.push(f),h=g+c,p=v}else f.push(n),h+=p+g,p=v}return u=c?function(j,k){return(k?x:"")+j.join(" ")}:function(j){return j.join(" ")},d.map(u)},Ep.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var d=this.internal.getFont(f.fontName,f.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(QD.apply(this,[n[o],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var h,p,g,m,v=["{"];for(var x in d){if(h=d[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(hn(h)!=="object")throw new Error("Don't know what to do with value type "+hn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},x=1,y=v,b=[],j="",k="",O=d.length-1,N=1;N<O;N+=1)(m=d[N])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([y,g]),y={},g=void 0):m=="}"?((p=b.pop())[0][p[1]]=y,g=void 0,y=p[0]):m=="-"?x=-1:g===void 0?r.hasOwnProperty(m)?(j+=r[m],g=parseInt(j,16)*x,x=1,j=""):j+=m:r.hasOwnProperty(m)?(k+=r[m],y[g]=parseInt(k,16)*x,x=1,g=void 0,k=""):k+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,p=f.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(tr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(xx(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(tr),function(e){function t(){return(nr.canvg?Promise.resolve(nr.canvg):Pd(()=>import("./index.es-DaRB1FlR.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tr.API.addSvgAsImage=function(r,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),tr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},tr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,f=0,d=0;function h(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(d=0;d<p;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(hn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],d=0,h=i.length;d<h;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},n=function(i){var s,o,c,u,f,d,h;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;d<h;d++)s=o[d],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=u();f({data:p,addLength1:!0,objectId:m}),c("endobj");var v=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ip(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ip(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Ip(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var g=u();f({data:h,addLength1:!0,objectId:g}),c("endobj");var m=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Ip(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Ip(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,f=i.options||{},d=i.mutex||{},h=d.pdfEscape,p=d.activeFontKey,g=d.fonts,m=p,v="",x=0,y="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:c,y:u,options:f,mutex:d};for(y=o,m=p,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),s||y[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=y[x]:v+="";var j="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?j=h(v,m).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=r(v,g[m])),d.isHex=!0,{text:j,x:c,y:u,options:f,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(tr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,f,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var j=function(C){var P=C.charCodeAt(),R=P>>8,U=m[R];return U!==void 0?d[256*U+(255&P)]:R===252||R===253?"AL":x.test(R)?"L":R===8?"R":"N"},k=function(C){for(var P,R=0;R<C.length;R++){if((P=j(C.charAt(R)))==="L")return!1;if(P==="R")return!0}return!1},O=function(C,P,R,U){var ee,J,ae,X,W=P[U];switch(W){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(W="AN");break;case"AL":y=!0,W="R";break;case"WS":W="N";break;case"CS":U<1||U+1>=P.length||(ee=R[U-1])!=="EN"&&ee!=="AN"||(J=P[U+1])!=="EN"&&J!=="AN"?W="N":y&&(J="AN"),W=J===ee?J:"N";break;case"ES":W=(ee=U>0?R[U-1]:"B")==="EN"&&U+1<P.length&&P[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&R[U-1]==="EN"){W="EN";break}if(y){W="N";break}for(ae=U+1,X=P.length;ae<X&&P[ae]==="ET";)ae++;W=ae<X&&P[ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=P.length,ae=U+1;ae<X&&P[ae]==="NSM";)ae++;if(ae<X){var fe=C[U],Se=fe>=1425&&fe<=2303||fe===64286;if(ee=P[ae],Se&&(ee==="R"||ee==="AL")){W="R";break}}}W=U<1||(ee=P[U-1])==="B"?"N":R[U-1];break;case"B":y=!1,a=!0,W=b;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":W="N"}return W},N=function(C,P,R){var U=C.split("");return R&&E(U,R,{hiLevel:b}),U.reverse(),P&&P.reverse(),U.join("")},E=function(C,P,R){var U,ee,J,ae,X,W=-1,fe=C.length,Se=0,T=[],L=b?p:h,B=[];for(y=!1,a=!1,i=!1,ee=0;ee<fe;ee++)B[ee]=j(C[ee]);for(J=0;J<fe;J++){if(X=Se,T[J]=O(C,B,T,J),U=240&(Se=L[X][g[T[J]]]),Se&=15,P[J]=ae=L[Se][5],U>0)if(U===16){for(ee=W;ee<J;ee++)P[ee]=1;W=-1}else W=-1;if(L[Se][6])W===-1&&(W=J);else if(W>-1){for(ee=W;ee<J;ee++)P[ee]=ae;W=-1}B[J]==="B"&&(P[J]=0),R.hiLevel|=ae}i&&function(z,te,ie){for(var pe=0;pe<ie;pe++)if(z[pe]==="S"){te[pe]=b;for(var Q=pe-1;Q>=0&&z[Q]==="WS";Q--)te[Q]=b}}(B,P,fe)},D=function(C,P,R,U,ee){if(!(ee.hiLevel<C)){if(C===1&&b===1&&!a)return P.reverse(),void(R&&R.reverse());for(var J,ae,X,W,fe=P.length,Se=0;Se<fe;){if(U[Se]>=C){for(X=Se+1;X<fe&&U[X]>=C;)X++;for(W=Se,ae=X-1;W<ae;W++,ae--)J=P[W],P[W]=P[ae],P[ae]=J,R&&(J=R[W],R[W]=R[ae],R[ae]=J);Se=X}Se++}}},M=function(C,P,R){var U=C.split(""),ee={hiLevel:b};return R||(R=[]),E(U,R,ee),function(J,ae,X){if(X.hiLevel!==0&&f)for(var W,fe=0;fe<J.length;fe++)ae[fe]===1&&(W=v.indexOf(J[fe]))>=0&&(J[fe]=v[W+1])}(U,R,ee),D(2,U,P,R,ee),D(1,U,P,R,ee),U.join("")};return this.__bidiEngine__.doBidiReorder=function(C,P,R){if(function(ee,J){if(J)for(var ae=0;ae<ee.length;ae++)J[ae]=ae;o===void 0&&(o=k(ee)),u===void 0&&(u=k(ee))}(C,P),s||!c||u)if(s&&c&&o^u)b=o?1:0,C=N(C,P,R);else if(!s&&c&&u)b=o?1:0,C=M(C,P,R),C=N(C,P);else if(!s||o||c||u){if(s&&!c&&o^u)C=N(C,P),o?(b=0,C=M(C,P,R)):(b=1,C=M(C,P,R),C=N(C,P));else if(s&&o&&!c&&u)b=1,C=M(C,P,R),C=N(C,P);else if(!s&&!c&&o^u){var U=f;o?(b=1,C=M(C,P,R),b=0,f=!1,C=M(C,P,R),f=U):(b=0,C=M(C,P,R),C=N(C,P),b=1,f=!1,C=M(C,P,R),f=U,C=N(C,P))}}else b=0,C=M(C,P,R);else b=o?1:0,C=M(C,P,R);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,c=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,f=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(tr),tr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $d(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new j5e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new u5e(this.contents),this.head=new d5e(this),this.name=new v5e(this),this.cmap=new QV(this),this.toUnicode={},this.hhea=new h5e(this),this.maxp=new x5e(this),this.hmtx=new y5e(this),this.post=new m5e(this),this.os2=new p5e(this),this.loca=new S5e(this),this.glyf=new w5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var pc,$d=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),u5e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,c,u,f,d,h,p,g,m;for(m in p=Object.keys(r).length,c=Math.log(2),d=16*Math.floor(Math.log(p)/c),s=Math.floor(d/c),f=16*p-d,(a=new $d).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(f),i=16*p,u=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=u),u+=h.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=eH.call(r);r.length%4;)r.push(0);for(i=new $d(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),f5e={}.hasOwnProperty,su=function(e,t){for(var r in t)f5e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};pc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var d5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new $d).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),rL=function(){function e(t,r){var n,a,i,s,o,c,u,f,d,h,p,g,m,v,x,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),t.pos+=2,m=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),u=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),f=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),a=(this.length-t.pos+this.offset)/2,o=function(){var j,k;for(k=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)k.push(t.readUInt16());return k}(),c=x=0,b=i.length;x<b;c=++x)for(v=i[c],n=y=g=m[c];g<=v?y<=v:y>=v;n=g<=v?++y:--y)f[c]===0?s=n+u[c]:(s=o[f[c]/2+(n-g)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,c,u,f,d,h,p,g,m,v,x,y,b,j,k,O,N,E,D,M,C,P,R,U,ee,J,ae,X,W,fe,Se,T,L,B,z,te,ie,pe,Q,ge,_e,q;switch(U=new $d,s=Object.keys(t).sort(function(Be,We){return Be-We}),r){case"macroman":for(m=0,v=function(){var Be=[];for(g=0;g<256;++g)Be.push(0);return Be}(),y={0:0},i={},ee=0,W=s.length;ee<W;ee++)y[Q=t[a=s[ee]]]==null&&(y[Q]=++m),i[a]={old:t[a],new:y[t[a]]},v[a]=y[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(P=[],d=[],b=0,y={},n={},x=u=null,J=0,fe=s.length;J<fe;J++)y[k=t[a=s[J]]]==null&&(y[k]=++b),n[a]={old:k,new:y[k]},o=y[k]-a,x!=null&&o===u||(x&&d.push(x),P.push(a),u=o),x=a;for(x&&d.push(x),d.push(65535),P.push(65535),M=2*(D=P.length),E=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,N=2*D-E,c=[],O=[],p=[],g=ae=0,Se=P.length;ae<Se;g=++ae){if(C=P[g],f=d[g],C===65535){c.push(0),O.push(0);break}if(C-(R=n[C].new)>=32768)for(c.push(0),O.push(2*(p.length+D-g)),a=X=C;C<=f?X<=f:X>=f;a=C<=f?++X:--X)p.push(n[a].new);else c.push(R-C),O.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*D+2*p.length),U.writeUInt16(0),U.writeUInt16(M),U.writeUInt16(E),U.writeUInt16(h),U.writeUInt16(N),ie=0,T=d.length;ie<T;ie++)a=d[ie],U.writeUInt16(a);for(U.writeUInt16(0),pe=0,L=P.length;pe<L;pe++)a=P[pe],U.writeUInt16(a);for(ge=0,B=c.length;ge<B;ge++)o=c[ge],U.writeUInt16(o);for(_e=0,z=O.length;_e<z;_e++)j=O[_e],U.writeUInt16(j);for(q=0,te=p.length;q<te;q++)m=p[q],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},e}(),QV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new rL(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=rL.encode(r,n),(i=new $d).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),h5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),p5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),m5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),g5e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},v5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,c,u,f,d,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=d=0,h=a.length;d<h;s=++d)i=a[s],r.pos=i.offset,f=r.readString(i.length),o=new g5e(f,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),x5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),y5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,d;for(d=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)d.push(r.readInt16());return d}(),this.widths=(function(){var f,d,h,p;for(p=[],f=0,d=(h=this.metrics).length;f<d;f++)s=h[f],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),eH=[].slice,w5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,c,u,f,d,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new $d(n.read(i))).readShort(),f=c.readShort(),h=c.readShort(),u=c.readShort(),d=c.readShort(),this.cache[r]=o===-1?new _5e(c,f,h,u,d):new b5e(c,o,f,h,u,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),b5e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),_5e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $d(eH.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),S5e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,pc),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var f=new Array(4*a.length),d=0;d<a.length;++d)f[4*d+3]=255&a[d],f[4*d+2]=(65280&a[d])>>8,f[4*d+1]=(16711680&a[d])>>16,f[4*d]=(4278190080&a[d])>>24;return f},t}(),j5e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,c;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,c,u,f,d,h,p,g,m,v,x;for(a in n=QV.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},x=n.charMap)p[(c=x[a]).old]=c.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return f=function(y){var b,j;for(b in j={},y)j[y[b]]=b;return j}(p),d=Object.keys(f).sort(function(y,b){return y-b}),m=function(){var y,b,j;for(j=[],y=0,b=d.length;y<b;y++)o=d[y],j.push(f[o]);return j}(),i=this.font.glyf.encode(s,m,p),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();tr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function tH(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=o*c,f=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(f):e,h=d.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),d&&h>=1){for(var g=0;g<d.length;g++)a.text(d[g],t-a.getStringUnitWidth(d[g])*p,r),r+=u;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var nL={},wm=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:nL=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var f=e.unifyColor(t.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=e.unifyColor(t.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=e.unifyColor(t.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return nL||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),WA=function(e,t){return WA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},WA(e,t)};function rH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");WA(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var nH=function(e){rH(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function N5e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function k5e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function n_(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function aH(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=iH(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function iH(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function tS(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function sH(e,t){var r=tS(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function A5e(e,t,r,n,a){var i={},s=1.3333333333333333,o=rN(t,function(b){return a.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var c=rN(t,function(b){return a.getComputedStyle(b).color});c!=null&&(i.textColor=c);var u=C5e(n,r);u&&(i.cellPadding=u);var f="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var g=rN(t,function(b){return a.getComputedStyle(b)[f]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var x=E5e(n);x&&(i.fontStyle=x);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(i.font=y),i}function E5e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function rN(e,t){var r=oH(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function oH(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:oH(e.parentElement,t):r}function C5e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=tS(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function lH(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),f=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:f,body:d,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=T5e(c,u,r,g,n,a);v&&(m==="thead"?f.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:f,body:d,foot:h}}function T5e(e,t,r,n,a,i){for(var s=new nH(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;i&&(f=A5e(e,c,t,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:P5e(c)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||d.display!=="none"))return s}function P5e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function O5e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ru(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function cH(e,t){var r=new wm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();O5e(a,n,t);var i=Ru({},a,n,t),s;typeof window<"u"&&(s=window);var o=F5e(a,n,t),c=D5e(a,n,t),u=L5e(r,i),f=R5e(r,i,s);return{id:t.tableId,content:f,hooks:c,styles:o,settings:u}}function F5e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],f=t[c],d=r[c];n.columnStyles=Ru({},u,f,d)}else{var h=[e,t,r],p=h.map(function(g){return g[c]||{}});n[c]=Ru({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function D5e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function L5e(e,t){var r,n,a,i,s,o,c,u,f,d,h,p,g=tS(t.margin,40/e.scaleFactor()),m=(r=I5e(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var x;t.showHead===!0?x="everyPage":t.showHead===!1?x="never":x=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var y=(i=t.useCss)!==null&&i!==void 0?i:!1,b=t.theme||(y?"plain":"striped"),j=!!t.horizontalPageBreak,k=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:b,startY:m,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:x,showFoot:v,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:j,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function I5e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function R5e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=lH(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||M5e(n,a,i);return{columns:c,head:n,body:a,foot:i}}function M5e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var VA=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),B5e=function(e){rH(t,e);function t(r,n,a,i,s,o){var c=e.call(this,r,n,o)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return t}(VA),U5e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,c=r;o<c.length;o++){var u=c[o],f=new B5e(t,this,n,a,i,s),d=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new VA(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new VA(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),uH=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof nH&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+o;return u>a?u:a},0)},e}(),fH=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=tS(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),$5e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function z5e(e,t){q5e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=HA(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=HA(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),V5e(t),H5e(t,e),W5e(t)}function q5e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=sH(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){var f=t.hooks.didParseCell;t.callCellHooks(e,f,u,i,c,null);var d=u.padding("horizontal");u.contentWidth=n_(u.text,u.styles,e)+d;var h=n_(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},d=f.cellWidth||f.minCellWidth;d&&typeof d=="number"&&(c.minWidth=d,c.wrappedWidth=d)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function HA(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,c=n*o,u=s.width+c,f=r(s),d=u<f?f:u;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=HA(h,t,r))}return t}function W5e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var d=n.length-a,h=f.rowSpan>d?d:f.rowSpan;t[c.index]={cell:f,left:h,row:i}}}}}function V5e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function H5e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,f+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=aL(u.text,f,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=aL(u.text,f,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,f);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function aL(e,t,r,n,a){return e.map(function(i){return G5e(i,t,r,n,a)})}function G5e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=n_(e,r,n))return e;for(;t<n_(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function dH(e,t){var r=new wm(e),n=K5e(t,r.scaleFactor()),a=new U5e(t,n);return z5e(r,a),r.applyStyles(r.userStyles),a}function K5e(e,t){var r=e.content,n=X5e(r.columns);if(r.head.length===0){var a=iL(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=iL(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:nN("head",r.head,n,s,i,t),body:nN("body",r.body,n,s,i,t),foot:nN("foot",r.foot,n,s,i,t)}}function nN(e,t,r,n,a,i){var s={},o=t.map(function(c,u){for(var f=0,d={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var x=void 0;Array.isArray(c)?x=c[v.index-h-f]:x=c[v.dataKey];var y={};typeof x=="object"&&!Array.isArray(x)&&(y=(x==null?void 0:x.styles)||{});var b=Z5e(e,v,u,a,n,i,y),j=new fH(x,b,e);d[v.dataKey]=j,d[v.index]=j,p=j.colSpan-1,s[v.index]={left:j.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,f++}return new uH(c,u,e,d)});return o}function iL(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Y5e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Y5e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function X5e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new $5e(a,t,r)})}function Z5e(e,t,r,n,a,i,s){var o=k5e(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=Ru({},o.table,o[e],a.styles,c),f=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d=e==="body"?f:{},h=e==="body"&&r%2===0?Ru({},o.alternateRow,a.alternateRowStyles):{},p=N5e(i),g=Ru({},p,u,h,d);return Ru(g,s)}function J5e(e,t,r){var n;r===void 0&&(r={});var a=sH(e,t),i=new Map,s=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<t.columns.length;){if(i.has(f)){f++;continue}var d=t.columns[f].wrappedWidth;if(u||a>=d)u=!1,s.push(f),o.push(t.columns[f]),a-=d;else break;f++}return{colIndexes:s,columns:o,lastIndex:f-1}}function Q5e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=J5e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function hH(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,p){return h+p.height},0);o+=u}var f=new wm(e);(r.pageBreak==="always"||r.startY!=null&&o>f.pageSize().height)&&(mH(f),i.y=a.top),t.callWillDrawPageHooks(f,i);var d=Ru({},i);t.startPageNumber=f.pageNumber(),r.horizontalPageBreak?eSe(f,t,d,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return nf(f,t,h,i,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;a_(f,t,h,g,d,i,t.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return nf(f,t,h,i,t.columns)})),aH(f,t,d,i),t.callEndPageHooks(f,i),t.finalY=i.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function eSe(e,t,r,n){var a=Q5e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){e.applyStyles(e.userStyles),f>0?yx(e,t,r,n,u.columns,!0):sL(e,t,n,u.columns),tSe(e,t,r,n,u.columns),aN(e,t,n,u.columns)});else for(var s=-1,o=a[0],c=function(){var u=s;if(o){e.applyStyles(e.userStyles);var f=o.columns;s>=0?yx(e,t,r,n,f,!0):sL(e,t,n,f),u=oL(e,t,s+1,n,f),aN(e,t,n,f)}var d=u-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),yx(e,t,r,n,h.columns,!0),oL(e,t,s+1,n,h.columns,d),aN(e,t,n,h.columns)}),s=u};s<t.body.length-1;)c()}function sL(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return nf(e,t,i,r,n)})}function tSe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;a_(e,t,i,o,r,n,a)})}function oL(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(c,u){var f=r+u===t.body.length-1,d=pH(e,t,f,n);c.canEntireRowFit(d,a)&&(nf(e,t,c,n,a),o=r+u)}),o}function aN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return nf(e,t,i,r,n)})}function rSe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function nSe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new fH(u.raw,u.styles,u.section);f=Ru(f,u),f.text=[];var d=rSe(u,t,n);u.text.length>d&&(f.text=u.text.splice(d,u.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,p),u.contentHeight>=t&&(u.contentHeight=t,f.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),f.contentHeight=f.getContentHeight(h,p),f.contentHeight>i&&(i=f.contentHeight),a[c.index]=f}}var g=new uH(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var c=v[m],f=g.cells[c.index];f&&(f.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function aSe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function a_(e,t,r,n,a,i,s){var o=pH(e,t,n,i);if(r.canEntireRowFit(o,s))nf(e,t,r,i,s);else if(aSe(e,r,o,t)){var c=nSe(r,o,t,e);nf(e,t,r,i,s),yx(e,t,a,i,s),a_(e,t,c,n,a,i,s)}else yx(e,t,a,i,s),a_(e,t,r,n,a,i,s)}function nf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}iSe(e,c,n);var f=c.getTextPos();tH(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function iSe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=iH(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),sSe(e,t,r,n.lineWidth))}function sSe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,i,s,o));function c(u,f,d,h,p){e.getDocument().setLineWidth(u),e.getDocument().line(f,d,h,p,"S")}}function pH(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function yx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return nf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;aH(e,t,r,n),mH(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return nf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function mH(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function oSe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=cH(this,n),i=dH(this,a);return hH(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){tH(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return wm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){wm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new wm(this),i=lH(a,t,window,r,!1),s=i.head,o=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var iN;function i_(e,t){var r=cH(e,t),n=dH(e,r);hH(e,n)}try{if(typeof window<"u"&&window){var lL=window,cL=lL.jsPDF||((iN=lL.jspdf)===null||iN===void 0?void 0:iN.jsPDF);cL&&oSe(cL)}}catch(e){console.error("Could not apply autoTable plugin",e)}async function gH(e,t){var g;const r=new tr,n=[0,135,81],a=[55,65,81];r.setFillColor(...n),r.rect(0,0,210,30,"F"),r.setFillColor(255,255,255),r.circle(20,15,8,"F"),r.setTextColor(...n),r.setFontSize(10),r.text("JSC",16,18),r.setTextColor(255,255,255),r.setFontSize(20),r.setFont("helvetica","bold"),r.text("JUDICIAL SERVICE COMMITTEE",40,15),r.setFontSize(12),r.setFont("helvetica","normal"),r.text("FEDERAL REPUBLIC OF NIGERIA",40,22),r.setTextColor(...a),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("PAYSLIP",105,45,{align:"center"});const i=vH(e.period);r.setFontSize(12),r.setFont("helvetica","normal"),r.text(`Pay Period: ${i}`,105,52,{align:"center"});const s=[["Staff ID:",t.staff_id],["Name:",`${t.first_name} ${t.middle_name||""} ${t.last_name}`.trim()],["Position:",t.position],["Department:",((g=t.departments)==null?void 0:g.name)||"Unassigned"],["Grade Level:",`GL ${t.grade_level} Step ${t.step}`]];let o=65;r.setFontSize(10),s.forEach(([m,v])=>{r.setFont("helvetica","bold"),r.text(m,20,o),r.setFont("helvetica","normal"),r.text(v,60,o),o+=6}),t.bank_name&&t.account_number&&(o+=5,r.setFont("helvetica","bold"),r.text("Bank Details:",20,o),o+=6,[["Bank:",t.bank_name.toUpperCase()],["Account No:",t.account_number],["Account Name:",t.account_name||""]].forEach(([v,x])=>{r.setFont("helvetica","bold"),r.text(v,25,o),r.setFont("helvetica","normal"),r.text(x,60,o),o+=6})),o+=10;const c=[];if(c.push(["Basic Salary","",ql(e.basic_salary)]),e.allowances){const m=typeof e.allowances=="string"?JSON.parse(e.allowances):e.allowances;Object.entries(m).forEach(([v,x])=>{x&&Number(x)>0&&c.push([uSe(v),"",ql(Number(x))])})}if(c.push(["","GROSS PAY",ql(e.gross_pay)]),e.deductions){const m=typeof e.deductions=="string"?JSON.parse(e.deductions):e.deductions;Object.entries(m).forEach(([v,x])=>{x&&Number(x)>0&&c.push(["",fSe(v),`-${ql(Number(x))}`])})}c.push(["","TOTAL DEDUCTIONS",`-${ql(e.total_deductions)}`]),c.push(["","NET PAY",ql(e.net_pay)]),i_(r,{startY:o,head:[["EARNINGS","DEDUCTIONS","AMOUNT (₦)"]],body:c,theme:"grid",headStyles:{fillColor:n,textColor:[255,255,255],fontStyle:"bold",fontSize:10},bodyStyles:{fontSize:9,textColor:a},columnStyles:{0:{cellWidth:70},1:{cellWidth:70},2:{cellWidth:50,halign:"right"}},didParseCell:function(m){(m.cell.text[0]==="GROSS PAY"||m.cell.text[0]==="TOTAL DEDUCTIONS"||m.cell.text[0]==="NET PAY")&&(m.cell.styles.fontStyle="bold",m.cell.styles.fillColor=[240,240,240]),m.cell.text[0]==="NET PAY"&&(m.cell.styles.fillColor=[220,252,231],m.cell.styles.textColor=n)}});const u=r.lastAutoTable.finalY||o+100;r.setFontSize(8),r.setFont("helvetica","normal"),r.setTextColor(100,116,139);const f=new Date,d=`Generated on: ${f.toLocaleDateString()} at ${f.toLocaleTimeString()}`;r.text(d,20,u+20),r.setFontSize(9),r.setTextColor(...a),r.text("_________________________",20,u+40),r.text("Authorized Signature",20,u+47),r.text("_________________________",120,u+40),r.text("HR Manager",120,u+47);const h=r.getNumberOfPages();r.setFontSize(8),r.text(`Page 1 of ${h}`,190,285,{align:"right"});const p=`payslip_${t.staff_id}_${e.period}.pdf`;r.save(p)}async function lSe(e,t){var s;const r=new tr;r.setFillColor(0,135,81),r.rect(0,0,210,30,"F"),r.setTextColor(255,255,255),r.setFontSize(18),r.setFont("helvetica","bold"),r.text("PAYROLL SUMMARY REPORT",105,18,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text(`Period: ${vH(t)}`,105,25,{align:"center"});const n=[["Total Staff:",((s=e.totalStaff)==null?void 0:s.toLocaleString())||"0"],["Gross Amount:",ql(e.grossAmount||0)],["Total Deductions:",ql(e.totalDeductions||0)],["Net Amount:",ql(e.netAmount||0)]];let a=50;if(r.setTextColor(55,65,81),r.setFontSize(12),n.forEach(([o,c])=>{r.setFont("helvetica","bold"),r.text(o,30,a),r.setFont("helvetica","normal"),r.text(c,100,a),a+=8}),e.departments&&e.departments.length>0){a+=10;const o=e.departments.map(c=>{var u;return[c.name,((u=c.staffCount)==null?void 0:u.toString())||"0",ql(c.grossAmount||0),ql(c.netAmount||0)]});i_(r,{startY:a,head:[["Department","Staff Count","Gross Amount","Net Amount"]],body:o,theme:"grid",headStyles:{fillColor:[0,135,81],textColor:[255,255,255],fontStyle:"bold"}})}const i=`payroll_summary_${t}.pdf`;r.save(i)}async function cSe(e){const t=new tr,r=[0,135,81];t.setFillColor(...r),t.rect(0,0,210,30,"F"),t.setFillColor(255,255,255),t.circle(20,15,8,"F"),t.setTextColor(...r),t.setFontSize(10),t.text("JSC",16,18),t.setTextColor(255,255,255),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("STAFF ANALYTICS REPORT",105,15,{align:"center"}),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Judicial Service Committee",105,22,{align:"center"}),t.setTextColor(55,65,81),t.setFontSize(10),t.text(`Generated on: ${new Date().toLocaleDateString()}`,105,40,{align:"center"});const n=e.length,a=e.filter(p=>p.status==="active").length,i=Array.from(new Set(e.map(p=>{var g;return(g=p.departments)==null?void 0:g.name}).filter(Boolean))),s=e.reduce((p,g)=>p+g.grade_level,0)/n;let o=55;t.setFontSize(14),t.setFont("helvetica","bold"),t.text("SUMMARY",20,o),o+=10;const c=[["Total Staff:",n.toString()],["Active Staff:",a.toString()],["Departments:",i.length.toString()],["Average Grade Level:",s.toFixed(1)]];t.setFontSize(10),c.forEach(([p,g])=>{t.setFont("helvetica","bold"),t.text(p,20,o),t.setFont("helvetica","normal"),t.text(g,80,o),o+=6}),o+=10,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("DEPARTMENT BREAKDOWN",20,o),o+=10;const u=i.map(p=>{const g=e.filter(m=>{var v;return((v=m.departments)==null?void 0:v.name)===p});return[p,g.length.toString(),g.filter(m=>m.status==="active").length.toString(),(g.reduce((m,v)=>m+v.grade_level,0)/g.length).toFixed(1)]});i_(t,{startY:o,head:[["Department","Total Staff","Active Staff","Avg Grade Level"]],body:u,theme:"grid",headStyles:{fillColor:r,textColor:[255,255,255],fontStyle:"bold",fontSize:10},bodyStyles:{fontSize:9}}),t.addPage(),t.setFillColor(...r),t.rect(0,0,210,20,"F"),t.setTextColor(255,255,255),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("DETAILED STAFF LIST",105,12,{align:"center"});const f=e.map(p=>{var g;return[p.staff_id,`${p.first_name} ${p.last_name}`,((g=p.departments)==null?void 0:g.name)||"Unassigned",p.position,`GL${p.grade_level} S${p.step}`,dSe(p.status)]});i_(t,{startY:30,head:[["Staff ID","Name","Department","Position","Grade/Step","Status"]],body:f,theme:"grid",headStyles:{fillColor:r,textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8},columnStyles:{0:{cellWidth:25},1:{cellWidth:40},2:{cellWidth:35},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:25}}});const d=t.getNumberOfPages();for(let p=1;p<=d;p++)t.setPage(p),t.setFontSize(8),t.setTextColor(100,116,139),t.text(`Page ${p} of ${d}`,190,285,{align:"right"});const h=`staff_analytics_report_${new Date().toISOString().split("T")[0]}.pdf`;t.save(h)}function ql(e){const t=typeof e=="string"?parseFloat(e):e;return new Intl.NumberFormat("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function vH(e){const[t,r]=e.split("-");return new Date(parseInt(t),parseInt(r)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}function uSe(e){return{housing:"Housing Allowance",transport:"Transport Allowance",medical:"Medical Allowance",leave:"Leave Allowance",responsibility:"Responsibility Allowance",hazard:"Hazard Allowance",rural:"Rural Posting Allowance",entertainment:"Entertainment Allowance"}[e]||e.replace(/([A-Z])/g," $1").replace(/^./,r=>r.toUpperCase())}function fSe(e){return{paye:"PAYE Tax",pension:"Pension (8%)",nhf:"NHF (2.5%)",insurance:"Life Insurance",union:"Union Dues",loans:"Loan Repayment",cooperatives:"Cooperative Deduction",loan_repayment:"Loan Repayment",salary_advance:"Salary Advance",fine:"Fine/Penalty",cooperative:"Cooperative Deduction"}[e]||e.replace(/([A-Z])/g," $1").replace(/^./,r=>r.toUpperCase())}function dSe(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown"}function xH({open:e,onClose:t,payrollRun:r}){var c,u,f,d,h,p;const{data:n,isLoading:a}=Tr({queryKey:["payroll-details",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const{data:g,error:m}=await De.from("payslips").select(`
          *,
          staff (
            staff_id,
            first_name,
            last_name,
            position,
            departments!staff_department_id_fkey (
              name
            )
          )
        `).eq("payroll_run_id",r.id).order("net_pay",{ascending:!1});if(m)throw m;const v=(g==null?void 0:g.length)||0,x=(g==null?void 0:g.reduce((k,O)=>k+parseFloat(O.gross_pay||"0"),0))||0,y=(g==null?void 0:g.reduce((k,O)=>k+parseFloat(O.total_deductions||"0"),0))||0,b=(g==null?void 0:g.reduce((k,O)=>k+parseFloat(O.net_pay||"0"),0))||0,j=(g==null?void 0:g.reduce((k,O)=>{var E,D;const N=((D=(E=O.staff)==null?void 0:E.departments)==null?void 0:D.name)||"Unassigned";return k[N]||(k[N]={name:N,count:0,grossAmount:0,netAmount:0}),k[N].count+=1,k[N].grossAmount+=parseFloat(O.gross_pay||"0"),k[N].netAmount+=parseFloat(O.net_pay||"0"),k},{}))||{};return{payslips:g||[],summary:{totalStaff:v,totalGross:x,totalDeductions:y,totalNet:b},departmentBreakdown:Object.values(j)}},enabled:!!(r!=null&&r.id)&&e});if(!r)return null;const i=g=>{const[m,v]=g.split("-");return new Date(parseInt(m),parseInt(v)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},s=g=>{switch(g){case"processed":return l.jsx(ol,{className:"h-4 w-4 text-green-500"});case"approved":return l.jsx(ol,{className:"h-4 w-4 text-blue-500"});case"pending_review":return l.jsx(f0,{className:"h-4 w-4 text-orange-500"});default:return l.jsx(So,{className:"h-4 w-4 text-gray-500"})}},o=g=>{switch(g){case"processed":return"bg-green-100 text-green-800";case"approved":return"bg-blue-100 text-blue-800";case"pending_review":return"bg-orange-100 text-orange-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return l.jsx(Bn,{open:e,onOpenChange:t,children:l.jsxs(Un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx($n,{children:l.jsxs(zn,{className:"flex items-center space-x-2",children:[l.jsx(Pi,{className:"h-5 w-5"}),l.jsx("span",{children:"Payroll Run Details"})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Va,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Period"}),l.jsx("p",{className:"font-medium",children:i(r.period)})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ic,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),l.jsx("p",{className:"font-medium",children:((c=r.departments)==null?void 0:c.name)||"All Departments"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Wc,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Staff"}),l.jsx("p",{className:"font-medium",children:r.total_staff||0})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[s(r.status),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),l.jsx(Yt,{className:o(r.status),children:r.status.replace("_"," ").toUpperCase()})]})]})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gross Amount"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:An(((u=n==null?void 0:n.summary)==null?void 0:u.totalGross)||r.gross_amount||0)})]}),l.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Deductions"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:An(((f=n==null?void 0:n.summary)==null?void 0:f.totalDeductions)||r.total_deductions||0)})]}),l.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-red-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Amount"}),l.jsx("p",{className:"text-2xl font-bold text-nigeria-green",children:An(((d=n==null?void 0:n.summary)==null?void 0:d.totalNet)||r.net_amount||0)})]}),l.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:20})})]})})})]}),(n==null?void 0:n.departmentBreakdown)&&n.departmentBreakdown.length>0&&l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Department Breakdown"})}),l.jsx(Nt,{children:l.jsx("div",{className:"space-y-3",children:n.departmentBreakdown.map((g,m)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ic,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:g.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[g.count," staff members"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:An(g.netAmount)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Net Amount"})]})]},m))})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Payroll Timeline"})}),l.jsx(Nt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Pi,{className:"h-4 w-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Created"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.created_at).toLocaleString()}),l.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",((h=r.created_by_user)==null?void 0:h.email)||"System"]})]})]}),r.approved_by&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(ol,{className:"h-4 w-4 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Approved"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",((p=r.approved_by_user)==null?void 0:p.email)||"Unknown"]})]})]}),r.processed_at&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx(Wa,{className:"h-4 w-4 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Processed"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.processed_at).toLocaleString()})]})]})]})})]}),a&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nigeria-green mx-auto"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading payroll details..."})]}),l.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:l.jsx(Ue,{variant:"outline",onClick:t,children:"Close"})})]})]})})}function hSe(){const{user:e,hasRole:t}=as(),[r,n]=Ft.useState(!1),[a,i]=Ft.useState(!1),[s,o]=Ft.useState(!1),[c,u]=Ft.useState(null),{toast:f}=zr();Q1({enableNotifications:!0,enablePayrollUpdates:t(["super_admin","account_admin","payroll_admin"]),enableStaffUpdates:t(["super_admin","payroll_admin"]),enableDepartmentUpdates:t(["super_admin","payroll_admin"])});const{data:d,isLoading:h}=Tr({queryKey:["dashboard-stats"],queryFn:async()=>{var M,C,P,R;console.log("Fetching dashboard stats...");const[O,N,E,D]=await Promise.all([De.from("staff").select("id",{count:"exact"}).eq("status","active"),De.from("payroll_runs").select("gross_amount, net_amount").eq("status","processed").order("created_at",{ascending:!1}).limit(1),De.from("payroll_runs").select("id",{count:"exact"}).eq("status","pending_review"),ife()]);return console.log("Dashboard stats result:",{totalStaff:O.count,monthlyPayroll:(C=(M=N.data)==null?void 0:M[0])==null?void 0:C.gross_amount,pendingApprovals:E.count,leaveStats:D}),{totalStaff:O.count||0,monthlyPayroll:((R=(P=N.data)==null?void 0:P[0])==null?void 0:R.gross_amount)||"0",pendingApprovals:E.count||0,pendingLeaveRequests:D.totalPendingRequests||0,staffOnLeave:D.totalStaffOnLeave||0}},enabled:!!e,refetchInterval:3e4}),{data:p,isLoading:g}=Tr({queryKey:["recent-payrolls"],queryFn:async()=>{const{data:O,error:N}=await De.from("payroll_runs").select(`
          *,
          departments (
            name
          )
        `).order("created_at",{ascending:!1}).limit(5);if(N)throw N;return O||[]},enabled:!!e&&t(["super_admin","account_admin","payroll_admin"])});Tr({queryKey:["payroll-trends"],queryFn:async()=>{const{data:O,error:N}=await De.from("payroll_runs").select("period, gross_amount, net_amount, total_deductions, total_staff").eq("status","processed").order("period",{ascending:!0}).limit(12);if(N)throw N;return(O||[]).map(E=>({period:E.period,grossAmount:parseFloat(E.gross_amount||"0"),netAmount:parseFloat(E.net_amount||"0"),totalDeductions:parseFloat(E.total_deductions||"0"),totalStaff:E.total_staff||0}))},enabled:!!e&&t(["super_admin","account_admin","payroll_admin"])});const{data:m,isLoading:v}=Tr({queryKey:["recent-notifications"],queryFn:async()=>{const{data:O,error:N}=await De.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5);if(N)throw N;return O||[]},enabled:!!e}),x=O=>An(O),y=O=>{switch(O){case"processed":return"default";case"pending_review":return"secondary";case"approved":return"default";case"draft":return"outline";default:return"outline"}},b=()=>{i(!0)},j=async()=>{try{const{data:O,error:N}=await De.from("staff").select(`
          *,
          departments!staff_department_id_fkey (
            name,
            code
          )
        `).order("first_name");if(N)throw N;if(!O||O.length===0){f({title:"No Data",description:"No staff data available to generate report",variant:"destructive"});return}await cSe(O),f({title:"Success",description:"Staff analytics report generated successfully"});const{data:E}=await De.from("users").select("id").in("role",["super_admin","payroll_admin"]);if(E!=null&&E.length){const D=E.map(M=>({user_id:M.id,title:"Staff Report Generated",message:"A new staff analytics report has been generated and downloaded.",type:"info"}));await De.from("notifications").insert(D)}}catch(O){console.error("Error generating staff report:",O),f({title:"Error",description:"Failed to generate staff report",variant:"destructive"})}},k=async O=>{try{const{data:N,error:E}=await De.from("payslips").select(`
          *,
          staff (
            staff_id,
            first_name,
            last_name,
            departments!staff_department_id_fkey (
              name
            )
          )
        `).eq("payroll_run_id",O.id);if(E)throw E;const D=(N==null?void 0:N.length)||0,M=(N==null?void 0:N.reduce((ee,J)=>ee+parseFloat(J.gross_pay||"0"),0))||0,C=(N==null?void 0:N.reduce((ee,J)=>ee+parseFloat(J.total_deductions||"0"),0))||0,P=(N==null?void 0:N.reduce((ee,J)=>ee+parseFloat(J.net_pay||"0"),0))||0,R=(N==null?void 0:N.reduce((ee,J)=>{var X,W;const ae=((W=(X=J.staff)==null?void 0:X.departments)==null?void 0:W.name)||"Unassigned";return ee[ae]||(ee[ae]={name:ae,staffCount:0,grossAmount:0,netAmount:0}),ee[ae].staffCount+=1,ee[ae].grossAmount+=parseFloat(J.gross_pay||"0"),ee[ae].netAmount+=parseFloat(J.net_pay||"0"),ee},{}))||{},U={totalStaff:D,grossAmount:M,totalDeductions:C,netAmount:P,departments:Object.values(R)};await lSe(U,O.period),f({title:"Success",description:"Payroll summary report downloaded successfully"})}catch(N){console.error("Error generating payroll report:",N),f({title:"Error",description:"Failed to generate payroll report",variant:"destructive"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"pb-4 border-b border-gray-200",children:l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Dashboard Overview"}),l.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Welcome back! Here's what's happening with your payroll system."})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-responsive-sm font-medium text-gray-600",children:"Total Staff"}),l.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 truncate",children:h?"...":d==null?void 0:d.totalStaff.toLocaleString()}),l.jsxs("p",{className:"text-xs sm:text-sm text-green-600 mt-1 flex items-center",children:[l.jsx(cne,{className:"h-3 w-3 mr-1 flex-shrink-0"}),"Active employees"]})]}),l.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(Wc,{className:"text-blue-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Payroll"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h?"...":x((d==null?void 0:d.monthlyPayroll)||0)}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Latest processing"})]}),l.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:24})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h?"...":d==null?void 0:d.pendingApprovals}),l.jsxs("p",{className:"text-sm text-orange-600 mt-1 flex items-center",children:[l.jsx(So,{className:"h-3 w-3 mr-1"}),"Requires attention"]})]}),l.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:l.jsx(So,{className:"text-orange-600",size:24})})]})})}),t(["super_admin","account_admin","payroll_admin"])&&l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Leave Requests"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h?"...":d==null?void 0:d.pendingLeaveRequests}),l.jsxs("p",{className:"text-sm text-blue-600 mt-1 flex items-center",children:[l.jsx(Va,{className:"h-3 w-3 mr-1"}),"Pending approval"]})]}),l.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Va,{className:"text-blue-600",size:24})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t(["super_admin","account_admin","payroll_admin"])&&l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ar,{children:"Recent Payroll Runs"}),l.jsx(ji,{href:"/payroll/workflow",children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-nigeria-green",children:"View All"})})]})}),l.jsx(Nt,{children:g?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((O,N)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},N))}):p&&p.length>0?l.jsx("div",{className:"space-y-4",children:p.map(O=>{var N;return l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:O.period}),l.jsx("p",{className:"text-sm text-gray-500",children:((N=O.departments)==null?void 0:N.name)||"All Departments"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:x(O.gross_amount||0)}),l.jsx(Yt,{variant:y(O.status),children:O.status.replace("_"," ").toUpperCase()})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{u(O),o(!0)},children:l.jsx(qc,{size:16})})}),l.jsx(Nr,{children:l.jsx("p",{children:"View payroll details"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>k(O),className:"text-nigeria-green hover:text-green-700",children:l.jsx(kd,{size:16})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Download payroll report"})})]})]})]})]},O.id)})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Wa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No payroll runs found"})]})})]}),t(["super_admin","payroll_admin"])&&l.jsxs(jt,{children:[l.jsxs(kr,{children:[l.jsx(Ar,{children:"Staff Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Quick actions for staff records"})]}),l.jsx(Nt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{onClick:()=>n(!0),variant:"outline",className:"flex flex-col items-center p-6 h-auto border-dashed hover:border-nigeria-green hover:bg-green-50",children:[l.jsx(_ne,{className:"h-8 w-8 text-gray-400 mb-2"}),l.jsx("span",{className:"font-medium",children:"Add New Staff"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Create staff profile"})]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Add a new staff member to the system"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{onClick:b,variant:"outline",className:"flex flex-col items-center p-6 h-auto border-dashed hover:border-blue-500 hover:bg-blue-50",children:[l.jsx(zk,{className:"h-8 w-8 text-gray-400 mb-2"}),l.jsx("span",{className:"font-medium",children:"Bulk Import"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Upload CSV/Excel"})]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Import multiple staff members from Excel file"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{onClick:j,variant:"outline",className:"flex flex-col items-center p-6 h-auto border-dashed hover:border-purple-500 hover:bg-purple-50",children:[l.jsx(sB,{className:"h-8 w-8 text-gray-400 mb-2"}),l.jsx("span",{className:"font-medium",children:"Generate Report"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Staff analytics"})]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Generate and download staff analytics report"})})]})]})})]})]}),l.jsx("div",{className:"space-y-8",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ar,{children:"Recent Notifications"}),l.jsx(Yt,{variant:"destructive",children:(m==null?void 0:m.length)||0})]})}),l.jsx(Nt,{children:v?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((O,N)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},N))}):m&&m.length>0?l.jsx("div",{className:"space-y-4",children:m.map(O=>l.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${O.type==="warning"?"bg-orange-100":O.type==="error"?"bg-red-100":O.type==="success"?"bg-green-100":"bg-blue-100"}`,children:l.jsx(So,{className:`h-4 w-4 ${O.type==="warning"?"text-orange-600":O.type==="error"?"text-red-600":O.type==="success"?"text-green-600":"text-blue-600"}`})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.title}),l.jsx("p",{className:"text-sm text-gray-600",children:O.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(O.created_at).toLocaleString()})]})]},O.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(So,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No notifications"})]})})]})})]}),l.jsx(jq,{open:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),f({title:"Success",description:"Staff member added successfully"})}}),l.jsx(A_e,{open:a,onClose:()=>i(!1),onSuccess:()=>{i(!1),f({title:"Success",description:"Staff data imported successfully"})}}),c&&l.jsx(xH,{open:s,onClose:()=>{o(!1),u(null)},payrollRun:c})]})}async function pSe(e){const{data:{user:t}}=await De.auth.getUser(),{error:r}=await De.from("staff_individual_allowances").insert({staff_id:e.staffId,type:e.type,amount:e.amount.toString(),period:e.period,description:e.description,status:e.status||"pending",created_by:t==null?void 0:t.id});if(r)throw r}async function mSe(e){var n,a,i;const{data:{user:t}}=await De.auth.getUser(),{error:r}=await De.from("staff_individual_deductions").insert({staff_id:e.staffId,type:e.type,amount:e.amount.toString(),total_amount:(n=e.totalAmount)==null?void 0:n.toString(),remaining_balance:((a=e.remainingBalance)==null?void 0:a.toString())||((i=e.totalAmount)==null?void 0:i.toString()),period:e.period,start_period:e.startPeriod,end_period:e.endPeriod,description:e.description,status:e.status||"active",created_by:t==null?void 0:t.id});if(r)throw r}async function gSe(e,t){let r=De.from("staff_individual_allowances").select("*").eq("staff_id",e).order("created_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return(n||[]).map(i=>({id:i.id,staffId:i.staff_id,type:i.type,amount:parseFloat(i.amount),period:i.period,description:i.description,status:i.status}))}async function vSe(e,t){let r=De.from("staff_individual_deductions").select("*").eq("staff_id",e).order("created_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return(n||[]).map(i=>({id:i.id,staffId:i.staff_id,type:i.type,amount:parseFloat(i.amount),totalAmount:i.total_amount?parseFloat(i.total_amount):void 0,remainingBalance:i.remaining_balance?parseFloat(i.remaining_balance):void 0,period:i.period,startPeriod:i.start_period,endPeriod:i.end_period,description:i.description,status:i.status}))}async function uL(e,t){const{error:r}=await De.from("staff_individual_allowances").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r}async function xSe(e,t){const r={updated_at:new Date().toISOString()};t.type&&(r.type=t.type),t.amount!==void 0&&(r.amount=t.amount.toString()),t.period&&(r.period=t.period),t.description!==void 0&&(r.description=t.description),t.status&&(r.status=t.status);const{error:n}=await De.from("staff_individual_allowances").update(r).eq("id",e);if(n)throw n}async function ySe(e,t){const r={updated_at:new Date().toISOString()};t.status&&(r.status=t.status),t.remainingBalance!==void 0&&(r.remaining_balance=t.remainingBalance.toString()),t.amount!==void 0&&(r.amount=t.amount.toString());const{error:n}=await De.from("staff_individual_deductions").update(r).eq("id",e);if(n)throw n}async function wSe(e){const{data:t,error:r}=await De.from("staff_individual_deductions").select(`
      *,
      staff (
        staff_id,
        first_name,
        last_name
      )
    `).eq("period",e).eq("status","active").order("created_at",{ascending:!1});if(r)throw r;return(t||[]).map(n=>({id:n.id,staffId:n.staff_id,type:n.type,amount:parseFloat(n.amount),totalAmount:n.total_amount?parseFloat(n.total_amount):void 0,remainingBalance:n.remaining_balance?parseFloat(n.remaining_balance):void 0,period:n.period,startPeriod:n.start_period,endPeriod:n.end_period,description:n.description,status:n.status}))}var TT="Tabs",[bSe,ALe]=ks(TT,[F5]),yH=F5(),[_Se,PT]=bSe(TT),wH=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=e,f=P5(o),[d,h]=Yc({prop:n,onChange:a,defaultProp:i});return l.jsx(_Se,{scope:r,baseId:tc(),value:d,onValueChange:h,orientation:s,dir:f,activationMode:c,children:l.jsx(Kt.div,{dir:f,"data-orientation":s,...u,ref:t})})});wH.displayName=TT;var bH="TabsList",_H=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=PT(bH,r),s=yH(r);return l.jsx(o$,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(Kt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});_H.displayName=bH;var SH="TabsTrigger",jH=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=PT(SH,r),o=yH(r),c=AH(s.baseId,n),u=EH(s.baseId,n),f=n===s.value;return l.jsx(l$,{asChild:!0,...o,focusable:!a,active:f,children:l.jsx(Kt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:At(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?s.onValueChange(n):d.preventDefault()}),onKeyDown:At(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(n)}),onFocus:At(e.onFocus,()=>{const d=s.activationMode!=="manual";!f&&!a&&d&&s.onValueChange(n)})})})});jH.displayName=SH;var NH="TabsContent",kH=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,o=PT(NH,r),c=AH(o.baseId,n),u=EH(o.baseId,n),f=n===o.value,d=S.useRef(f);return S.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(vl,{present:a||f,children:({present:h})=>l.jsx(Kt.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});kH.displayName=NH;function AH(e,t){return`${e}-trigger-${t}`}function EH(e,t){return`${e}-content-${t}`}var SSe=wH,CH=_H,TH=jH,PH=kH;const fy=SSe,jg=S.forwardRef(({className:e,...t},r)=>l.jsx(CH,{ref:r,className:Et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jg.displayName=CH.displayName;const ki=S.forwardRef(({className:e,...t},r)=>l.jsx(TH,{ref:r,className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ki.displayName=TH.displayName;const Ai=S.forwardRef(({className:e,...t},r)=>l.jsx(PH,{ref:r,className:Et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ai.displayName=PH.displayName;var OT="Progress",FT=100,[jSe,ELe]=ks(OT),[NSe,kSe]=jSe(OT),OH=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=ASe,...s}=e;(a||a===0)&&!fL(a)&&console.error(ESe(`${a}`,"Progress"));const o=fL(a)?a:FT;n!==null&&!dL(n,o)&&console.error(CSe(`${n}`,"Progress"));const c=dL(n,o)?n:null,u=s_(c)?i(c,o):void 0;return l.jsx(NSe,{scope:r,value:c,max:o,children:l.jsx(Kt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":s_(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":LH(c,o),"data-value":c??void 0,"data-max":o,...s,ref:t})})});OH.displayName=OT;var FH="ProgressIndicator",DH=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=kSe(FH,r);return l.jsx(Kt.div,{"data-state":LH(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});DH.displayName=FH;function ASe(e,t){return`${Math.round(e/t*100)}%`}function LH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function s_(e){return typeof e=="number"}function fL(e){return s_(e)&&!isNaN(e)&&e>0}function dL(e,t){return s_(e)&&!isNaN(e)&&e<=t&&e>=0}function ESe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FT}\`.`}function CSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IH=OH,TSe=DH;const rS=S.forwardRef(({className:e,value:t,...r},n)=>l.jsx(IH,{ref:n,className:Et("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(TSe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));rS.displayName=IH.displayName;const mc=S.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));mc.displayName="Textarea";const PSe=Ve.object({staffId:Ve.string().min(1,"Staff member is required"),type:Ve.string().min(1,"Allowance type is required"),amount:Ve.number().min(.01,"Amount must be greater than 0"),period:Ve.string().min(1,"Period is required"),description:Ve.string().optional()}),OSe=[{value:"overtime",label:"Overtime Pay"},{value:"bonus",label:"Performance Bonus"},{value:"commission",label:"Commission"},{value:"special_duty",label:"Special Duty Allowance"},{value:"acting_allowance",label:"Acting Allowance"},{value:"responsibility_allowance",label:"Additional Responsibility"},{value:"hazard_allowance",label:"Hazard Allowance"},{value:"field_allowance",label:"Field Work Allowance"},{value:"training_allowance",label:"Training Allowance"},{value:"other",label:"Other Allowance"}];function DT({open:e,onClose:t,onSuccess:r,preselectedStaffId:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(PSe),defaultValues:{staffId:n||"",type:"",amount:0,period:new Date().toISOString().slice(0,7),description:""}});Ft.useEffect(()=>{e&&s.reset({staffId:n||"",type:"",amount:0,period:new Date().toISOString().slice(0,7),description:""})},[e,n,s]);const{data:o,isLoading:c}=Tr({queryKey:["active-staff"],queryFn:async()=>{const{data:p,error:g}=await De.from("staff").select(`
          id,
          staff_id,
          first_name,
          last_name,
          position,
          departments!staff_department_id_fkey (
            name
          )
        `).eq("status","active").order("first_name");if(g)throw g;return p||[]},enabled:e}),u=Jr({mutationFn:async p=>{if(await pSe({staffId:p.staffId,type:p.type,amount:p.amount,period:p.period,description:p.description,status:"pending"}),o==null?void 0:o.find(m=>m.id===p.staffId)){const{data:m}=await De.from("staff").select("user_id").eq("id",p.staffId).single();m!=null&&m.user_id&&await De.from("notifications").insert({user_id:m.user_id,title:"New Individual Allowance Added",message:`A ${p.type.replace("_"," ")} allowance of ₦${p.amount.toLocaleString()} has been added for ${p.period}.`,type:"info"})}},onSuccess:()=>{a({title:"Success",description:"Individual allowance added successfully"}),i.invalidateQueries({queryKey:["staff-individual-allowances"]}),i.invalidateQueries({queryKey:["staff"]}),r()},onError:p=>{a({title:"Error",description:p.message||"Failed to add individual allowance",variant:"destructive"})}}),f=p=>{u.mutate(p)},d=()=>{s.reset(),t()},h=p=>{const[g,m]=p.split("-");return new Date(parseInt(g),parseInt(m)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})};return l.jsx(Bn,{open:e,onOpenChange:d,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsxs(zn,{className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{children:"Add Individual Allowance"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(f),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"staffId",render:({field:p})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Staff Member"}),l.jsxs(Er,{onValueChange:p.onChange,value:p.value,disabled:!!n,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:c?"Loading staff...":"Select staff member"})})}),l.jsx(_r,{children:o==null?void 0:o.map(g=>{var m;return l.jsx(Ye,{value:g.id,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-medium",children:[g.first_name," ",g.last_name]}),l.jsxs("span",{className:"text-xs text-gray-500",children:[g.staff_id," • ",(m=g.departments)==null?void 0:m.name]})]})},g.id)})})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"type",render:({field:p})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Allowance Type"}),l.jsxs(Er,{onValueChange:p.onChange,value:p.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select allowance type"})})}),l.jsx(_r,{children:OSe.map(g=>l.jsx(Ye,{value:g.value,children:g.label},g.value))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"amount",render:({field:p})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...p,onChange:g=>p.onChange(parseFloat(g.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"period",render:({field:p})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Pay Period"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...p})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",p.value?h(p.value):"None"]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"description",render:({field:p})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{placeholder:"Additional details about this allowance...",rows:3,...p})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Important Notes:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Individual allowances are added to the staff member's regular salary"}),l.jsx("li",{children:"This allowance will be included in the selected pay period"}),l.jsx("li",{children:"The allowance will be marked with an asterisk (*) on the payslip"}),l.jsx("li",{children:'Status will be "Pending" until payroll is processed'})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:u.isPending,className:"bg-nigeria-green hover:bg-green-700",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Allowance"})]})]})})})]})})}const FSe=Ve.object({staffId:Ve.string().min(1,"Staff member is required"),type:Ve.string().min(1,"Deduction type is required"),amount:Ve.number().min(.01,"Amount must be greater than 0"),totalAmount:Ve.number().optional(),period:Ve.string().min(1,"Period is required"),startPeriod:Ve.string().optional(),endPeriod:Ve.string().optional(),description:Ve.string().optional()}),DSe=[{value:"loan_repayment",label:"Loan Repayment"},{value:"salary_advance",label:"Salary Advance"},{value:"cooperative",label:"Cooperative Deduction"},{value:"fine",label:"Fine/Penalty"},{value:"garnishment",label:"Court Garnishment"},{value:"insurance_premium",label:"Insurance Premium"},{value:"union_dues",label:"Additional Union Dues"},{value:"training_cost",label:"Training Cost Recovery"},{value:"equipment_damage",label:"Equipment Damage"},{value:"other",label:"Other Deduction"}];function LT({open:e,onClose:t,onSuccess:r,preselectedStaffId:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(FSe),defaultValues:{staffId:n||"",type:"",amount:0,totalAmount:void 0,period:new Date().toISOString().slice(0,7),startPeriod:"",endPeriod:"",description:""}});Ft.useEffect(()=>{e&&s.reset({staffId:n||"",type:"",amount:0,totalAmount:void 0,period:new Date().toISOString().slice(0,7),startPeriod:"",endPeriod:"",description:""})},[e,n,s]);const{data:o,isLoading:c}=Tr({queryKey:["active-staff"],queryFn:async()=>{const{data:g,error:m}=await De.from("staff").select(`
          id,
          staff_id,
          first_name,
          last_name,
          position,
          departments!staff_department_id_fkey (
            name
          )
        `).eq("status","active").order("first_name");if(m)throw m;return g||[]},enabled:e}),u=Jr({mutationFn:async g=>{if(await mSe({staffId:g.staffId,type:g.type,amount:g.amount,totalAmount:g.totalAmount,remainingBalance:g.totalAmount||g.amount,period:g.period,startPeriod:g.startPeriod,endPeriod:g.endPeriod,description:g.description,status:"active"}),o==null?void 0:o.find(v=>v.id===g.staffId)){const{data:v}=await De.from("staff").select("user_id").eq("id",g.staffId).single();v!=null&&v.user_id&&await De.from("notifications").insert({user_id:v.user_id,title:"New Individual Deduction Added",message:`A ${g.type.replace("_"," ")} deduction of ₦${g.amount.toLocaleString()} has been added for ${g.period}.`,type:"info"})}},onSuccess:()=>{a({title:"Success",description:"Individual deduction added successfully"}),i.invalidateQueries({queryKey:["staff-individual-deductions"]}),i.invalidateQueries({queryKey:["staff"]}),r()},onError:g=>{a({title:"Error",description:g.message||"Failed to add individual deduction",variant:"destructive"})}}),f=g=>{u.mutate(g)},d=()=>{s.reset(),t()},h=g=>{const[m,v]=g.split("-");return new Date(parseInt(m),parseInt(v)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},p=s.watch("type")==="loan_repayment"||s.watch("type")==="salary_advance";return l.jsx(Bn,{open:e,onOpenChange:d,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsxs(zn,{className:"flex items-center space-x-2",children:[l.jsx(Vl,{className:"h-5 w-5 text-red-600"}),l.jsx("span",{children:"Add Individual Deduction"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(f),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"staffId",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Staff Member"}),l.jsxs(Er,{onValueChange:g.onChange,value:g.value,disabled:!!n,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:c?"Loading staff...":"Select staff member"})})}),l.jsx(_r,{children:o==null?void 0:o.map(m=>{var v;return l.jsx(Ye,{value:m.id,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-medium",children:[m.first_name," ",m.last_name]}),l.jsxs("span",{className:"text-xs text-gray-500",children:[m.staff_id," • ",(v=m.departments)==null?void 0:v.name]})]})},m.id)})})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"type",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Deduction Type"}),l.jsxs(Er,{onValueChange:g.onChange,value:g.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select deduction type"})})}),l.jsx(_r,{children:DSe.map(m=>l.jsx(Ye,{value:m.value,children:m.label},m.value))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"amount",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:p?"Monthly Deduction Amount (NGN)":"Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,onChange:m=>g.onChange(parseFloat(m.target.value)||0)})}),l.jsx(xt,{})]})}),p&&l.jsx(ft,{control:s.control,name:"totalAmount",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Total Loan/Advance Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,onChange:m=>g.onChange(parseFloat(m.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"period",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Start Period"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...g})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",g.value?h(g.value):"None"]}),l.jsx(xt,{})]})}),p&&l.jsxs(l.Fragment,{children:[l.jsx(ft,{control:s.control,name:"startPeriod",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Start Period (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...g})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"endPeriod",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"End Period (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...g})}),l.jsx(xt,{})]})})]}),l.jsx(ft,{control:s.control,name:"description",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{placeholder:"Additional details about this deduction...",rows:3,...g})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Important Notes:"}),l.jsxs("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Individual deductions are subtracted from the staff member's salary"}),l.jsx("li",{children:"This deduction will be included in the selected pay period"}),l.jsx("li",{children:"For loans, specify the total amount and monthly deduction"}),l.jsx("li",{children:'Status will be "Active" until fully paid or cancelled'})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:u.isPending,className:"bg-red-600 hover:bg-red-700",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Deduction"})]})]})})})]})})}const LSe=Ve.object({type:Ve.string().min(1,"Allowance type is required"),amount:Ve.number().min(.01,"Amount must be greater than 0"),period:Ve.string().min(1,"Period is required"),description:Ve.string().optional(),status:Ve.enum(["pending","applied","cancelled"])}),ISe=[{value:"overtime",label:"Overtime Pay"},{value:"bonus",label:"Performance Bonus"},{value:"commission",label:"Commission"},{value:"special_duty",label:"Special Duty Allowance"},{value:"acting_allowance",label:"Acting Allowance"},{value:"responsibility_allowance",label:"Additional Responsibility"},{value:"hazard_allowance",label:"Hazard Allowance"},{value:"field_allowance",label:"Field Work Allowance"},{value:"training_allowance",label:"Training Allowance"},{value:"other",label:"Other Allowance"}];function RSe({open:e,onClose:t,onSuccess:r,allowance:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(LSe),defaultValues:{type:(n==null?void 0:n.type)||"",amount:(n==null?void 0:n.amount)||0,period:(n==null?void 0:n.period)||new Date().toISOString().slice(0,7),description:(n==null?void 0:n.description)||"",status:(n==null?void 0:n.status)||"pending"}});Ft.useEffect(()=>{n&&s.reset({type:n.type||"",amount:n.amount||0,period:n.period||new Date().toISOString().slice(0,7),description:n.description||"",status:n.status||"pending"})},[n,s]);const o=Jr({mutationFn:async d=>{if(await xSe(n.id,{type:d.type,amount:d.amount,period:d.period,description:d.description,status:d.status}),d.status!==n.status){const{data:h}=await De.from("staff").select("user_id").eq("id",n.staffId).single();h!=null&&h.user_id&&await De.from("notifications").insert({user_id:h.user_id,title:"Individual Allowance Updated",message:`Your ${d.type.replace("_"," ")} allowance has been updated. Status: ${d.status.replace("_"," ")}.`,type:"info"})}},onSuccess:()=>{a({title:"Success",description:"Individual allowance updated successfully"}),i.invalidateQueries({queryKey:["staff-individual-allowances"]}),i.invalidateQueries({queryKey:["staff"]}),r()},onError:d=>{a({title:"Error",description:d.message||"Failed to update individual allowance",variant:"destructive"})}}),c=d=>{o.mutate(d)},u=()=>{s.reset(),t()},f=d=>{const[h,p]=d.split("-");return new Date(parseInt(h),parseInt(p)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})};return l.jsx(Bn,{open:e,onOpenChange:u,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsxs(zn,{className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{children:"Edit Individual Allowance"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"type",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Allowance Type"}),l.jsxs(Er,{onValueChange:d.onChange,value:d.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select allowance type"})})}),l.jsx(_r,{children:ISe.map(h=>l.jsx(Ye,{value:h.value,children:h.label},h.value))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"amount",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...d,onChange:h=>d.onChange(parseFloat(h.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"period",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Pay Period"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...d})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",d.value?f(d.value):"None"]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"status",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Status"}),l.jsxs(Er,{onValueChange:d.onChange,value:d.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select status"})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"pending",children:"Pending"}),l.jsx(Ye,{value:"applied",children:"Applied"}),l.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"description",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{placeholder:"Additional details about this allowance...",rows:3,...d})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Update Notes:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Changes will be reflected in the next payroll processing"}),l.jsx("li",{children:'Setting status to "Applied" marks it as processed'}),l.jsx("li",{children:'Setting status to "Cancelled" removes it from future payroll'}),l.jsx("li",{children:"Period changes affect when the allowance is included"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,className:"bg-nigeria-green hover:bg-green-700",children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Allowance"})]})]})})})]})})}const MSe=Ve.object({type:Ve.string().min(1,"Deduction type is required"),amount:Ve.number().min(.01,"Amount must be greater than 0"),totalAmount:Ve.number().optional(),period:Ve.string().min(1,"Period is required"),startPeriod:Ve.string().optional(),endPeriod:Ve.string().optional(),description:Ve.string().optional(),status:Ve.enum(["active","paid_off","cancelled"])}),BSe=[{value:"loan_repayment",label:"Loan Repayment"},{value:"salary_advance",label:"Salary Advance"},{value:"cooperative",label:"Cooperative Deduction"},{value:"fine",label:"Fine/Penalty"},{value:"garnishment",label:"Court Garnishment"},{value:"insurance_premium",label:"Insurance Premium"},{value:"union_dues",label:"Additional Union Dues"},{value:"training_cost",label:"Training Cost Recovery"},{value:"equipment_damage",label:"Equipment Damage"},{value:"other",label:"Other Deduction"}];function USe({open:e,onClose:t,onSuccess:r,deduction:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(MSe),defaultValues:{type:(n==null?void 0:n.type)||"",amount:(n==null?void 0:n.amount)||0,totalAmount:(n==null?void 0:n.totalAmount)||void 0,period:(n==null?void 0:n.period)||new Date().toISOString().slice(0,7),startPeriod:(n==null?void 0:n.startPeriod)||"",endPeriod:(n==null?void 0:n.endPeriod)||"",description:(n==null?void 0:n.description)||"",status:(n==null?void 0:n.status)||"active"}});Ft.useEffect(()=>{n&&s.reset({type:n.type||"",amount:n.amount||0,totalAmount:n.totalAmount||void 0,period:n.period||new Date().toISOString().slice(0,7),startPeriod:n.startPeriod||"",endPeriod:n.endPeriod||"",description:n.description||"",status:n.status||"active"})},[n,s]);const o=Jr({mutationFn:async h=>{if(await ySe(n.id,{amount:h.amount,totalAmount:h.totalAmount,remainingBalance:h.totalAmount?h.totalAmount-(n.totalAmount-n.remainingBalance):void 0,status:h.status}),h.status!==n.status){const{data:p}=await De.from("staff").select("user_id").eq("id",n.staffId).single();p!=null&&p.user_id&&await De.from("notifications").insert({user_id:p.user_id,title:"Individual Deduction Updated",message:`Your ${h.type.replace("_"," ")} deduction has been updated. Status: ${h.status.replace("_"," ")}.`,type:"info"})}},onSuccess:()=>{a({title:"Success",description:"Individual deduction updated successfully"}),i.invalidateQueries({queryKey:["staff-individual-deductions"]}),i.invalidateQueries({queryKey:["staff"]}),r()},onError:h=>{a({title:"Error",description:h.message||"Failed to update individual deduction",variant:"destructive"})}}),c=h=>{o.mutate(h)},u=()=>{s.reset(),t()},f=h=>{const[p,g]=h.split("-");return new Date(parseInt(p),parseInt(g)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},d=s.watch("type")==="loan_repayment"||s.watch("type")==="salary_advance";return l.jsx(Bn,{open:e,onOpenChange:u,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsxs(zn,{className:"flex items-center space-x-2",children:[l.jsx(Vl,{className:"h-5 w-5 text-red-600"}),l.jsx("span",{children:"Edit Individual Deduction"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"type",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Deduction Type"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select deduction type"})})}),l.jsx(_r,{children:BSe.map(p=>l.jsx(Ye,{value:p.value,children:p.label},p.value))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"amount",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:d?"Monthly Deduction Amount (NGN)":"Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...h,onChange:p=>h.onChange(parseFloat(p.target.value)||0)})}),l.jsx(xt,{})]})}),d&&l.jsx(ft,{control:s.control,name:"totalAmount",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Total Loan/Advance Amount (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...h,onChange:p=>h.onChange(parseFloat(p.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"period",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Period"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...h})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",h.value?f(h.value):"None"]}),l.jsx(xt,{})]})}),d&&l.jsxs(l.Fragment,{children:[l.jsx(ft,{control:s.control,name:"startPeriod",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Start Period (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"endPeriod",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"End Period (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"month",...h})}),l.jsx(xt,{})]})})]}),l.jsx(ft,{control:s.control,name:"status",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Status"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select status"})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"active",children:"Active"}),l.jsx(Ye,{value:"paid_off",children:"Paid Off"}),l.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"description",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{placeholder:"Additional details about this deduction...",rows:3,...h})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Update Notes:"}),l.jsxs("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Changes will be reflected in the next payroll processing"}),l.jsx("li",{children:'Setting status to "Paid Off" removes it from future payroll'}),l.jsx("li",{children:'Setting status to "Cancelled" stops the deduction immediately'}),l.jsx("li",{children:"For loans, remaining balance is automatically calculated"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,className:"bg-red-600 hover:bg-red-700",children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Deduction"})]})]})})})]})})}function $Se({open:e,onClose:t,staff:r}){var C,P;const[n,a]=Ft.useState(!1),[i,s]=Ft.useState(!1),[o,c]=Ft.useState(!1),[u,f]=Ft.useState(!1),[d,h]=Ft.useState(null),[p,g]=Ft.useState(null);if(!r)return null;const{data:m,isLoading:v}=Tr({queryKey:["staff-individual-allowances",r.id],queryFn:()=>gSe(r.id),enabled:!!r.id&&e}),{data:x,isLoading:y}=Tr({queryKey:["staff-individual-deductions",r.id],queryFn:()=>vSe(r.id),enabled:!!r.id&&e}),b=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"on_leave":return"bg-yellow-100 text-yellow-800";case"retired":return"bg-gray-100 text-gray-800";case"terminated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=R=>R.replace("_"," ").toUpperCase(),k=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=()=>{var R,U;return`${((R=r.first_name)==null?void 0:R[0])||""}${((U=r.last_name)==null?void 0:U[0])||""}`.toUpperCase()},N=()=>{const R=r.first_name||"",U=r.last_name||"",ee=r.middle_name?`${r.middle_name.charAt(0)}.`:"";return`${R} ${ee} ${U}`.replace(/\s+/g," ").trim()},E=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"applied":case"active":return"bg-green-100 text-green-800";case"paid_off":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=R=>{const[U,ee]=R.split("-");return new Date(parseInt(U),parseInt(ee)-1).toLocaleDateString("en-US",{year:"numeric",month:"short"})},M=R=>!R.totalAmount||R.totalAmount===0?0:(R.totalAmount-(R.remainingBalance||0))/R.totalAmount*100;return l.jsx(Bn,{open:e,onOpenChange:t,children:l.jsxs(Un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx($n,{children:l.jsx(zn,{children:"Staff Details"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-16 w-16 bg-nigeria-green rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-xl",children:O()})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:N()}),l.jsx("p",{className:"text-gray-600",children:r.staff_id}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsx(Yt,{className:b(r.status),children:j(r.status)}),l.jsxs(Yt,{variant:"outline",children:["GL ",r.grade_level," Step ",r.step]})]})]})]})})}),l.jsxs(fy,{defaultValue:"profile",className:"w-full",children:[l.jsxs(jg,{className:"grid grid-cols-1 sm:grid-cols-4 w-full gap-1 h-auto",children:[l.jsx(ki,{value:"profile",className:"w-full justify-start",children:"Profile"}),l.jsx(ki,{value:"employment",className:"w-full justify-start",children:"Employment"}),l.jsxs(ki,{value:"allowances",className:"w-full justify-start",children:["Individual Allowances",m&&m.length>0&&l.jsx(Yt,{variant:"secondary",className:"ml-2",children:m.length})]}),l.jsxs(ki,{value:"deductions",className:"w-full justify-start",children:["Individual Deductions",x&&x.length>0&&l.jsx(Yt,{variant:"secondary",className:"ml-2",children:x.length})]})]}),l.jsx(Ai,{value:"profile",className:"space-y-6 pt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Lu,{className:"h-5 w-5"}),l.jsx("span",{children:"Personal Information"})]})}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($x,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),l.jsx("p",{className:"font-medium",children:r.email})]})]}),r.phone_number&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(yne,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Phone Number"}),l.jsx("p",{className:"font-medium",children:r.phone_number})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Employment Date"}),l.jsx("p",{className:"font-medium",children:k(r.employment_date)})]})]})]})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Ic,{className:"h-5 w-5"}),l.jsx("span",{children:"Employment Details"})]})}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ic,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),l.jsx("p",{className:"font-medium",children:((C=r.departments)==null?void 0:C.name)||"Unassigned"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ad,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),l.jsx("p",{className:"font-medium",children:r.position})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Pi,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Grade & Step"}),l.jsxs("p",{className:"font-medium",children:["Grade Level ",r.grade_level,", Step ",r.step]})]})]})]})]})]})}),l.jsxs(Ai,{value:"employment",className:"space-y-6 pt-4",children:[l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Ic,{className:"h-5 w-5"}),l.jsx("span",{children:"Employment Details"})]})}),l.jsx(Nt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ic,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),l.jsx("p",{className:"font-medium",children:((P=r.departments)==null?void 0:P.name)||"Unassigned"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ad,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),l.jsx("p",{className:"font-medium",children:r.position})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Pi,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Grade & Step"}),l.jsxs("p",{className:"font-medium",children:["Grade Level ",r.grade_level,", Step ",r.step]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Employment Date"}),l.jsx("p",{className:"font-medium",children:k(r.employment_date)})]})]})]})})]}),(r.bank_name||r.account_number)&&l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Tw,{className:"h-5 w-5"}),l.jsx("span",{children:"Banking Information"})]})}),l.jsx(Nt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.bank_name&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Bank Name"}),l.jsx("p",{className:"font-medium",children:r.bank_name.toUpperCase()})]}),r.account_number&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Account Number"}),l.jsx("p",{className:"font-medium font-mono",children:r.account_number})]}),r.account_name&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Account Name"}),l.jsx("p",{className:"font-medium",children:r.account_name})]})]})})]})]}),l.jsxs(Ai,{value:"allowances",className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Individual Allowances"}),l.jsxs(Ue,{onClick:()=>a(!0),size:"sm",className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Allowance"]})]}),v?l.jsx("div",{className:"space-y-3",children:[...Array(3)].map((R,U)=>l.jsxs("div",{className:"animate-pulse flex space-x-4 p-4 border rounded-lg",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},U))}):m&&m.length>0?l.jsx("div",{className:"space-y-3",children:m.map(R=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Wa,{className:"h-4 w-4 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium capitalize",children:R.type.replace("_"," ")}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:D(R.period)}),l.jsx("span",{children:"•"}),l.jsx(Yt,{className:E(R.status),children:R.status.toUpperCase()})]}),R.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.description})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"font-bold text-green-600",children:["+",An(R.amount)]})}),l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{h(R),c(!0)},children:l.jsx($u,{className:"h-4 w-4"})})]})]},R.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:[l.jsx(Wa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No individual allowances"}),l.jsx("p",{className:"text-sm",children:"Add overtime, bonuses, or special allowances"}),l.jsxs(Ue,{onClick:()=>a(!0),variant:"outline",size:"sm",className:"mt-3",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add First Allowance"]})]})]}),l.jsxs(Ai,{value:"deductions",className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Individual Deductions"}),l.jsxs(Ue,{onClick:()=>s(!0),size:"sm",className:"bg-red-600 hover:bg-red-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Deduction"]})]}),y?l.jsx("div",{className:"space-y-3",children:[...Array(3)].map((R,U)=>l.jsxs("div",{className:"animate-pulse flex space-x-4 p-4 border rounded-lg",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},U))}):x&&x.length>0?l.jsx("div",{className:"space-y-3",children:x.map(R=>l.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(Vl,{className:"h-4 w-4 text-red-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium capitalize",children:R.type.replace("_"," ")}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:D(R.period)}),l.jsx("span",{children:"•"}),l.jsx(Yt,{className:E(R.status),children:R.status.replace("_"," ").toUpperCase()})]}),R.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.description})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-red-600",children:["-",An(R.amount)]}),R.totalAmount&&l.jsxs("p",{className:"text-xs text-gray-500",children:["of ",An(R.totalAmount)]})]}),l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{g(R),f(!0)},children:l.jsx($u,{className:"h-4 w-4"})})]})]}),R.totalAmount&&R.totalAmount>0&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[M(R).toFixed(1),"% paid"]})]}),l.jsx(rS,{value:M(R),className:"h-2"}),l.jsx("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:l.jsxs("span",{children:["Remaining: ",An(R.remainingBalance||0)]})})]})]},R.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:[l.jsx(Vl,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No individual deductions"}),l.jsx("p",{className:"text-sm",children:"Add loans, advances, or other deductions"}),l.jsxs(Ue,{onClick:()=>s(!0),variant:"outline",size:"sm",className:"mt-3",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add First Deduction"]})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx(Ue,{variant:"outline",onClick:t,children:"Close"}),l.jsx(Ue,{className:"bg-nigeria-green hover:bg-green-700",children:"Edit Staff"})]})]}),l.jsx(DT,{open:n,onClose:()=>a(!1),onSuccess:()=>{a(!1)},preselectedStaffId:r.id}),l.jsx(LT,{open:i,onClose:()=>s(!1),onSuccess:()=>{s(!1)},preselectedStaffId:r.id}),d&&l.jsx(RSe,{open:o,onClose:()=>{c(!1),h(null)},allowance:d,onSuccess:()=>{c(!1),h(null)}}),p&&l.jsx(USe,{open:u,onClose:()=>{f(!1),g(null)},deduction:p,onSuccess:()=>{f(!1),g(null)}})]})})}const zSe=Ve.object({firstName:Ve.string().min(1,"First name is required"),lastName:Ve.string().min(1,"Last name is required"),middleName:Ve.string().optional(),email:Ve.string().email("Invalid email address"),phoneNumber:Ve.string().optional(),departmentId:Ve.string().min(1,"Department is required"),position:Ve.string().min(1,"Position is required"),gradeLevel:Ve.number().min(1).max(17),step:Ve.number().min(1).max(15),status:Ve.enum(["active","on_leave","retired","terminated"]),bankName:Ve.string().optional(),accountNumber:Ve.string().optional(),accountName:Ve.string().optional()});function qSe({open:e,onClose:t,staff:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(zSe)});Ft.useEffect(()=>{r&&s.reset({firstName:r.first_name||"",lastName:r.last_name||"",middleName:r.middle_name||"",email:r.email||"",phoneNumber:r.phone_number||"",departmentId:r.department_id||"",position:r.position||"",gradeLevel:r.grade_level||1,step:r.step||1,status:r.status||"active",bankName:r.bank_name||"",accountNumber:r.account_number||"",accountName:r.account_name||""})},[r,s]);const{data:o,isLoading:c}=Tr({queryKey:["departments"],queryFn:async()=>{const{data:h,error:p}=await De.from("departments").select("id, name, code").order("name");if(p)throw p;return h||[]}}),u=Jr({mutationFn:async h=>{const p={...r},g={first_name:h.firstName,last_name:h.lastName,middle_name:h.middleName||null,email:h.email,phone_number:h.phoneNumber||null,department_id:h.departmentId,position:h.position,grade_level:h.gradeLevel,step:h.step,status:h.status,bank_name:h.bankName||null,account_number:h.accountNumber||null,account_name:h.accountName||null,updated_at:new Date().toISOString()},{data:m,error:v}=await De.from("staff").update(g).eq("id",r.id).select().single();if(v)throw v;return await vU("updated",r.id,p,g),m},onSuccess:()=>{a({title:"Success",description:"Staff member updated successfully"}),i.invalidateQueries({queryKey:["staff"]}),i.invalidateQueries({queryKey:["staff",r.id]}),n()},onError:h=>{a({title:"Error",description:h.message||"Failed to update staff member",variant:"destructive"})}}),f=h=>{u.mutate(h)},d=()=>{t()};return l.jsx(Bn,{open:e,onOpenChange:d,children:l.jsxs(Un,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit Staff Member"})}),l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(f),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:s.control,name:"firstName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"First Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"lastName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Last Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"middleName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Middle Name (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"email",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Email"}),l.jsx(ct,{children:l.jsx(Dt,{type:"email",...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"phoneNumber",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Phone Number (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"status",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Status"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Status"})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"active",children:"Active"}),l.jsx(Ye,{value:"on_leave",children:"On Leave"}),l.jsx(Ye,{value:"retired",children:"Retired"}),l.jsx(Ye,{value:"terminated",children:"Terminated"})]})]}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Employment Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:s.control,name:"departmentId",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:c?"Loading...":"Select Department"})})}),l.jsx(_r,{children:o==null?void 0:o.map(p=>l.jsx(Ye,{value:p.id,children:p.name},p.id))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"position",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Position"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"gradeLevel",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Grade Level"}),l.jsxs(Er,{onValueChange:p=>h.onChange(parseInt(p)),value:h.value.toString(),children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Grade Level"})})}),l.jsx(_r,{children:[...Array(17)].map((p,g)=>l.jsxs(Ye,{value:(g+1).toString(),children:["GL ",g+1]},g+1))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"step",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Step"}),l.jsxs(Er,{onValueChange:p=>h.onChange(parseInt(p)),value:h.value.toString(),children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Step"})})}),l.jsx(_r,{children:[...Array(15)].map((p,g)=>l.jsxs(Ye,{value:(g+1).toString(),children:["Step ",g+1]},g+1))})]}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium mb-4",children:"Banking Information (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ft,{control:s.control,name:"bankName",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Bank Name"}),l.jsxs(Er,{onValueChange:h.onChange,value:h.value||"",children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Bank"})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"access",children:"Access Bank"}),l.jsx(Ye,{value:"zenith",children:"Zenith Bank"}),l.jsx(Ye,{value:"gtb",children:"Guaranty Trust Bank"}),l.jsx(Ye,{value:"firstbank",children:"First Bank of Nigeria"}),l.jsx(Ye,{value:"uba",children:"United Bank for Africa"}),l.jsx(Ye,{value:"fidelity",children:"Fidelity Bank"}),l.jsx(Ye,{value:"union",children:"Union Bank"}),l.jsx(Ye,{value:"stanbic",children:"Stanbic IBTC Bank"}),l.jsx(Ye,{value:"polaris",children:"Polaris Bank"}),l.jsx(Ye,{value:"wema",children:"Wema Bank"}),l.jsx(Ye,{value:"sterling",children:"Sterling Bank"}),l.jsx(Ye,{value:"unity",children:"Unity Bank"}),l.jsx(Ye,{value:"ecobank",children:"Ecobank Nigeria"}),l.jsx(Ye,{value:"keystone",children:"Keystone Bank"}),l.jsx(Ye,{value:"titan",children:"Titan Trust Bank"}),l.jsx(Ye,{value:"globus",children:"Globus Bank"}),l.jsx(Ye,{value:"providus",children:"Providus Bank"}),l.jsx(Ye,{value:"suntrust",children:"SunTrust Bank"}),l.jsx(Ye,{value:"parallex",children:"Parallex Bank"}),l.jsx(Ye,{value:"premium",children:"Premium Trust Bank"}),l.jsx(Ye,{value:"taj",children:"TAJ Bank"}),l.jsx(Ye,{value:"jaiz",children:"Jaiz Bank"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"accountNumber",render:({field:h})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Account Number"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"accountName",render:({field:h})=>l.jsxs(ot,{className:"md:col-span-2",children:[l.jsx(lt,{children:"Account Name"}),l.jsx(ct,{children:l.jsx(Dt,{...h})}),l.jsx(xt,{})]})})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:u.isPending,className:"bg-nigeria-green hover:bg-green-700",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Staff Member"})]})]})})]})})}function WSe(){var Se;const[e,t]=S.useState(""),[r,n]=S.useState("all"),[a,i]=S.useState("all"),[s,o]=S.useState("all"),[c,u]=S.useState("all"),[f,d]=S.useState(""),[h,p]=S.useState(""),[g,m]=S.useState(!1),[v,x]=S.useState(!1),[y,b]=S.useState(!1),[j,k]=S.useState(!1),[O,N]=S.useState(!1),[E,D]=S.useState(!1),[M,C]=S.useState(null),{toast:P}=zr(),R=Cn();Q1({enableNotifications:!0,enableStaffUpdates:!0});const{data:U,isLoading:ee}=Tr({queryKey:["staff",e,r,a,s,c,f,h],queryFn:async()=>{let T=De.from("staff").select(`
          *,
          departments!staff_department_id_fkey (
            id,
            name,
            code
          )
        `).order("created_at",{ascending:!1});e&&(T=T.or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,staff_id.ilike.%${e}%,email.ilike.%${e}%`)),r!=="all"&&(T=T.eq("department_id",r)),a!=="all"&&(T=T.eq("status",a)),s!=="all"&&(T=T.eq("grade_level",parseInt(s))),c!=="all"&&(T=T.eq("step",parseInt(c))),f&&(T=T.gte("employment_date",f)),h&&(T=T.lte("employment_date",h));const{data:L,error:B}=await T;if(B)throw B;return L||[]}}),{data:J}=Tr({queryKey:["departments"],queryFn:async()=>{const{data:T,error:L}=await De.from("departments").select("id, name, code").order("name");if(L)throw L;return T||[]}}),ae=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"on_leave":return"bg-yellow-100 text-yellow-800";case"retired":return"bg-gray-100 text-gray-800";case"terminated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=T=>T.replace("_"," ").toUpperCase(),W=()=>{t(""),n("all"),i("all"),o("all"),u("all"),d(""),p("")},fe=e||r!=="all"||a!=="all"||s!=="all"||c!=="all"||f||h;return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Staff Management"}),l.jsx("p",{className:"text-gray-600",children:"Manage staff profiles and information"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[l.jsxs(Ue,{onClick:()=>N(!0),variant:"outline",className:"w-full sm:w-auto text-green-600 hover:text-green-700 hover:bg-green-50",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Allowance"]}),l.jsxs(Ue,{onClick:()=>D(!0),variant:"outline",className:"w-full sm:w-auto text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Deduction"]}),l.jsx(Ue,{onClick:()=>x(!0),className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Staff"]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Add a new staff member"})})]})})]})]})}),l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(pb,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(Dt,{placeholder:"Search by name, staff ID, or email...",value:e,onChange:T=>t(T.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Er,{value:r,onValueChange:n,children:[l.jsx(br,{className:"w-48",children:l.jsx(Cr,{placeholder:"Filter by department"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Departments"}),J==null?void 0:J.map(T=>l.jsx(Ye,{value:T.id,children:T.name},T.id))]})]}),l.jsxs(Er,{value:a,onValueChange:i,children:[l.jsx(br,{className:"w-32",children:l.jsx(Cr,{placeholder:"Status"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Status"}),l.jsx(Ye,{value:"active",children:"Active"}),l.jsx(Ye,{value:"on_leave",children:"On Leave"}),l.jsx(Ye,{value:"retired",children:"Retired"}),l.jsx(Ye,{value:"terminated",children:"Terminated"})]})]}),l.jsxs(Ue,{variant:"outline",onClick:()=>m(!g),className:"flex items-center gap-2",children:[l.jsx(Uk,{className:"h-4 w-4"}),"Advanced",fe&&l.jsx(Yt,{variant:"secondary",className:"ml-1 h-4 w-4 p-0 flex items-center justify-center",children:"!"})]})]})]}),g&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg border",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Grade Level"}),l.jsxs(Er,{value:s,onValueChange:o,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"All Grades"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Grade Levels"}),[...Array(17)].map((T,L)=>l.jsxs(Ye,{value:(L+1).toString(),children:["Grade Level ",L+1]},L+1))]})]})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Step"}),l.jsxs(Er,{value:c,onValueChange:u,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"All Steps"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Steps"}),[...Array(15)].map((T,L)=>l.jsxs(Ye,{value:(L+1).toString(),children:["Step ",L+1]},L+1))]})]})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Employment From"}),l.jsx(Dt,{type:"date",value:f,onChange:T=>d(T.target.value),className:"text-sm"})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Employment To"}),l.jsx(Dt,{type:"date",value:h,onChange:T=>p(T.target.value),className:"text-sm"})]})]}),fe&&l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[l.jsx(Uk,{className:"h-4 w-4"}),l.jsxs("span",{children:["Showing ",(U==null?void 0:U.length)||0," staff members with active filters"]})]}),l.jsx(Ue,{variant:"ghost",size:"sm",onClick:W,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100",children:"Clear All Filters"})]})]})})}),l.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:['Search: "',e,'"',l.jsx("button",{onClick:()=>t(""),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),r!=="all"&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["Dept: ",(Se=J==null?void 0:J.find(T=>T.id===r))==null?void 0:Se.name,l.jsx("button",{onClick:()=>n("all"),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),a!=="all"&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["Status: ",X(a),l.jsx("button",{onClick:()=>i("all"),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),s!=="all"&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["GL: ",s,l.jsx("button",{onClick:()=>o("all"),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),c!=="all"&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["Step: ",c,l.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),f&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["From: ",f,l.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]}),h&&l.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:["To: ",h,l.jsx("button",{onClick:()=>p(""),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:"×"})]})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Staff Directory"})}),l.jsx(Nt,{children:ee?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((T,L)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},L))}):U&&U.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Staff ID"}),l.jsx(it,{children:"Name"}),l.jsx(it,{children:"Department"}),l.jsx(it,{children:"Position"}),l.jsx(it,{children:"Grade Level"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:U.map(T=>{var L;return l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:T.staff_id}),l.jsx(at,{children:l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[T.first_name," ",T.last_name]}),l.jsx("div",{className:"text-sm text-gray-500",children:T.email})]})}),l.jsx(at,{children:((L=T.departments)==null?void 0:L.name)||"Unassigned"}),l.jsx(at,{children:T.position}),l.jsxs(at,{children:["GL ",T.grade_level," Step ",T.step]}),l.jsx(at,{children:l.jsx(Yt,{className:ae(T.status),children:X(T.status)})}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{C(T),b(!0)},children:l.jsx(qc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"View staff details"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{C(T),k(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit staff information"})})]})]})})]},T.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(pb,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No staff members found"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]}),l.jsx(jq,{open:v,onClose:()=>x(!1),onSuccess:()=>{x(!1),R.invalidateQueries({queryKey:["staff"]}),P({title:"Success",description:"Staff member added successfully"})}}),l.jsx(DT,{open:O,onClose:()=>N(!1),onSuccess:()=>{N(!1),P({title:"Success",description:"Individual allowance added successfully"})}}),l.jsx(LT,{open:E,onClose:()=>D(!1),onSuccess:()=>{D(!1),P({title:"Success",description:"Individual deduction added successfully"})}}),M&&l.jsx($Se,{open:y,onClose:()=>{b(!1),C(null)},staff:M}),M&&l.jsx(qSe,{open:j,onClose:()=>{k(!1),C(null)},staff:M,onSuccess:()=>{k(!1),C(null),P({title:"Success",description:"Staff member updated successfully"})}})]})}var RH="AlertDialog",[VSe,CLe]=ks(RH,[CU]),hf=CU(),MH=e=>{const{__scopeAlertDialog:t,...r}=e,n=hf(t);return l.jsx(yC,{...n,...r,modal:!0})};MH.displayName=RH;var HSe="AlertDialogTrigger",BH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=hf(r);return l.jsx(wC,{...a,...n,ref:t})});BH.displayName=HSe;var GSe="AlertDialogPortal",UH=e=>{const{__scopeAlertDialog:t,...r}=e,n=hf(t);return l.jsx(bC,{...n,...r})};UH.displayName=GSe;var KSe="AlertDialogOverlay",$H=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=hf(r);return l.jsx(G1,{...a,...n,ref:t})});$H.displayName=KSe;var bm="AlertDialogContent",[YSe,XSe]=VSe(bm),ZSe=L9("AlertDialogContent"),zH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=hf(r),s=S.useRef(null),o=$r(t,s),c=S.useRef(null);return l.jsx(Kle,{contentName:bm,titleName:qH,docsSlug:"alert-dialog",children:l.jsx(YSe,{scope:r,cancelRef:c,children:l.jsxs(K1,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:At(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(ZSe,{children:n}),l.jsx(QSe,{contentRef:s})]})})})});zH.displayName=bm;var qH="AlertDialogTitle",WH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=hf(r);return l.jsx(Y1,{...a,...n,ref:t})});WH.displayName=qH;var VH="AlertDialogDescription",HH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=hf(r);return l.jsx(X1,{...a,...n,ref:t})});HH.displayName=VH;var JSe="AlertDialogAction",GH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=hf(r);return l.jsx(T5,{...a,...n,ref:t})});GH.displayName=JSe;var KH="AlertDialogCancel",YH=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=XSe(KH,r),i=hf(r),s=$r(t,a);return l.jsx(T5,{...i,...n,ref:s})});YH.displayName=KH;var QSe=({contentRef:e})=>{const t=`\`${bm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bm}\` by passing a \`${VH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},eje=MH,tje=BH,rje=UH,XH=$H,ZH=zH,JH=GH,QH=YH,eG=WH,tG=HH;const GA=eje,KA=tje,nje=rje,rG=S.forwardRef(({className:e,...t},r)=>l.jsx(XH,{className:Et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rG.displayName=XH.displayName;const o_=S.forwardRef(({className:e,...t},r)=>l.jsxs(nje,{children:[l.jsx(rG,{}),l.jsx(ZH,{ref:r,className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));o_.displayName=ZH.displayName;const l_=({className:e,...t})=>l.jsx("div",{className:Et("flex flex-col space-y-2 text-center sm:text-left",e),...t});l_.displayName="AlertDialogHeader";const c_=({className:e,...t})=>l.jsx("div",{className:Et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});c_.displayName="AlertDialogFooter";const u_=S.forwardRef(({className:e,...t},r)=>l.jsx(eG,{ref:r,className:Et("text-lg font-semibold",e),...t}));u_.displayName=eG.displayName;const f_=S.forwardRef(({className:e,...t},r)=>l.jsx(tG,{ref:r,className:Et("text-sm text-muted-foreground",e),...t}));f_.displayName=tG.displayName;const d_=S.forwardRef(({className:e,...t},r)=>l.jsx(JH,{ref:r,className:Et(dC(),e),...t}));d_.displayName=JH.displayName;const h_=S.forwardRef(({className:e,...t},r)=>l.jsx(QH,{ref:r,className:Et(dC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));h_.displayName=QH.displayName;const aje=Ve.object({name:Ve.string().min(1,"Department name is required"),code:Ve.string().min(2,"Department code must be at least 2 characters"),headOfDepartment:Ve.string().nullable().optional(),description:Ve.string().optional()});function ije({open:e,onClose:t,department:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(aje),defaultValues:{name:(r==null?void 0:r.name)||"",code:(r==null?void 0:r.code)||"",headOfDepartment:(r==null?void 0:r.head_of_department)||null,description:(r==null?void 0:r.description)||""}});Ft.useEffect(()=>{r&&s.reset({name:r.name||"",code:r.code||"",headOfDepartment:r.head_of_department||null,description:r.description||""})},[r,s]);const{data:o}=Tr({queryKey:["staff-for-hod"],queryFn:async()=>{const{data:d,error:h}=await De.from("staff").select("id, staff_id, first_name, last_name, position").eq("status","active").order("first_name");if(h)throw h;return d||[]}}),c=Jr({mutationFn:async d=>{const h={name:r.name,code:r.code,head_of_department:r.head_of_department,description:r.description},{data:p,error:g}=await De.from("departments").update({name:d.name,code:d.code.toUpperCase(),head_of_department:d.headOfDepartment||null,description:d.description||null,updated_at:new Date().toISOString()}).eq("id",r.id).select();if(g)throw g;if(!p||p.length===0)throw new Error("Department not found or no changes were made.");return await iA("updated",r.id,h,d),p[0]},onSuccess:()=>{a({title:"Success",description:"Department updated successfully"}),i.invalidateQueries({queryKey:["departments-with-staff"]}),n()},onError:d=>{a({title:"Error",description:d.message||"Failed to update department",variant:"destructive"})}}),u=d=>{c.mutate(d)},f=()=>{s.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:f,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit Department"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"name",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department Name"}),l.jsx(ct,{children:l.jsx(Dt,{placeholder:"e.g., Legal Affairs",...d})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"code",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department Code"}),l.jsx(ct,{children:l.jsx(Dt,{placeholder:"e.g., LEG",...d})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"headOfDepartment",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Head of Department (Optional)"}),l.jsxs(Er,{onValueChange:d.onChange,value:d.value||void 0,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select Head of Department"})})}),l.jsx(_r,{children:o==null?void 0:o.map(h=>l.jsxs(Ye,{value:h.id,children:[h.first_name," ",h.last_name," (",h.staff_id,")"]},h.id))})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"description",render:({field:d})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{placeholder:"Department description",...d,value:d.value||"",rows:3})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:c.isPending,className:"bg-nigeria-green hover:bg-green-700",children:c.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Department"})]})]})})})]})})}const sje=Ve.object({name:Ve.string().min(1,"Department name is required"),code:Ve.string().min(2,"Department code must be at least 2 characters"),description:Ve.string().optional()});function oje(){const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[a,i]=S.useState(null),{toast:s}=zr(),o=Cn();Q1({enableNotifications:!0,enableDepartmentUpdates:!0});const c=si({resolver:oi(sje),defaultValues:{name:"",code:"",description:""}}),{data:u,isLoading:f}=Tr({queryKey:["departments-with-staff"],queryFn:async()=>{const{data:g,error:m}=await De.from("departments").select(`
          *,
          staff!staff_department_id_fkey (
            id
          )
        `).order("name");if(console.log("Departments query result:",{data:g,error:m}),console.log("Departments with staff count:",g==null?void 0:g.map(v=>{var x;return{name:v.name,staffCount:((x=v.staff)==null?void 0:x.length)||0,rawStaffData:v.staff}})),m)throw m;return(g||[]).map(v=>{var x;return{...v,staffCount:((x=v.staff)==null?void 0:x.length)||0}})}}),d=Jr({mutationFn:async g=>{const{data:m,error:v}=await De.from("departments").insert({name:g.name,code:g.code.toUpperCase(),description:g.description||null}).select().single();if(v)throw v;return await iA("created",m.id,null,g),m},onSuccess:()=>{s({title:"Success",description:"Department created successfully"}),o.invalidateQueries({queryKey:["departments-with-staff"]}),c.reset(),t(!1)},onError:g=>{s({title:"Error",description:g.message||"Failed to create department",variant:"destructive"})}}),h=Jr({mutationFn:async g=>{const{data:m}=await De.from("departments").select("*").eq("id",g).single(),{data:v,error:x}=await De.from("staff").select("id").eq("department_id",g).limit(1);if(x)throw x;if(v&&v.length>0)throw new Error("Cannot delete department with assigned staff members. Please reassign staff first.");const{error:y}=await De.from("departments").delete().eq("id",g);if(y)throw y;m&&await iA("deleted",g,m,null)},onSuccess:()=>{s({title:"Success",description:"Department deleted successfully"}),o.invalidateQueries({queryKey:["departments-with-staff"]})},onError:g=>{s({title:"Error",description:g.message||"Failed to delete department",variant:"destructive"})}}),p=g=>{d.mutate(g)};return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Departments"}),l.jsx("p",{className:"text-gray-600",children:"Manage organizational departments and structure"})]}),l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Bn,{open:e,onOpenChange:t,children:l.jsx(fm,{asChild:!0,children:l.jsxs(Ue,{className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Department"]})})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Create a new department"})})]})}),l.jsx(Bn,{open:e,onOpenChange:t,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New Department"})}),l.jsx(li,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(p),className:"space-y-4",children:[l.jsx(ft,{control:c.control,name:"name",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department Name"}),l.jsx(ct,{children:l.jsx(Dt,{placeholder:"e.g., Legal Affairs",...g})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:c.control,name:"code",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Department Code"}),l.jsx(ct,{children:l.jsx(Dt,{placeholder:"e.g., LEG",...g})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:c.control,name:"description",render:({field:g})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(Dt,{placeholder:"Department description",...g})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:d.isPending,className:"bg-nigeria-green hover:bg-green-700",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Department"})]})]})})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Departments"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f?"...":(u==null?void 0:u.length)||0})]}),l.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Ic,{className:"text-blue-600",size:24})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Staff"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f?"...":(u==null?void 0:u.reduce((g,m)=>g+m.staffCount,0))||0})]}),l.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wc,{className:"text-nigeria-green",size:24})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Staff per Dept"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f?"...":u!=null&&u.length?Math.round(u.reduce((g,m)=>g+m.staffCount,0)/u.length):0})]}),l.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(Wc,{className:"text-purple-600",size:24})})]})})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Department Directory"})}),l.jsx(Nt,{children:f?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((g,m)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},m))}):u&&u.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Department"}),l.jsx(it,{children:"Code"}),l.jsx(it,{children:"Description"}),l.jsx(it,{children:"Staff Count"}),l.jsx(it,{children:"Head of Department"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:u.map(g=>l.jsxs(Br,{children:[l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Ic,{className:"h-4 w-4 text-blue-600"})}),l.jsx("div",{className:"font-medium",children:g.name})]})}),l.jsx(at,{children:l.jsx(Yt,{variant:"outline",children:g.code})}),l.jsx(at,{className:"max-w-xs truncate",children:g.description||"No description"}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:g.staffCount})]})}),l.jsx(at,{children:g.head_of_department?"Assigned":"Not assigned"}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{i(g),n(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit department details"})})]}),l.jsxs(GA,{children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(KA,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:l.jsx(gb,{className:"h-4 w-4"})})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Delete department"})})]}),l.jsxs(o_,{children:[l.jsxs(l_,{children:[l.jsx(u_,{children:"Delete Department"}),l.jsxs(f_,{children:['Are you sure you want to delete "',g.name,'"? This action cannot be undone.',g.staffCount>0&&l.jsxs("div",{className:"mt-2 text-red-600 font-medium",children:["Warning: This department has ",g.staffCount," staff member(s). Please reassign staff before deleting."]})]})]}),l.jsxs(c_,{children:[l.jsx(h_,{children:"Cancel"}),l.jsx(d_,{onClick:()=>h.mutate(g.id),className:"bg-red-600 hover:bg-red-700",disabled:g.staffCount>0||h.isPending,children:h.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Department"})]})]})]})]})})]},g.id))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ic,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No departments found"}),l.jsx("p",{className:"text-sm",children:"Create your first department to get started"})]})})]}),a&&l.jsx(ije,{open:r,onClose:()=>{n(!1),i(null)},department:a,onSuccess:()=>{n(!1),i(null)}})]})}var lje="Separator",hL="horizontal",cje=["horizontal","vertical"],nG=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=hL,...a}=e,i=uje(n)?n:hL,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(Kt.div,{"data-orientation":i,...o,...a,ref:t})});nG.displayName=lje;function uje(e){return cje.includes(e)}var aG=nG;const iG=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>l.jsx(aG,{ref:a,decorative:r,orientation:t,className:Et("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));iG.displayName=aG.displayName;async function fje(){const[e,t]=await Promise.all([De.from("allowances").select("*").eq("is_active",!0).order("name"),De.from("deductions").select("*").eq("is_active",!0).order("name")]);if(e.error)throw e.error;if(t.error)throw t.error;return{allowances:e.data||[],deductions:t.data||[]}}async function dje(e,t){const{data:r,error:n}=await De.from("salary_structure").select("basic_salary").eq("grade_level",e).eq("step",t).single();return n?(console.warn(`No salary structure found for GL${e} Step${t}, using fallback calculation`),3e4+e*8e3+t*2e3):parseFloat(r.basic_salary)}function hje(e,t,r,n){const a={};return t.forEach(i=>{let s=0;i.type==="percentage"?s=e*(i.value/100):s=i.value,i.name.toLowerCase().includes("responsibility")&&(r>=15?s*=1.5:r>=10&&(s*=1.2)),i.name.toLowerCase().includes("hazard")&&!n.toLowerCase().includes("field")&&!n.toLowerCase().includes("rural")&&(s=0),a[i.name.toLowerCase().replace(/\s+/g,"_")]=s}),a}function pje(e){let t=0;const r=3e5;if(e>r){const n=e-r;n<=3e5?t=n*.07:n<=8e5?t=3e5*.07+(n-3e5)*.11:n<=13e5?t=3e5*.07+5e5*.11+(n-8e5)*.15:n<=29e5?t=3e5*.07+5e5*.11+5e5*.15+(n-13e5)*.19:t=3e5*.07+5e5*.11+5e5*.15+16e5*.19+(n-29e5)*.21}return t}function mje(e,t,r,n=0,a=0){const i={};return r.forEach(s=>{let o=0;s.name.toLowerCase().includes("paye")||s.name.toLowerCase().includes("tax")?o=pje(t*12)/12:s.type==="percentage"?o=(s.name.toLowerCase().includes("nhf")?e:t)*(s.value/100):o=s.value,i[s.name.toLowerCase().replace(/\s+/g,"_")]=o}),n>0&&(i.loan_repayment=n),a>0&&(i.cooperative_deduction=a),i}async function gje(e,t){const{data:r,error:n}=await De.from("staff_individual_allowances").select("type, amount, description").eq("staff_id",e).eq("period",t).eq("status","pending");return n?(console.error("Error fetching individual allowances:",n),[]):(r||[]).map(a=>({type:a.type,amount:parseFloat(a.amount),description:a.description||void 0}))}async function vje(e,t){const{data:r,error:n}=await De.from("staff_individual_deductions").select("type, amount, description").eq("staff_id",e).eq("period",t).eq("status","active");return n?(console.error("Error fetching individual deductions:",n),[]):(r||[]).map(a=>({type:a.type,amount:parseFloat(a.amount),description:a.description||void 0}))}async function xje(e){const t=[],{allowances:r,deductions:n}=await fje();for(const a of e)try{const i=await dje(a.gradeLevel,a.step),s=new Date().toISOString().slice(0,7),o=a.individualAllowances||await gje(a.staffId,s),c=a.individualDeductions||await vje(a.staffId,s),u=hje(i,r,a.gradeLevel,a.position),f={};o.forEach(N=>{const E=N.type.toLowerCase().replace(/\s+/g,"_");f[E]=(f[E]||0)+N.amount});const d=Object.values(u).reduce((N,E)=>N+E,0),h=Object.values(f).reduce((N,E)=>N+E,0),p=a.arrears||0,g=a.overtime||0,m=a.bonus||0,v=i+d+h+p+g+m,x=mje(i,v,n,a.loans,a.cooperatives),y={};c.forEach(N=>{const E=N.type.toLowerCase().replace(/\s+/g,"_");y[E]=(y[E]||0)+N.amount});const b=Object.values(x).reduce((N,E)=>N+E,0),j=Object.values(y).reduce((N,E)=>N+E,0),k=b+j,O=v-k;t.push({staffId:a.staffId,basicSalary:i,allowancesBreakdown:u,individualAllowancesBreakdown:f,totalAllowances:d+h,grossPay:v,deductionsBreakdown:x,individualDeductionsBreakdown:y,totalDeductions:k,netPay:O,arrears:p,overtime:g,bonus:m})}catch(i){console.error(`Error calculating payroll for staff ${a.staffId}:`,i)}return t}async function yje(e){try{const{data:t,error:r}=await De.rpc("is_payroll_locked",{payroll_run_id:e});return r?(console.error("Error checking payroll lock status:",r),!1):t||!1}catch(t){return console.error("Error calling is_payroll_locked RPC:",t),!1}}async function wje(e,t,r){const n=await afe(t),a={};n.forEach(p=>{var g;!p.isPaid&&((g=p.staff)!=null&&g.id)&&(a[p.staff.id]=(a[p.staff.id]||0)+p.daysInPeriod)});const i=r.map(p=>({...p,unpaidLeaveDays:a[p.staffId]||0})),s=await xje(i),o=s.map(p=>({staff_id:p.staffId,payroll_run_id:e,period:t,basic_salary:p.basicSalary.toString(),allowances:{...p.allowancesBreakdown,...p.individualAllowancesBreakdown},deductions:{...p.deductionsBreakdown,...p.individualDeductionsBreakdown},gross_pay:p.grossPay.toString(),total_deductions:p.totalDeductions.toString(),net_pay:p.netPay.toString()})),{error:c}=await De.from("payslips").insert(o);if(c)throw c;if(s.some(p=>Object.keys(p.individualAllowancesBreakdown).length>0)){const{error:p}=await De.from("staff_individual_allowances").update({status:"applied",payroll_run_id:e,updated_at:new Date().toISOString()}).eq("period",t).eq("status","pending").in("staff_id",s.map(g=>g.staffId));p&&console.error("Error updating individual allowances status:",p)}for(const p of s)if(Object.keys(p.individualDeductionsBreakdown).length>0){const g=Object.entries(p.individualDeductionsBreakdown).filter(([m])=>m.includes("loan")||m.includes("advance"));for(const[m,v]of g){const{error:x}=await De.rpc("update_loan_balance",{p_staff_id:p.staffId,p_period:t,p_type:m,p_payment_amount:v});x&&console.error("Error updating loan balance:",x)}}const u=s.reduce((p,g)=>p+g.grossPay,0),f=s.reduce((p,g)=>p+g.totalDeductions,0),d=s.reduce((p,g)=>p+g.netPay,0),{error:h}=await De.from("payroll_runs").update({total_staff:s.length,gross_amount:u.toString(),total_deductions:f.toString(),net_amount:d.toString(),status:"pending_review"}).eq("id",e);if(h)throw h}function bje(){const[e,t]=S.useState(""),[r,n]=S.useState("all"),[a,i]=S.useState([]),[s,o]=S.useState([]),[c,u]=S.useState([]),[f,d]=S.useState(!1),[h,p]=S.useState(!0),{toast:g}=zr();S.useEffect(()=>{m()},[]);const m=async()=>{try{p(!0);const{data:y,error:b}=await De.from("departments").select("*").order("name");if(b)throw b;o(y||[]);const{data:j,error:k}=await De.from("staff").select(`
          *,
          departments!staff_department_id_fkey (
            name
          )
        `).eq("status","active").order("first_name");if(k)throw k;i(j||[]);const{data:O,error:N}=await De.from("payroll_runs").select("*").order("created_at",{ascending:!1}).limit(10);if(N)throw N;u(O||[])}catch(y){console.error("Error loading data:",y),g({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"})}finally{p(!1)}},v=async()=>{if(!e){g({title:"Error",description:"Please select a payroll period.",variant:"destructive"});return}try{d(!0);const y=r==="all"?a:a.filter(N=>N.department_id===r);if(y.length===0){g({title:"Error",description:"No staff found for the selected criteria.",variant:"destructive"});return}const{data:b,error:j}=await De.from("payroll_runs").insert({period:e,department_id:r==="all"?null:r,status:"draft",total_staff:y.length}).select().single();if(j)throw j;await sA("created",b.id,null,{period:e,department_id:r==="all"?null:r,total_staff:y.length});const k=y.map(N=>({staffId:N.id,gradeLevel:N.grade_level,step:N.step,position:N.position,arrears:0,overtime:0,bonus:0,loans:0,cooperatives:0}));await wje(b.id,e,k);const{data:O}=await De.from("users").select("id").in("role",["super_admin","account_admin","payroll_admin"]);if(O!=null&&O.length){const N=O.map(E=>({user_id:E.id,title:"Payroll Run Completed",message:`Payroll for ${e} has been processed for ${y.length} staff members and is ready for review.`,type:"success"}));await De.from("notifications").insert(N)}g({title:"Success",description:`Payroll processed successfully for ${y.length} staff members.`}),m(),t(""),n("all")}catch(y){console.error("Error processing payroll:",y),g({title:"Error",description:"Failed to process payroll. Please try again.",variant:"destructive"})}finally{d(!1)}},x=y=>{const b={draft:{variant:"secondary",icon:Pi},processing:{variant:"default",icon:So},completed:{variant:"default",icon:ol},approved:{variant:"default",icon:ol}},j=b[y]||b.draft,k=j.icon;return l.jsxs(Yt,{variant:j.variant,className:"flex items-center gap-1",children:[l.jsx(k,{className:"w-3 h-3"}),y.charAt(0).toUpperCase()+y.slice(1)]})};return h?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(So,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),l.jsx("p",{children:"Loading payroll data..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Payroll Processing"}),l.jsx("p",{className:"text-muted-foreground",children:"Process payroll for staff members by period and department"})]}),l.jsxs(jt,{children:[l.jsxs(kr,{children:[l.jsxs(Ar,{className:"flex items-center gap-2",children:[l.jsx(fne,{className:"w-5 h-5"}),"New Payroll Run"]}),l.jsx(Sb,{children:"Select the period and department to process payroll"})]}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Or,{htmlFor:"period",children:"Payroll Period"}),l.jsx(Dt,{id:"period",type:"month",value:e,onChange:y=>t(y.target.value),placeholder:"Select period"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Or,{htmlFor:"department",children:"Department"}),l.jsxs(Er,{value:r,onValueChange:n,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select department"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Departments"}),s.map(y=>l.jsx(Ye,{value:y.id,children:y.name},y.id))]})]})]})]}),l.jsx(iG,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Wc,{className:"w-4 h-4"}),l.jsxs("span",{children:[r==="all"?a.length:a.filter(y=>y.department_id===r).length," staff members"]})]})}),l.jsx(Ue,{onClick:v,disabled:f||!e,className:"flex items-center gap-2",children:f?l.jsxs(l.Fragment,{children:[l.jsx(So,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wne,{className:"w-4 h-4"}),"Process Payroll"]})})]})]})]}),l.jsxs(jt,{children:[l.jsxs(kr,{children:[l.jsxs(Ar,{className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"w-5 h-5"}),"Recent Payroll Runs"]}),l.jsx(Sb,{children:"View and manage recent payroll processing runs"})]}),l.jsx(Nt,{children:c.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Pi,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No payroll runs found"})]}):l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Period"}),l.jsx(it,{children:"Department"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Staff Count"}),l.jsx(it,{children:"Gross Amount"}),l.jsx(it,{children:"Net Amount"}),l.jsx(it,{children:"Created"})]})}),l.jsx(fi,{children:c.map(y=>{var b;return l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:y.period}),l.jsx(at,{children:y.department_id?((b=s.find(j=>j.id===y.department_id))==null?void 0:b.name)||"Unknown":"All Departments"}),l.jsx(at,{children:x(y.status)}),l.jsx(at,{children:y.total_staff||0}),l.jsx(at,{children:y.gross_amount?An(y.gross_amount):"-"}),l.jsx(at,{children:y.net_amount?An(y.net_amount):"-"}),l.jsx(at,{children:new Date(y.created_at).toLocaleDateString()})]},y.id)})})]})})]})]})}function _je(){var D;const{user:e,hasRole:t}=as(),[r,n]=S.useState(null),[a,i]=S.useState(!1),[s,o]=S.useState(!1),[c,u]=S.useState(""),{toast:f}=zr(),d=Cn();Q1({enableNotifications:!0,enablePayrollUpdates:!0});const{data:h,isLoading:p}=Tr({queryKey:["payroll-workflow"],queryFn:async()=>{let M=De.from("payroll_runs").select(`
          *,
          departments (
            name,
            code
          ),
          created_by_user:users!payroll_runs_created_by_fkey (
            email
          ),
          approved_by_user:users!payroll_runs_approved_by_fkey (
            email
          )
        `).order("created_at",{ascending:!1});t(["account_admin"])?M=M.in("status",["pending_review","approved","processed"]):t(["payroll_admin"])&&(M=M.in("status",["draft","pending_review","approved","processed"]));const{data:C,error:P}=await M;if(P)throw P;return C||[]},enabled:!!e}),g=Jr({mutationFn:async({runId:M,action:C})=>{console.log("approvePayrollMutation started:",{runId:M,action:C,isPending:!0});const P={status:r==null?void 0:r.status,approved_by:r==null?void 0:r.approved_by},R={approved_by:e==null?void 0:e.id};C==="approve"?R.status="approved":R.status="draft";const{error:U}=await De.from("payroll_runs").update(R).eq("id",M);if(U)throw U;await sA(C==="approve"?"approved":"rejected",M,P,R),r!=null&&r.created_by&&await De.from("notifications").insert({user_id:r.created_by,title:`Payroll ${C==="approve"?"Approved":"Rejected"}`,message:`Your payroll run for ${r.period} has been ${C}d. ${c?`Comments: ${c}`:""}`,type:C==="approve"?"success":"warning"})},onSuccess:(M,{action:C})=>{console.log("approvePayrollMutation success:",{action:C}),f({title:"Success",description:`Payroll run ${C}d successfully`}),d.invalidateQueries({queryKey:["payroll-workflow"]}),d.invalidateQueries({queryKey:["dashboard-stats"]}),i(!1),u(""),n(null)},onError:M=>{console.log("approvePayrollMutation error:",M),f({title:"Error",description:M.message||"Failed to update payroll run",variant:"destructive"})}}),m=Jr({mutationFn:async M=>{console.log("finalizePayrollMutation started:",{runId:M,isPending:!0});const C={status:r==null?void 0:r.status,processed_at:r==null?void 0:r.processed_at},P={status:"processed",processed_at:new Date().toISOString()},{error:R}=await De.from("payroll_runs").update(P).eq("id",M);if(R)throw R;await sA("processed",M,C,P);const{data:U}=await De.from("users").select("id").in("role",["super_admin","account_admin","payroll_admin"]);if(U!=null&&U.length){const ee=U.map(J=>({user_id:J.id,title:"Payroll Processed",message:`Payroll for ${r==null?void 0:r.period} has been finalized and processed.`,type:"success"}));await De.from("notifications").insert(ee)}},onSuccess:()=>{console.log("finalizePayrollMutation success"),f({title:"Success",description:"Payroll run finalized successfully"}),d.invalidateQueries({queryKey:["payroll-workflow"]}),d.invalidateQueries({queryKey:["dashboard-stats"]}),n(null)},onError:M=>{console.log("finalizePayrollMutation error:",M),f({title:"Error",description:M.message||"Failed to finalize payroll run",variant:"destructive"})}}),v=M=>{switch(M){case"draft":return l.jsx(So,{className:"h-4 w-4 text-gray-500"});case"pending_review":return l.jsx(f0,{className:"h-4 w-4 text-orange-500"});case"approved":return l.jsx(ol,{className:"h-4 w-4 text-blue-500"});case"processed":return l.jsx(ol,{className:"h-4 w-4 text-green-500"});default:return l.jsx(So,{className:"h-4 w-4 text-gray-500"})}},x=M=>{switch(M){case"draft":return"bg-gray-100 text-gray-800";case"pending_review":return"bg-orange-100 text-orange-800";case"approved":return"bg-blue-100 text-blue-800";case"processed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=M=>An(M),b=M=>{const[C,P]=M.split("-");return new Date(parseInt(C),parseInt(P)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},j=M=>(console.log("canApprove check:",{userRole:e==null?void 0:e.role,runStatus:M.status,hasRole:t(["account_admin","super_admin"]),result:t(["account_admin","super_admin"])&&M.status==="pending_review"}),t(["account_admin","super_admin"])&&M.status==="pending_review"),k=M=>(console.log("canFinalize check:",{userRole:e==null?void 0:e.role,runStatus:M.status,hasRole:t(["super_admin"]),result:t(["super_admin"])&&M.status==="approved"}),t(["super_admin"])&&M.status==="approved"),[O,N]=Ft.useState({});Ft.useEffect(()=>{h!=null&&h.length&&(async()=>{const C={};for(const P of h)C[P.id]=await yje(P.id);N(C)})()},[h]);const E=M=>O[M.id]||!1;return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Payroll Workflow"}),l.jsx("p",{className:"text-gray-600",children:"Review and approve payroll runs"})]})}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Payroll Runs"})}),l.jsx(Nt,{children:p?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,C)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},C))}):h&&h.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Period"}),l.jsx(it,{children:"Department"}),l.jsx(it,{children:"Staff Count"}),l.jsx(it,{children:"Net Amount"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Created By"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:h.map(M=>{var C,P;return l.jsxs(Br,{children:[l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"font-medium",children:b(M.period)})]})}),l.jsx(at,{children:((C=M.departments)==null?void 0:C.name)||"All Departments"}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:M.total_staff||0})]})}),l.jsx(at,{className:"font-medium text-right min-w-fit whitespace-nowrap",children:y(M.net_amount||0)}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[v(M.status),l.jsx(Yt,{className:x(M.status),children:M.status.replace("_"," ").toUpperCase()})]})}),l.jsx(at,{className:"text-sm text-gray-600",children:((P=M.created_by_user)==null?void 0:P.email)||"System"}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{n(M),o(!0)},children:l.jsx(qc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"View payroll run details"})})]}),j(M)&&l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{n(M),i(!0)},disabled:E(M),className:"text-blue-600 hover:text-blue-700",children:l.jsx(Xc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:E(M)?"Payroll is locked and cannot be modified":"Review and approve payroll"})})]}),k(M)&&l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{n(M),m.mutate(M.id)},disabled:E(M),className:"text-green-600 hover:text-green-700",children:l.jsx(ol,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:E(M)?"Payroll is already finalized and locked":"Finalize and process payroll"})})]})]})})]},M.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Pi,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No payroll runs found"})]})})]}),l.jsx(Bn,{open:a,onOpenChange:i,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Review Payroll Run"})}),r&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Period"}),l.jsx("p",{className:"font-medium",children:b(r.period)})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Department"}),l.jsx("p",{className:"font-medium",children:((D=r.departments)==null?void 0:D.name)||"All Departments"})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Total Staff"}),l.jsx("p",{className:"font-medium",children:r.total_staff||0})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Net Amount"}),l.jsx("p",{className:"font-medium",children:y(r.net_amount||0)})]})]}),l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"comments",children:"Comments (Optional)"}),l.jsx(mc,{id:"comments",value:c,onChange:M=>u(M.target.value),placeholder:"Add any comments about this payroll run...",className:"mt-1"})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx(Ue,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),l.jsxs(Ue,{variant:"outline",onClick:()=>g.mutate({runId:r.id,action:"reject"}),disabled:g.isPending||E(r)||m.isPending,className:"text-red-600 hover:text-red-700",children:[l.jsx(Ju,{className:"mr-2 h-4 w-4"}),"Reject"]}),l.jsxs(Ue,{onClick:()=>g.mutate({runId:r.id,action:"approve"}),disabled:g.isPending||E(r)||m.isPending,className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(Xc,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})]})}),r&&l.jsx(xH,{open:s,onClose:()=>{o(!1),n(null)},payrollRun:r})]})}function Sje(){as();const[e,t]=S.useState(new Date().toISOString().slice(0,7)),[r,n]=S.useState(!1),[a,i]=S.useState(!1),{toast:s}=zr(),o=Cn(),{data:c,isLoading:u}=Tr({queryKey:["pending-allowances",e],queryFn:async()=>{if(!e)return[];const{data:b,error:j}=await De.from("staff_individual_allowances").select(`
          *,
          staff (
            staff_id,
            first_name,
            last_name
          )
        `).eq("period",e).eq("status","pending");if(j)throw j;return b||[]},enabled:!!e}),{data:f,isLoading:d}=Tr({queryKey:["active-deductions",e],queryFn:()=>wSe(e),enabled:!!e}),{data:h}=Tr({queryKey:["individual-periods"],queryFn:async()=>{const{data:b}=await De.from("staff_individual_allowances").select("period").order("period",{ascending:!1}),{data:j}=await De.from("staff_individual_deductions").select("period").order("period",{ascending:!1}),k=[...(b==null?void 0:b.map(O=>O.period))||[],...(j==null?void 0:j.map(O=>O.period))||[]].filter(Boolean);return Array.from(new Set(k)).sort().reverse()}}),p=Jr({mutationFn:async b=>{await uL(b,"applied")},onSuccess:()=>{s({title:"Success",description:"Allowance approved successfully"}),o.invalidateQueries({queryKey:["pending-allowances"]})},onError:b=>{s({title:"Error",description:b.message||"Failed to approve allowance",variant:"destructive"})}}),g=Jr({mutationFn:async b=>{await uL(b,"cancelled")},onSuccess:()=>{s({title:"Success",description:"Allowance rejected successfully"}),o.invalidateQueries({queryKey:["pending-allowances"]})},onError:b=>{s({title:"Error",description:b.message||"Failed to reject allowance",variant:"destructive"})}}),m=b=>{if(!b)return"Invalid Period";const[j,k]=b.split("-");return new Date(parseInt(j),parseInt(k)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},v=b=>!b.totalAmount||b.totalAmount===0?0:(b.totalAmount-(b.remainingBalance||0))/b.totalAmount*100,x=(c==null?void 0:c.reduce((b,j)=>b+j.amount,0))||0,y=(f==null?void 0:f.reduce((b,j)=>b+j.amount,0))||0;return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Individual Payroll Adjustments"}),l.jsx("p",{className:"text-gray-600",children:"Manage individual allowances and deductions for staff members"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[l.jsxs(Ue,{onClick:()=>n(!0),variant:"outline",className:"w-full sm:w-auto text-green-600 hover:text-green-700 hover:bg-green-50",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Allowance"]}),l.jsxs(Ue,{onClick:()=>i(!0),variant:"outline",className:"w-full sm:w-auto text-red-600 hover:text-red-700 hover:bg-red-50",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Deduction"]})]})]})}),l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Or,{className:"text-sm font-medium text-gray-700",children:"Select Period:"}),l.jsxs(Er,{value:e,onValueChange:t,children:[l.jsx(br,{className:"w-48",children:l.jsx(Cr,{})}),l.jsxs(_r,{children:[l.jsxs(Ye,{value:new Date().toISOString().slice(0,7),children:["Current Month (",m(new Date().toISOString().slice(0,7)),")"]}),h==null?void 0:h.map(b=>l.jsx(Ye,{value:b,children:m(b)},b))]})]})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Allowances"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.length)||0})]}),l.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-green-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Deductions"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:(f==null?void 0:f.length)||0})]}),l.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx(Vl,{className:"text-red-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allowances"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:An(x)})]}),l.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(nx,{className:"text-green-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Deductions"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:An(y)})]}),l.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx(nx,{className:"text-red-600",size:20})})]})})})]}),l.jsxs(fy,{defaultValue:"allowances",className:"space-y-6",children:[l.jsxs(jg,{className:"grid w-full grid-cols-2",children:[l.jsxs(ki,{value:"allowances",className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-4 w-4"}),l.jsx("span",{children:"Individual Allowances"}),c&&c.length>0&&l.jsx(Yt,{variant:"secondary",children:c.length})]}),l.jsxs(ki,{value:"deductions",className:"flex items-center space-x-2",children:[l.jsx(Vl,{className:"h-4 w-4"}),l.jsx("span",{children:"Individual Deductions"}),f&&f.length>0&&l.jsx(Yt,{variant:"secondary",children:f.length})]})]}),l.jsx(Ai,{value:"allowances",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{children:"Pending Individual Allowances"}),l.jsx(Yt,{variant:"outline",children:m(e)})]})}),l.jsx(Nt,{children:u?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,j)=>l.jsxs("div",{className:"animate-pulse flex space-x-4 p-4 border rounded-lg",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},j))}):c&&c.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Staff Member"}),l.jsx(it,{children:"Type"}),l.jsx(it,{children:"Amount"}),l.jsx(it,{children:"Description"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:c.map(b=>{var j,k,O;return l.jsxs(Br,{children:[l.jsxs(at,{children:[l.jsxs("div",{className:"font-medium",children:[(j=b.staff)==null?void 0:j.first_name," ",(k=b.staff)==null?void 0:k.last_name]}),l.jsx("div",{className:"text-sm text-gray-500",children:(O=b.staff)==null?void 0:O.staff_id})]}),l.jsx(at,{children:l.jsx(Yt,{variant:"outline",className:"capitalize",children:b.type.replace("_"," ")})}),l.jsxs(at,{className:"font-bold text-green-600",children:["+",An(b.amount)]}),l.jsx(at,{className:"max-w-xs truncate",children:b.description||"No description"}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,className:"text-green-600 hover:text-green-700",children:l.jsx(Xc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Approve allowance"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>g.mutate(b.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700",children:l.jsx(Ju,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Reject allowance"})})]})]})})]},b.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Wa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsxs("p",{children:["No pending allowances for ",m(e)]}),l.jsx("p",{className:"text-sm",children:"Individual allowances will appear here for review"})]})})]})}),l.jsx(Ai,{value:"deductions",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Vl,{className:"h-5 w-5 text-red-600"}),l.jsx("span",{children:"Active Individual Deductions"}),l.jsx(Yt,{variant:"outline",children:m(e)})]})}),l.jsx(Nt,{children:d?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,j)=>l.jsxs("div",{className:"animate-pulse flex space-x-4 p-4 border rounded-lg",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},j))}):f&&f.length>0?l.jsx("div",{className:"space-y-4",children:f.map(b=>{var j,k,O;return l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(Vl,{className:"h-4 w-4 text-red-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[(j=b.staff)==null?void 0:j.first_name," ",(k=b.staff)==null?void 0:k.last_name]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[(O=b.staff)==null?void 0:O.staff_id," • ",b.type.replace("_"," ")]}),b.description&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:b.description})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-red-600",children:["-",An(b.amount)]}),b.totalAmount&&l.jsxs("p",{className:"text-xs text-gray-500",children:["of ",An(b.totalAmount)]})]})]}),b.totalAmount&&b.totalAmount>0&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[l.jsx("span",{children:"Loan Progress"}),l.jsxs("span",{children:[v(b).toFixed(1),"% paid"]})]}),l.jsx(rS,{value:v(b),className:"h-2"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Remaining: ",An(b.remainingBalance||0)]})]})]},b.id)})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vl,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsxs("p",{children:["No active deductions for ",m(e)]}),l.jsx("p",{className:"text-sm",children:"Individual deductions will appear here when active"})]})})]})})]}),l.jsx(DT,{open:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),s({title:"Success",description:"Individual allowance added successfully"})}}),l.jsx(LT,{open:a,onClose:()=>i(!1),onSuccess:()=>{i(!1),s({title:"Success",description:"Individual deduction added successfully"})}})]})}function jje(){var y,b,j,k,O;const{user:e,hasRole:t}=as(),[r,n]=S.useState(""),[a,i]=S.useState("all"),[s,o]=S.useState(null),[c,u]=S.useState(!1),{toast:f}=zr(),{data:d,isLoading:h}=Tr({queryKey:["payslips",e==null?void 0:e.id,r,a],queryFn:async()=>{var M;let N=De.from("payslips").select(`
          *,
          staff (
            staff_id,
            first_name,
            last_name,
            email,
            departments!staff_department_id_fkey (
              name
            )
          )
        `).order("created_at",{ascending:!1});(e==null?void 0:e.role)==="staff"&&((M=e==null?void 0:e.staff_profile)!=null&&M.id)&&(N=N.eq("staff_id",e.staff_profile.id)),a!=="all"&&(N=N.eq("period",a)),r&&t(["super_admin","account_admin","payroll_admin"])&&(N=N.or(`staff.first_name.ilike.%${r}%,staff.last_name.ilike.%${r}%,staff.staff_id.ilike.%${r}%`));const{data:E,error:D}=await N;if(D)throw D;return E||[]},enabled:!!e}),{data:p}=Tr({queryKey:["payslip-periods"],queryFn:async()=>{const{data:N,error:E}=await De.from("payslips").select("period").order("period",{ascending:!1});if(E)throw E;return Array.from(new Set((N==null?void 0:N.map(M=>M.period))||[]))}}),g=N=>An(N),m=N=>{const[E,D]=N.split("-");return new Date(parseInt(E),parseInt(D)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},v=async N=>{try{const{data:E,error:D}=await De.from("staff").select(`
          *,
          departments!staff_department_id_fkey (
            name,
            code
          )
        `).eq("id",N.staff_id).single();if(D)throw D;await gH(N,E),f({title:"Success",description:"Payslip downloaded successfully"})}catch(E){console.error("Error downloading payslip:",E),f({title:"Error",description:"Failed to download payslip",variant:"destructive"})}},x=N=>{o(N),u(!0)};return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Payslips"}),l.jsx("p",{className:"text-gray-600",children:(e==null?void 0:e.role)==="staff"?"View and download your payslips":"Manage staff payslips and generate reports"})]}),t(["super_admin","account_admin","payroll_admin"])&&l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:[l.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Generate Payslips"]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Generate payslips for current period"})})]})})]})}),t(["super_admin","account_admin","payroll_admin"])&&l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(pb,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(Dt,{placeholder:"Search by staff name or ID...",value:r,onChange:N=>n(N.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(Er,{value:a,onValueChange:i,children:[l.jsx(br,{className:"w-48",children:l.jsx(Cr,{placeholder:"Filter by period"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Periods"}),p==null?void 0:p.map(N=>l.jsx(Ye,{value:N,children:m(N)},N))]})]})})]})})}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:(e==null?void 0:e.role)==="staff"?"My Payslips":"Staff Payslips"})}),l.jsx(Nt,{children:h?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((N,E)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},E))}):d&&d.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[t(["super_admin","account_admin","payroll_admin"])&&l.jsxs(l.Fragment,{children:[l.jsx(it,{children:"Staff ID"}),l.jsx(it,{children:"Staff Name"}),l.jsx(it,{children:"Department"})]}),l.jsx(it,{children:"Period"}),l.jsx(it,{children:"Gross Pay"}),l.jsx(it,{children:"Deductions"}),l.jsx(it,{children:"Net Pay"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:d.map(N=>{var E,D,M,C,P,R;return l.jsxs(Br,{children:[t(["super_admin","account_admin","payroll_admin"])&&l.jsxs(l.Fragment,{children:[l.jsx(at,{className:"font-medium",children:(E=N.staff)==null?void 0:E.staff_id}),l.jsx(at,{children:l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[(D=N.staff)==null?void 0:D.first_name," ",(M=N.staff)==null?void 0:M.last_name]}),l.jsx("div",{className:"text-sm text-gray-500",children:(C=N.staff)==null?void 0:C.email})]})}),l.jsx(at,{children:((R=(P=N.staff)==null?void 0:P.departments)==null?void 0:R.name)||"Unassigned"})]}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:m(N.period)})]})}),l.jsx(at,{className:"font-medium text-right min-w-fit whitespace-nowrap",children:g(N.gross_pay||0)}),l.jsxs(at,{className:"text-red-600 text-right min-w-fit whitespace-nowrap",children:["-",g(N.total_deductions||0)]}),l.jsx(at,{className:"font-bold text-green-600 text-right min-w-fit whitespace-nowrap",children:g(N.net_pay||0)}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>x(N),children:l.jsx(qc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"View payslip details"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>v(N),className:"text-nigeria-green hover:text-green-700",children:l.jsx(kd,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Download payslip as PDF"})})]})]})})]},N.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Pi,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No payslips found"}),l.jsx("p",{className:"text-sm",children:(e==null?void 0:e.role)==="staff"?"Your payslips will appear here once generated":"Generate payslips to see them here"})]})})]}),s&&l.jsx(Bn,{open:c,onOpenChange:u,children:l.jsxs(Un,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx($n,{children:l.jsx(zn,{children:"Payslip Details"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Period"}),l.jsx("p",{className:"font-medium",children:m(s.period)})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Staff"}),l.jsxs("p",{className:"font-medium",children:[(y=s.staff)==null?void 0:y.first_name," ",(b=s.staff)==null?void 0:b.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:(j=s.staff)==null?void 0:j.email})]}),t(["super_admin","account_admin","payroll_admin"])&&l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Department"}),l.jsx("p",{className:"font-medium",children:((O=(k=s.staff)==null?void 0:k.departments)==null?void 0:O.name)||"Unassigned"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Basic Salary"}),l.jsx("p",{className:"font-medium",children:fo(s.basic_salary||0)})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Total Allowances"}),l.jsxs("p",{className:"font-medium text-green-600",children:["+",fo(parseFloat(s.gross_pay||"0")-parseFloat(s.basic_salary||"0"))]})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Gross Pay"}),l.jsx("p",{className:"font-medium",children:fo(s.gross_pay||0)})]})]}),s.allowances&&l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-700 font-medium",children:"Allowances Breakdown"}),l.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:Object.entries(typeof s.allowances=="string"?JSON.parse(s.allowances):s.allowances).map(([N,E])=>E&&Number(E)>0&&l.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[l.jsx("span",{className:"capitalize",children:N.replace("_"," ")}),l.jsxs("span",{className:"font-medium",children:["+",fo(Number(E))]})]},N))})]}),s.deductions&&l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-700 font-medium",children:"Deductions Breakdown"}),l.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:Object.entries(typeof s.deductions=="string"?JSON.parse(s.deductions):s.deductions).map(([N,E])=>E&&Number(E)>0&&l.jsxs("div",{className:"flex justify-between p-2 bg-red-50 rounded",children:[l.jsx("span",{className:"capitalize",children:N.replace("_"," ")}),l.jsxs("span",{className:"font-medium text-red-600",children:["-",fo(Number(E))]})]},N))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg border-t-2 border-nigeria-green",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Total Deductions"}),l.jsxs("p",{className:"font-medium text-red-600",children:["-",fo(s.total_deductions||0)]})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Net Pay"}),l.jsx("p",{className:"text-xl font-bold text-green-600",children:fo(s.net_pay||0)})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(Ue,{variant:"outline",onClick:()=>u(!1),children:"Close"}),l.jsxs(Ue,{onClick:()=>{v(s),u(!1)},className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(kd,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]})]})})]})}function Nje(){const[e,t]=S.useState(""),[r,n]=S.useState("all"),{toast:a}=zr(),{data:i}=Tr({queryKey:["payroll-runs"],queryFn:async()=>{const{data:m,error:v}=await De.from("payroll_runs").select("id, period, status").eq("status","processed").order("period",{ascending:!1});if(v)throw v;return m||[]}}),{data:s,isLoading:o}=Tr({queryKey:["bank-transfers",e,r],queryFn:async()=>{if(!e)return[];let m=De.from("payslips").select(`
          *,
          staff!inner (
            staff_id,
            first_name,
            last_name,
            bank_name,
            account_number,
            account_name,
            departments!staff_department_id_fkey (
              name,
              code
            )
          )
        `).eq("period",e).not("staff.bank_name","is",null).not("staff.account_number","is",null);r!=="all"&&(m=m.eq("staff.bank_name",r));const{data:v,error:x}=await m.order("staff(bank_name)",{ascending:!0});if(x)throw console.error("Supabase request failed",x),x;return v||[]},enabled:!!e}),c=Ft.useMemo(()=>s?Array.from(new Set(s.map(v=>{var x;return(x=v.staff)==null?void 0:x.bank_name}).filter(Boolean))).sort():[],[s]),u=Ft.useMemo(()=>{if(!s)return{totalAmount:0,totalStaff:0};const m=s.reduce((x,y)=>x+parseFloat(y.net_pay||"0"),0),v=s.length;return{totalAmount:m,totalStaff:v}},[s]),f=m=>{const v=typeof m=="string"?parseFloat(m):m;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(v)},d=m=>{const[v,x]=m.split("-");return new Date(parseInt(v),parseInt(x)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},h=m=>({access:"044",gtb:"058",firstbank:"011",zenith:"057",uba:"033",fidelity:"070",union:"032"})[m.toLowerCase()]||"000",p=async()=>{if(!(s!=null&&s.length)){a({title:"Error",description:"No data to export",variant:"destructive"});return}try{const m=s.map(v=>{var x,y,b,j,k,O,N,E,D;return{staffId:((x=v.staff)==null?void 0:x.staff_id)||"",staffName:`${((y=v.staff)==null?void 0:y.first_name)||""} ${((b=v.staff)==null?void 0:b.last_name)||""}`.trim(),accountNumber:((j=v.staff)==null?void 0:j.account_number)||"",accountName:((k=v.staff)==null?void 0:k.account_name)||"",bankName:((O=v.staff)==null?void 0:O.bank_name)||"",bankCode:h(((N=v.staff)==null?void 0:N.bank_name)||""),amount:parseFloat(v.net_pay||"0"),department:((D=(E=v.staff)==null?void 0:E.departments)==null?void 0:D.name)||"",period:v.period}});await x_e(m,`bank_transfers_${e}.csv`),a({title:"Success",description:"Bank transfer CSV exported successfully"})}catch{a({title:"Error",description:"Failed to export CSV file",variant:"destructive"})}},g=async()=>{if(!(s!=null&&s.length)){a({title:"Error",description:"No data to export",variant:"destructive"});return}try{const m=s.map(v=>{var x,y,b,j,k,O,N,E,D;return{"Staff ID":((x=v.staff)==null?void 0:x.staff_id)||"","Staff Name":`${((y=v.staff)==null?void 0:y.first_name)||""} ${((b=v.staff)==null?void 0:b.last_name)||""}`.trim(),"Account Number":((j=v.staff)==null?void 0:j.account_number)||"","Account Name":((k=v.staff)==null?void 0:k.account_name)||"","Bank Name":((O=v.staff)==null?void 0:O.bank_name)||"","Bank Code":h(((N=v.staff)==null?void 0:N.bank_name)||""),"Amount (NGN)":parseFloat(v.net_pay||"0"),Department:((D=(E=v.staff)==null?void 0:E.departments)==null?void 0:D.name)||"",Period:d(v.period)}});await y_e(m,`bank_transfers_${e}.xlsx`),a({title:"Success",description:"Bank transfer Excel file exported successfully"})}catch{a({title:"Error",description:"Failed to export Excel file",variant:"destructive"})}};return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Bank Reports"}),l.jsx("p",{className:"text-gray-600",children:"Generate bank transfer schedules and reconciliation reports"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[l.jsxs(Ue,{variant:"outline",className:"w-full sm:w-auto",onClick:p,disabled:!(s!=null&&s.length),children:[l.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),l.jsxs(Ue,{onClick:g,disabled:!(s!=null&&s.length),className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:[l.jsx(lB,{className:"mr-2 h-4 w-4"}),"Export Excel"]})]})]})}),l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pay Period"}),l.jsxs(Er,{value:e,onValueChange:t,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select pay period"})}),l.jsx(_r,{children:i==null?void 0:i.map(m=>l.jsx(Ye,{value:m.period,children:d(m.period)},m.id))})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Filter"}),l.jsxs(Er,{value:r,onValueChange:n,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"All banks"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Banks"}),c.map(m=>l.jsx(Ye,{value:m,children:m.toUpperCase()},m))]})]})]})]})})}),e&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f(u.totalAmount)})]}),l.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:24})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Recipients"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.totalStaff.toLocaleString()})]}),l.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(O2,{className:"text-blue-600",size:24})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Banks Involved"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.length})]}),l.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(O2,{className:"text-purple-600",size:24})})]})})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-5 w-5"}),l.jsx("span",{children:"Bank Transfer Schedule"}),e&&l.jsx(Yt,{variant:"outline",children:d(e)})]})}),l.jsx(Nt,{children:e?o?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,v)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},v))}):s&&s.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Staff ID"}),l.jsx(it,{children:"Staff Name"}),l.jsx(it,{children:"Bank"}),l.jsx(it,{children:"Account Number"}),l.jsx(it,{children:"Account Name"}),l.jsx(it,{children:"Department"}),l.jsx(it,{className:"text-right",children:"Amount"})]})}),l.jsx(fi,{children:s.map(m=>{var v,x,y,b,j,k,O,N,E,D;return l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:(v=m.staff)==null?void 0:v.staff_id}),l.jsxs(at,{children:[(x=m.staff)==null?void 0:x.first_name," ",(y=m.staff)==null?void 0:y.last_name]}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(O2,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:(j=(b=m.staff)==null?void 0:b.bank_name)==null?void 0:j.toUpperCase()}),l.jsx(Yt,{variant:"outline",className:"text-xs",children:h(((k=m.staff)==null?void 0:k.bank_name)||"")})]})}),l.jsx(at,{className:"font-mono",children:(O=m.staff)==null?void 0:O.account_number}),l.jsx(at,{children:(N=m.staff)==null?void 0:N.account_name}),l.jsx(at,{children:(D=(E=m.staff)==null?void 0:E.departments)==null?void 0:D.name}),l.jsx(at,{className:"text-right font-bold text-green-600 min-w-fit whitespace-nowrap",children:f(m.net_pay||0)})]},m.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(O2,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No bank transfer data found"}),l.jsx("p",{className:"text-sm",children:"Ensure staff have complete banking information"})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Va,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"Select a pay period to view bank transfers"})]})})]})]})}function kje(){const{user:e}=as(),{toast:t}=zr(),r=Cn(),[n,a]=S.useState("all"),{data:i,isLoading:s}=Tr({queryKey:["notifications",e==null?void 0:e.id,n],queryFn:async()=>{let g=De.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});n!=="all"&&(n==="unread"?g=g.eq("is_read",!1):g=g.eq("type",n));const{data:m,error:v}=await g;if(v)throw v;return m||[]},enabled:!!e,refetchOnWindowFocus:!1});Ft.useEffect(()=>{if(!(e!=null&&e.id))return;const g=De.channel("notifications-page").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},m=>{r.invalidateQueries({queryKey:["notifications",e.id,n]}),m.eventType}).subscribe();return()=>{De.removeChannel(g)}},[e==null?void 0:e.id,n,r]);const o=Jr({mutationFn:async g=>{const{error:m}=await De.from("notifications").update({is_read:!0}).eq("id",g);if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),c=Jr({mutationFn:async()=>{const{error:g}=await De.from("notifications").update({is_read:!0}).eq("user_id",e==null?void 0:e.id).eq("is_read",!1);if(g)throw g},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]}),t({title:"Success",description:"All notifications marked as read"})}}),u=Jr({mutationFn:async g=>{const{error:m}=await De.from("notifications").delete().eq("id",g);if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),f=g=>{switch(g){case"success":return l.jsx(ol,{className:"h-5 w-5 text-green-600"});case"warning":return l.jsx(bne,{className:"h-5 w-5 text-orange-600"});case"error":return l.jsx(pne,{className:"h-5 w-5 text-red-600"});default:return l.jsx(vne,{className:"h-5 w-5 text-blue-600"})}},d=g=>{switch(g){case"success":return"bg-green-100";case"warning":return"bg-orange-100";case"error":return"bg-red-100";default:return"bg-blue-100"}},h=(i==null?void 0:i.filter(g=>!g.is_read).length)||0,p=g=>{const m=new Date(g),v=new Date,x=Math.floor((v.getTime()-m.getTime())/(1e3*60*60));return x<1?`${Math.floor((v.getTime()-m.getTime())/6e4)} minutes ago`:x<24?`${x} hours ago`:`${Math.floor(x/24)} days ago`};return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Notifications"}),l.jsx("p",{className:"text-gray-600",children:"Stay updated with system alerts and announcements"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[l.jsxs(Yt,{variant:h>0?"destructive":"secondary",children:[h," unread"]}),l.jsxs(Ue,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>c.mutate(),disabled:h===0||c.isPending,children:[l.jsx(Xc,{className:"mr-2 h-4 w-4"}),"Mark All Read"]})]})]})}),l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by:"}),l.jsxs(Er,{value:n,onValueChange:a,children:[l.jsx(br,{className:"w-48",children:l.jsx(Cr,{})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Notifications"}),l.jsx(Ye,{value:"unread",children:"Unread Only"}),l.jsx(Ye,{value:"info",children:"Information"}),l.jsx(Ye,{value:"success",children:"Success"}),l.jsx(Ye,{value:"warning",children:"Warnings"}),l.jsx(Ye,{value:"error",children:"Errors"})]})]})]})})}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Bk,{className:"h-5 w-5"}),l.jsx("span",{children:"Your Notifications"})]})}),l.jsx(Nt,{children:s?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((g,m)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},m))}):i&&i.length>0?l.jsx("div",{className:"space-y-4",children:i.map(g=>l.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-lg border transition-colors ${g.is_read?"bg-gray-50":"bg-white border-blue-200"}`,children:[l.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center ${d(g.type)}`,children:f(g.type)}),l.jsx("div",{className:"flex-1 min-w-0 space-y-3",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between space-y-3 sm:space-y-0",children:[l.jsxs("div",{className:"flex-1 w-full",children:[l.jsx("h3",{className:`text-sm font-medium ${g.is_read?"text-gray-700":"text-gray-900"}`,children:g.title}),l.jsx("p",{className:`mt-1 text-sm ${g.is_read?"text-gray-500":"text-gray-600"}`,children:g.message}),l.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[l.jsx(So,{className:"h-3 w-3 text-gray-400"}),l.jsx("span",{className:"text-xs text-gray-500",children:p(g.created_at)}),!g.is_read&&l.jsx(Yt,{variant:"secondary",className:"text-xs",children:"New"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto sm:ml-4",children:[!g.is_read&&l.jsxs(Ue,{variant:"ghost",className:"w-full sm:w-auto",size:"sm",onClick:()=>o.mutate(g.id),disabled:o.isPending,children:[l.jsx(Xc,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2 sm:hidden",children:"Mark as Read"})]}),l.jsxs(Ue,{variant:"ghost",className:"w-full sm:w-auto text-red-600 hover:text-red-700",size:"sm",onClick:()=>u.mutate(g.id),disabled:u.isPending,children:[l.jsx(gb,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2 sm:hidden",children:"Delete"})]})]})]})})]},g.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Bk,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No notifications found"}),l.jsx("p",{className:"text-sm",children:n==="unread"?"All caught up! No unread notifications.":"Notifications will appear here when available."})]})})]})]})}var IT="Switch",[Aje,TLe]=ks(IT),[Eje,Cje]=Aje(IT),sG=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=S.useState(null),g=$r(t,b=>p(b)),m=S.useRef(!1),v=h?f||!!h.closest("form"):!0,[x=!1,y]=Yc({prop:a,defaultProp:i,onChange:u});return l.jsxs(Eje,{scope:r,checked:x,disabled:o,children:[l.jsx(Kt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":cG(x),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:g,onClick:At(e.onClick,b=>{y(j=>!j),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&l.jsx(Tje,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});sG.displayName=IT;var oG="SwitchThumb",lG=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Cje(oG,r);return l.jsx(Kt.span,{"data-state":cG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lG.displayName=oG;var Tje=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=S.useRef(null),s=PC(r),o=Q3(t);return S.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[s,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cG(e){return e?"checked":"unchecked"}var uG=sG,Pje=lG;const ic=S.forwardRef(({className:e,...t},r)=>l.jsx(uG,{className:Et("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(Pje,{className:Et("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ic.displayName=uG.displayName;const Oje=Ve.object({name:Ve.string().min(1,"Name is required"),type:Ve.enum(["percentage","fixed"]),value:Ve.number().min(0,"Value must be positive"),isActive:Ve.boolean()});function Fje({open:e,onClose:t,allowance:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(Oje),defaultValues:{name:(r==null?void 0:r.name)||"",type:(r==null?void 0:r.type)||"percentage",value:(r==null?void 0:r.value)||0,isActive:(r==null?void 0:r.is_active)??!0}});Ft.useEffect(()=>{r&&s.reset({name:r.name||"",type:r.type||"percentage",value:parseFloat(r.value)||0,isActive:r.is_active??!0})},[r,s]);const o=Jr({mutationFn:async f=>{const d={name:r.name,type:r.type,value:r.value,is_active:r.is_active},{data:h,error:p}=await De.from("allowances").update({name:f.name,type:f.type,value:f.value.toString(),is_active:f.isActive}).eq("id",r.id).select().single();if(p)throw p;return await Tu("allowance_updated","allowances",r.id,d,f),h},onSuccess:()=>{a({title:"Success",description:"Allowance updated successfully"}),i.invalidateQueries({queryKey:["system-allowances"]}),n()},onError:f=>{a({title:"Error",description:f.message||"Failed to update allowance",variant:"destructive"})}}),c=f=>{o.mutate(f)},u=()=>{s.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:u,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit Allowance"})}),l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"name",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Allowance Name"}),l.jsx(ct,{children:l.jsx(Dt,{...f})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"type",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Type"}),l.jsxs(Er,{onValueChange:f.onChange,value:f.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"percentage",children:"Percentage"}),l.jsx(Ye,{value:"fixed",children:"Fixed Amount"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"value",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Value"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",...f,onChange:d=>f.onChange(parseFloat(d.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"isActive",render:({field:f})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active Status"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable or disable this allowance"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:f.value,onCheckedChange:f.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Allowance"})]})]})})]})})}const Dje=Ve.object({name:Ve.string().min(1,"Name is required"),type:Ve.enum(["percentage","fixed"]),value:Ve.number().min(0,"Value must be positive"),isActive:Ve.boolean()});function Lje({open:e,onClose:t,deduction:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(Dje),defaultValues:{name:(r==null?void 0:r.name)||"",type:(r==null?void 0:r.type)||"percentage",value:(r==null?void 0:r.value)||0,isActive:(r==null?void 0:r.is_active)??!0}});Ft.useEffect(()=>{r&&s.reset({name:r.name||"",type:r.type||"percentage",value:parseFloat(r.value)||0,isActive:r.is_active??!0})},[r,s]);const o=Jr({mutationFn:async f=>{const d={name:r.name,type:r.type,value:r.value,is_active:r.is_active},{data:h,error:p}=await De.from("deductions").update({name:f.name,type:f.type,value:f.value.toString(),is_active:f.isActive}).eq("id",r.id).select().single();if(p)throw p;return await Tu("deduction_updated","deductions",r.id,d,f),h},onSuccess:()=>{a({title:"Success",description:"Deduction updated successfully"}),i.invalidateQueries({queryKey:["system-deductions"]}),n()},onError:f=>{a({title:"Error",description:f.message||"Failed to update deduction",variant:"destructive"})}}),c=f=>{o.mutate(f)},u=()=>{s.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:u,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit Deduction"})}),l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"name",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Deduction Name"}),l.jsx(ct,{children:l.jsx(Dt,{...f})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"type",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Type"}),l.jsxs(Er,{onValueChange:f.onChange,value:f.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"percentage",children:"Percentage"}),l.jsx(Ye,{value:"fixed",children:"Fixed Amount"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"value",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Value"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",...f,onChange:d=>f.onChange(parseFloat(d.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"isActive",render:({field:f})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active Status"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable or disable this deduction"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:f.value,onCheckedChange:f.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Deduction"})]})]})})]})})}const Ije=Ve.object({email:Ve.string().email("Invalid email address"),role:Ve.enum(["super_admin","account_admin","payroll_admin","staff"])});function Rje({open:e,onClose:t,user:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(Ije),defaultValues:{email:(r==null?void 0:r.email)||"",role:(r==null?void 0:r.role)||"staff"}});Ft.useEffect(()=>{r&&s.reset({email:r.email||"",role:r.role||"staff"})},[r,s]);const o=Jr({mutationFn:async f=>{const d={email:r.email,role:r.role},{data:h,error:p}=await De.from("users").update({email:f.email,role:f.role,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(p)throw p;return await Tu("user_updated","users",r.id,d,f),f.role!==r.role&&await De.from("notifications").insert({user_id:r.id,title:"Role Updated",message:`Your role has been updated to ${f.role.replace("_"," ").toUpperCase()}.`,type:"info"}),h},onSuccess:()=>{a({title:"Success",description:"User updated successfully"}),i.invalidateQueries({queryKey:["system-users"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),n()},onError:f=>{a({title:"Error",description:f.message||"Failed to update user",variant:"destructive"})}}),c=f=>{o.mutate(f)},u=()=>{s.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:u,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit User"})}),l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"email",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Email"}),l.jsx(ct,{children:l.jsx(Dt,{type:"email",...f})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"role",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Role"}),l.jsxs(Er,{onValueChange:f.onChange,value:f.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"staff",children:"Staff"}),l.jsx(Ye,{value:"payroll_admin",children:"Payroll Admin"}),l.jsx(Ye,{value:"account_admin",children:"Account Admin"}),l.jsx(Ye,{value:"super_admin",children:"Super Admin"})]})]}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update User"})]})]})})]})})}const Mje=Ve.object({basicSalary:Ve.number().min(1,"Basic salary must be greater than 0")});function Bje(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),[a,i]=S.useState("all"),{toast:s}=zr(),o=Cn(),c=si({resolver:oi(Mje),defaultValues:{basicSalary:0}}),{data:u,isLoading:f}=Tr({queryKey:["salary-structure",a],queryFn:async()=>{let v=De.from("salary_structure").select("*").order("grade_level").order("step");a!=="all"&&(v=v.eq("grade_level",parseInt(a)));const{data:x,error:y}=await v;if(y)throw y;return x||[]}});Ft.useEffect(()=>{r&&c.reset({basicSalary:parseFloat(r.basic_salary)})},[r,c]);const d=Jr({mutationFn:async v=>{if(!r)throw new Error("No salary selected");const x={basic_salary:r.basic_salary},y={basic_salary:v.basicSalary.toString(),updated_at:new Date().toISOString()},{data:b,error:j}=await De.from("salary_structure").update(y).eq("id",r.id).select().single();if(j)throw j;return await Tu("salary_structure_updated","salary_structure",r.id,x,y),b},onSuccess:()=>{s({title:"Success",description:"Salary structure updated successfully"}),o.invalidateQueries({queryKey:["salary-structure"]}),t(!1),n(null)},onError:v=>{s({title:"Error",description:v.message||"Failed to update salary structure",variant:"destructive"})}}),h=v=>{d.mutate(v)},p=v=>{n(v),t(!0)},g=async()=>{if(!(u!=null&&u.length)){s({title:"Error",description:"No salary structure data to export",variant:"destructive"});return}try{const v=u.map(x=>({"Grade Level":x.grade_level,Step:x.step,"Basic Salary (NGN)":parseFloat(x.basic_salary)}));await w_e(v,"conjuss_salary_structure.xlsx"),s({title:"Success",description:"Salary structure exported successfully"})}catch{s({title:"Error",description:"Failed to export salary structure",variant:"destructive"})}},m=()=>{c.reset(),t(!1),n(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 w-full",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Ad,{className:"h-5 w-5"}),l.jsx("span",{children:"CONJUSS Salary Structure"})]}),l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs(Ue,{variant:"outline",className:"w-full sm:w-auto",onClick:g,disabled:!(u!=null&&u.length),children:[l.jsx(kd,{className:"mr-2 h-4 w-4"}),"Export Excel"]})})]})}),l.jsxs(Nt,{children:[l.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Grade Level:"}),l.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-nigeria-green focus:border-nigeria-green",children:[l.jsx("option",{value:"all",children:"All Grade Levels"}),[...Array(17)].map((v,x)=>l.jsxs("option",{value:(x+1).toString(),children:["Grade Level ",x+1]},x+1))]})]}),f?l.jsx("div",{className:"space-y-4",children:[...Array(10)].map((v,x)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded bg-gray-200 h-8 w-16"}),l.jsx("div",{className:"rounded bg-gray-200 h-8 w-16"}),l.jsx("div",{className:"rounded bg-gray-200 h-8 w-32"}),l.jsx("div",{className:"rounded bg-gray-200 h-8 w-16"})]},x))}):u&&u.length>0?l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Grade Level"}),l.jsx(it,{children:"Step"}),l.jsx(it,{children:"Basic Salary"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:u.map(v=>l.jsxs(Br,{children:[l.jsx(at,{children:l.jsxs(Yt,{variant:"outline",children:["GL ",v.grade_level]})}),l.jsx(at,{children:l.jsxs(Yt,{variant:"secondary",children:["Step ",v.step]})}),l.jsx(at,{className:"font-medium",children:An(v.basic_salary)}),l.jsx(at,{children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>p(v),children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit salary amount"})})]})})]},v.id))})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Ad,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No salary structure data found"}),l.jsx("p",{className:"text-sm",children:"Run the database schema to populate CONJUSS data"})]})]})]}),l.jsx(Bn,{open:e,onOpenChange:m,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsxs(zn,{children:["Edit Salary - GL ",r==null?void 0:r.grade_level," Step ",r==null?void 0:r.step]})}),l.jsx(li,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[l.jsx(ft,{control:c.control,name:"basicSalary",render:({field:v})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Basic Salary (NGN)"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",...v,onChange:x=>v.onChange(parseFloat(x.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Current CONJUSS Guidelines:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Grade Levels 1-17 represent different job classifications"}),l.jsx("li",{children:"• Steps 1-15 represent progression within each grade"}),l.jsx("li",{children:"• Salary increases should follow government guidelines"}),l.jsx("li",{children:"• Changes affect all staff at this grade/step combination"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:m,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:d.isPending,className:"bg-nigeria-green hover:bg-green-700",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Salary"})]})]})})]})})]})}const fG=Ve.object({name:Ve.string().min(1,"Name is required"),code:Ve.string().min(2,"Code must be at least 2 characters").max(10,"Code must be at most 10 characters"),description:Ve.string().optional(),isPaid:Ve.boolean(),maxDaysPerYear:Ve.number().min(0,"Must be 0 or greater").max(365,"Cannot exceed 365 days"),accrualRate:Ve.number().min(0,"Must be 0 or greater").max(30,"Cannot exceed 30 days per month"),requiresApproval:Ve.boolean(),isActive:Ve.boolean()});function Uje({open:e,onClose:t,leaveType:r,onSuccess:n}){const{toast:a}=zr(),i=Cn(),s=si({resolver:oi(fG),defaultValues:{name:(r==null?void 0:r.name)||"",code:(r==null?void 0:r.code)||"",description:(r==null?void 0:r.description)||"",isPaid:(r==null?void 0:r.isPaid)??!0,maxDaysPerYear:(r==null?void 0:r.maxDaysPerYear)||30,accrualRate:(r==null?void 0:r.accrualRate)||2.5,requiresApproval:(r==null?void 0:r.requiresApproval)??!0,isActive:(r==null?void 0:r.isActive)??!0}});Ft.useEffect(()=>{r&&s.reset({name:r.name||"",code:r.code||"",description:r.description||"",isPaid:r.isPaid??!0,maxDaysPerYear:r.maxDaysPerYear||30,accrualRate:r.accrualRate||2.5,requiresApproval:r.requiresApproval??!0,isActive:r.isActive??!0})},[r,s]);const o=Jr({mutationFn:async f=>{if(!(r!=null&&r.id))throw new Error("Leave type ID is missing");await Yue(r.id,f)},onSuccess:()=>{a({title:"Success",description:"Leave type updated successfully"}),i.invalidateQueries({queryKey:["leave-types"]}),n()},onError:f=>{a({title:"Error",description:f.message||"Failed to update leave type",variant:"destructive"})}}),c=f=>{o.mutate(f)},u=()=>{s.reset(),t()};return l.jsx(Bn,{open:e,onOpenChange:t,children:l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsx(zn,{children:"Edit Leave Type"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",children:[l.jsx(ft,{control:s.control,name:"name",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Leave Type Name"}),l.jsx(ct,{children:l.jsx(Dt,{...f,placeholder:"e.g., Annual Leave"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"code",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Code"}),l.jsx(ct,{children:l.jsx(Dt,{...f,placeholder:"e.g., ANNUAL"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"description",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{...f,placeholder:"Description of this leave type",rows:3})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ft,{control:s.control,name:"maxDaysPerYear",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Max Days/Year"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",...f,onChange:d=>f.onChange(parseInt(d.target.value,10)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:s.control,name:"accrualRate",render:({field:f})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Accrual Rate/Month"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.1",...f,onChange:d=>f.onChange(parseFloat(d.target.value)||0)})}),l.jsx(xt,{})]})})]}),l.jsx(ft,{control:s.control,name:"isPaid",render:({field:f})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Paid Leave"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type is paid"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:f.value,onCheckedChange:f.onChange})})]})}),l.jsx(ft,{control:s.control,name:"requiresApproval",render:({field:f})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Requires Approval"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type needs approval"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:f.value,onCheckedChange:f.onChange})})]})}),l.jsx(ft,{control:s.control,name:"isActive",render:({field:f})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type is available for use"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:f.value,onCheckedChange:f.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:o.isPending,className:"bg-nigeria-green hover:bg-green-700",children:o.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Leave Type"})]})]})})})]})})}function $je(){const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[a,i]=S.useState(null),{toast:s}=zr(),o=Cn(),c=si({resolver:oi(fG),defaultValues:{name:"",code:"",description:"",isPaid:!0,maxDaysPerYear:30,accrualRate:2.5,requiresApproval:!0,isActive:!0}}),{data:u,isLoading:f}=Tr({queryKey:["leave-types"],queryFn:fz}),d=Jr({mutationFn:Kue,onSuccess:()=>{s({title:"Success",description:"Leave type created successfully"}),o.invalidateQueries({queryKey:["leave-types"]}),t(!1)},onError:m=>{s({title:"Error",description:m.message||"Failed to create leave type",variant:"destructive"})}}),h=m=>{d.mutate(m)},p=()=>{c.reset(),t(!1)},g=()=>{c.reset(),t(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-5 w-5"}),l.jsx("span",{children:"Leave Types Configuration"})]}),l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs(Bn,{open:e,onOpenChange:t,children:[l.jsx(fm,{asChild:!0,children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{onClick:g,className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Leave Type"]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Create a new leave type"})})]})}),l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New Leave Type"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[l.jsx(ft,{control:c.control,name:"name",render:({field:m})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Leave Type Name"}),l.jsx(ct,{children:l.jsx(Dt,{...m,placeholder:"e.g., Annual Leave"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:c.control,name:"code",render:({field:m})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Code"}),l.jsx(ct,{children:l.jsx(Dt,{...m,placeholder:"e.g., ANNUAL"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:c.control,name:"description",render:({field:m})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Description (Optional)"}),l.jsx(ct,{children:l.jsx(mc,{...m,placeholder:"Description of this leave type",rows:3})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ft,{control:c.control,name:"maxDaysPerYear",render:({field:m})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Max Days/Year"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",...m,onChange:v=>m.onChange(parseInt(v.target.value,10)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:c.control,name:"accrualRate",render:({field:m})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Accrual Rate/Month"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.1",...m,onChange:v=>m.onChange(parseFloat(v.target.value)||0)})}),l.jsx(xt,{})]})})]}),l.jsx(ft,{control:c.control,name:"isPaid",render:({field:m})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Paid Leave"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type is paid"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:m.value,onCheckedChange:m.onChange})})]})}),l.jsx(ft,{control:c.control,name:"requiresApproval",render:({field:m})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Requires Approval"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type needs approval"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:m.value,onCheckedChange:m.onChange})})]})}),l.jsx(ft,{control:c.control,name:"isActive",render:({field:m})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Whether this leave type is available for use"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:m.value,onCheckedChange:m.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:p,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:d.isPending,className:"bg-nigeria-green hover:bg-green-700",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Leave Type"})]})]})})})]})]})})]})}),l.jsx(Nt,{children:f?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,v)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded bg-gray-200 h-8 w-16"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},v))}):u&&u.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Name"}),l.jsx(it,{children:"Code"}),l.jsx(it,{children:"Type"}),l.jsx(it,{children:"Max Days/Year"}),l.jsx(it,{children:"Accrual Rate"}),l.jsx(it,{children:"Approval"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:u.map(m=>l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:m.name}),l.jsx(at,{children:l.jsx(Yt,{variant:"outline",children:m.code})}),l.jsx(at,{children:l.jsx(Yt,{className:m.isPaid?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:m.isPaid?"Paid":"Unpaid"})}),l.jsxs(at,{children:[m.maxDaysPerYear," days"]}),l.jsxs(at,{children:[m.accrualRate," days/month"]}),l.jsx(at,{children:l.jsx(Yt,{variant:m.requiresApproval?"default":"secondary",children:m.requiresApproval?"Required":"Auto"})}),l.jsx(at,{children:l.jsx(Yt,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})}),l.jsx(at,{children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{i(m),n(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit leave type"})})]})})]},m.id))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No leave types configured"}),l.jsx("p",{className:"text-sm",children:"Create your first leave type to get started"})]})})]}),a&&l.jsx(Uje,{open:r,onClose:()=>{n(!1),i(null)},leaveType:a,onSuccess:()=>{n(!1),i(null)}})]})}function zje(){const[e,t]=S.useState(""),[r,n]=S.useState("all"),[a,i]=S.useState("all"),[s,o]=S.useState("all"),[c,u]=S.useState(""),[f,d]=S.useState(""),{toast:h}=zr(),{data:p,isLoading:g}=Tr({queryKey:["audit-logs",e,r,a,s,c,f],queryFn:async()=>{let E=De.from("audit_logs").select(`
          *,
          users (
            email
          )
        `).order("created_at",{ascending:!1}).limit(500);e&&(E=E.or(`action.ilike.%${e}%,resource.ilike.%${e}%,resource_id.ilike.%${e}%`)),r!=="all"&&(E=E.ilike("action",`%${r}%`)),a!=="all"&&(E=E.eq("resource",a)),s!=="all"&&(E=E.eq("user_id",s)),c&&(E=E.gte("created_at",c)),f&&(E=E.lte("created_at",f+"T23:59:59"));const{data:D,error:M}=await E;if(M)throw M;return D||[]}}),{data:m}=Tr({queryKey:["audit-users"],queryFn:async()=>{const{data:E,error:D}=await De.from("users").select("id, email").order("email");if(D)throw D;return E||[]}}),v=Ft.useMemo(()=>p?Array.from(new Set(p.map(D=>D.action.split("_")[1]||D.action))).filter(Boolean).sort():[],[p]),x=Ft.useMemo(()=>p?Array.from(new Set(p.map(D=>D.resource))).sort():[],[p]),y=E=>E.includes("created")?"bg-green-100 text-green-800":E.includes("updated")?"bg-blue-100 text-blue-800":E.includes("deleted")?"bg-red-100 text-red-800":E.includes("login")?"bg-purple-100 text-purple-800":E.includes("logout")?"bg-gray-100 text-gray-800":E.includes("approved")?"bg-emerald-100 text-emerald-800":E.includes("rejected")?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",b=E=>E.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase()),j=E=>E.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase()),k=async()=>{if(!(p!=null&&p.length)){h({title:"Error",description:"No audit data to export",variant:"destructive"});return}try{const E=p.map(P=>{var R;return{Timestamp:new Date(P.created_at).toLocaleString(),User:((R=P.users)==null?void 0:R.email)||"System",Action:b(P.action),Resource:j(P.resource),"Resource ID":P.resource_id||"-","IP Address":P.ip_address||"-","User Agent":P.user_agent||"-"}}),D=xs.json_to_sheet(E),M=xs.book_new(),C=[["JSC PAYROLL MANAGEMENT SYSTEM"],["Audit Trail Report"],[`Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`],[`Total Records: ${p.length}`],[`Date Range: ${c||"All time"} to ${f||"Present"}`],[""]];xs.sheet_add_aoa(D,C,{origin:"A1"}),xs.sheet_add_json(D,E,{origin:`A${C.length+1}`,skipHeader:!1}),xs.book_append_sheet(M,D,"Audit Logs"),ST(M,`audit_report_${new Date().toISOString().split("T")[0]}.xlsx`),h({title:"Success",description:"Audit report exported successfully"})}catch{h({title:"Error",description:"Failed to export audit report",variant:"destructive"})}},O=()=>{t(""),n("all"),i("all"),o("all"),u(""),d("")},N=e||r!=="all"||a!=="all"||s!=="all"||c||f;return l.jsx("div",{className:"space-y-6",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(mb,{className:"h-5 w-5"}),l.jsx("span",{children:"Audit Trail Report"})]}),l.jsx("div",{className:"w-full sm:w-auto",children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{onClick:k,disabled:!(p!=null&&p.length),className:"w-full sm:w-auto bg-nigeria-green hover:bg-green-700",children:[l.jsx(kd,{className:"mr-2 h-4 w-4"}),"Export Report"]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Export audit logs to Excel"})})]})})]})}),l.jsxs(Nt,{children:[l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(pb,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(Dt,{placeholder:"Search actions, resources...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),l.jsxs(Er,{value:r,onValueChange:n,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"Filter by action"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Actions"}),v.map(E=>l.jsx(Ye,{value:E,children:b(E)},E))]})]}),l.jsxs(Er,{value:a,onValueChange:i,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"Filter by resource"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Resources"}),x.map(E=>l.jsx(Ye,{value:E,children:j(E)},E))]})]}),l.jsxs(Er,{value:s,onValueChange:o,children:[l.jsx(br,{children:l.jsx(Cr,{placeholder:"Filter by user"})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"all",children:"All Users"}),m==null?void 0:m.map(E=>l.jsx(Ye,{value:E.id,children:E.email},E.id))]})]}),l.jsx(Dt,{type:"date",value:c,onChange:E=>u(E.target.value),placeholder:"From date"}),l.jsx(Dt,{type:"date",value:f,onChange:E=>d(E.target.value),placeholder:"To date"})]}),N&&l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[l.jsx(Uk,{className:"h-4 w-4"}),l.jsxs("span",{children:["Showing ",(p==null?void 0:p.length)||0," filtered audit entries"]})]}),l.jsx(Ue,{variant:"ghost",size:"sm",onClick:O,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100",children:"Clear Filters"})]})]}),g?l.jsx("div",{className:"space-y-4",children:[...Array(10)].map((E,D)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-8 w-8"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},D))}):p&&p.length>0?l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Timestamp"}),l.jsx(it,{children:"User"}),l.jsx(it,{children:"Action"}),l.jsx(it,{children:"Resource"}),l.jsx(it,{children:"Resource ID"}),l.jsx(it,{children:"IP Address"})]})}),l.jsx(fi,{children:p.map(E=>{var D;return l.jsxs(Br,{children:[l.jsx(at,{className:"text-sm",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:new Date(E.created_at).toLocaleString()})]})}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Lu,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"font-medium",children:((D=E.users)==null?void 0:D.email)||"System"})]})}),l.jsx(at,{children:l.jsx(Yt,{className:y(E.action),children:b(E.action)})}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lne,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"capitalize",children:j(E.resource)})]})}),l.jsx(at,{children:l.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:E.resource_id?E.resource_id.slice(0,8)+"...":"-"})}),l.jsx(at,{className:"text-sm text-gray-600",children:E.ip_address||"Unknown"})]},E.id)})})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(mb,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No audit logs found"}),l.jsx("p",{className:"text-sm",children:N?"Try adjusting your filters":"Audit logs will appear here as users perform actions"})]}),p&&p.length>0&&l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Entries"})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.from(new Set(p.map(E=>{var D;return(D=E.users)==null?void 0:D.email}).filter(Boolean))).length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Unique Users"})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.from(new Set(p.map(E=>E.action))).length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Action Types"})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.from(new Set(p.map(E=>E.resource))).length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Resources"})]})})})]})]})]})})}const qje=Ve.object({name:Ve.string().min(1,"Name is required"),type:Ve.enum(["percentage","fixed"]),value:Ve.number().min(0,"Value must be positive"),isActive:Ve.boolean()}),Wje=Ve.object({name:Ve.string().min(1,"Name is required"),type:Ve.enum(["percentage","fixed"]),value:Ve.number().min(0,"Value must be positive"),isActive:Ve.boolean()}),Vje=Ve.object({email:Ve.string().email("Invalid email address"),role:Ve.enum(["super_admin","account_admin","payroll_admin","staff"])});function Hje(){const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[a,i]=S.useState(!1),[s,o]=S.useState(!1),[c,u]=S.useState(!1),[f,d]=S.useState(!1),[h,p]=S.useState(null),[g,m]=S.useState(null),[v,x]=S.useState(null),{toast:y}=zr(),b=Cn(),j=si({resolver:oi(qje),defaultValues:{name:"",type:"percentage",value:0,isActive:!0}}),k=si({resolver:oi(Wje),defaultValues:{name:"",type:"percentage",value:0,isActive:!0}}),O=si({resolver:oi(Vje),defaultValues:{email:"",role:"staff"}}),{data:N,isLoading:E}=Tr({queryKey:["system-allowances"],queryFn:async()=>{const{data:L,error:B}=await De.from("allowances").select("*").order("name");if(B)throw B;return L||[]}}),{data:D,isLoading:M}=Tr({queryKey:["system-deductions"],queryFn:async()=>{const{data:L,error:B}=await De.from("deductions").select("*").order("name");if(B)throw B;return L||[]}}),{data:C,isLoading:P}=Tr({queryKey:["system-users"],queryFn:async()=>{const{data:L,error:B}=await De.from("users").select("*").order("email");if(B)throw B;return L||[]}}),R=Jr({mutationFn:async L=>{const{data:B,error:z}=await De.from("allowances").insert({name:L.name,type:L.type,value:L.value.toString(),is_active:L.isActive}).select().single();if(z)throw z;return await Tu("allowance_created","allowances",B.id,null,L),B},onSuccess:()=>{y({title:"Success",description:"Allowance created successfully"}),b.invalidateQueries({queryKey:["system-allowances"]}),j.reset(),t(!1)},onError:L=>{y({title:"Error",description:L.message||"Failed to create allowance",variant:"destructive"})}}),U=Jr({mutationFn:async L=>{const{data:B,error:z}=await De.from("deductions").insert({name:L.name,type:L.type,value:L.value.toString(),is_active:L.isActive}).select().single();if(z)throw z;return await Tu("deduction_created","deductions",B.id,null,L),B},onSuccess:()=>{y({title:"Success",description:"Deduction created successfully"}),b.invalidateQueries({queryKey:["system-deductions"]}),k.reset(),n(!1)},onError:L=>{y({title:"Error",description:L.message||"Failed to create deduction",variant:"destructive"})}}),ee=Jr({mutationFn:async L=>{const{data:B,error:z}=await De.from("users").insert({email:L.email,role:L.role}).select().single();if(z)throw z;return await Tu("user_created","users",B.id,null,L),B},onSuccess:()=>{y({title:"Success",description:"User created successfully"}),b.invalidateQueries({queryKey:["system-users"]}),O.reset(),i(!1)},onError:L=>{y({title:"Error",description:L.message||"Failed to create user",variant:"destructive"})}}),J=Jr({mutationFn:async L=>{const{data:B}=await De.from("allowances").select("*").eq("id",L).single(),{error:z}=await De.from("allowances").delete().eq("id",L);if(z)throw z;B&&await Tu("allowance_deleted","allowances",L,B,null)},onSuccess:()=>{y({title:"Success",description:"Allowance deleted successfully"}),b.invalidateQueries({queryKey:["system-allowances"]})},onError:L=>{y({title:"Error",description:L.message||"Failed to delete allowance",variant:"destructive"})}}),ae=Jr({mutationFn:async L=>{const{data:B}=await De.from("deductions").select("*").eq("id",L).single(),{error:z}=await De.from("deductions").delete().eq("id",L);if(z)throw z;B&&await Tu("deduction_deleted","deductions",L,B,null)},onSuccess:()=>{y({title:"Success",description:"Deduction deleted successfully"}),b.invalidateQueries({queryKey:["system-deductions"]})},onError:L=>{y({title:"Error",description:L.message||"Failed to delete deduction",variant:"destructive"})}}),X=L=>{R.mutate(L)},W=L=>{U.mutate(L)},fe=L=>{ee.mutate(L)},Se=L=>{switch(L){case"super_admin":return"bg-red-100 text-red-800";case"account_admin":return"bg-blue-100 text-blue-800";case"payroll_admin":return"bg-green-100 text-green-800";case"staff":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=L=>L.replace("_"," ").replace(/\b\w/g,B=>B.toUpperCase());return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"System Settings"}),l.jsx("p",{className:"text-gray-600",children:"Configure system-wide settings and manage payroll rules"})]})}),l.jsxs(fy,{defaultValue:"allowances",className:"space-y-6",children:[l.jsx("div",{className:"w-full overflow-x-auto",children:l.jsxs(jg,{className:"inline-flex h-auto min-w-full sm:min-w-fit sm:w-full sm:grid sm:grid-cols-6",children:[l.jsx(ki,{value:"allowances",children:"Allowances"}),l.jsx(ki,{value:"deductions",children:"Deductions"}),l.jsx(ki,{value:"users",children:"Users"}),l.jsx(ki,{value:"salary",children:"Salary Structure"}),l.jsx(ki,{value:"leave",children:"Leave Types"}),l.jsx(ki,{value:"audit",children:"Audit Trail"})]})}),l.jsx(Ai,{value:"allowances",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-5 w-5"}),l.jsx("span",{children:"System Allowances"})]}),l.jsxs(Bn,{open:e,onOpenChange:t,children:[l.jsx(fm,{asChild:!0,children:l.jsxs(Ue,{className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Allowance"]})}),l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New Allowance"})}),l.jsx(li,{...j,children:l.jsxs("form",{onSubmit:j.handleSubmit(X),className:"space-y-4",children:[l.jsx(ft,{control:j.control,name:"name",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Allowance Name"}),l.jsx(ct,{children:l.jsx(Dt,{...L,placeholder:"e.g., Housing Allowance"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:j.control,name:"type",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Type"}),l.jsxs(Er,{onValueChange:L.onChange,value:L.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"percentage",children:"Percentage"}),l.jsx(Ye,{value:"fixed",children:"Fixed Amount"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:j.control,name:"value",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Value"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",...L,onChange:B=>L.onChange(parseFloat(B.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:j.control,name:"isActive",render:({field:L})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active Status"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable or disable this allowance"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:L.value,onCheckedChange:L.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:R.isPending,className:"bg-nigeria-green hover:bg-green-700",children:R.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Allowance"})]})]})})]})]})]})}),l.jsx(Nt,{children:E?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((L,B)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded bg-gray-200 h-8 w-32"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},B))}):N&&N.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Name"}),l.jsx(it,{children:"Type"}),l.jsx(it,{children:"Value"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:N.map(L=>l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:L.name}),l.jsx(at,{children:l.jsx(Yt,{variant:"outline",className:"capitalize",children:L.type})}),l.jsx(at,{children:L.type==="percentage"?`${L.value}%`:`₦${parseFloat(L.value).toLocaleString()}`}),l.jsx(at,{children:l.jsx(Yt,{variant:L.is_active?"default":"secondary",children:L.is_active?"Active":"Inactive"})}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{p(L),o(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit allowance"})})]}),l.jsxs(GA,{children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(KA,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:l.jsx(gb,{className:"h-4 w-4"})})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Delete allowance"})})]}),l.jsxs(o_,{children:[l.jsxs(l_,{children:[l.jsx(u_,{children:"Delete Allowance"}),l.jsxs(f_,{children:['Are you sure you want to delete "',L.name,'"? This action cannot be undone.']})]}),l.jsxs(c_,{children:[l.jsx(h_,{children:"Cancel"}),l.jsx(d_,{onClick:()=>J.mutate(L.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},L.id))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Wa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No allowances configured"})]})})]})}),l.jsx(Ai,{value:"deductions",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Vl,{className:"h-5 w-5"}),l.jsx("span",{children:"System Deductions"})]}),l.jsxs(Bn,{open:r,onOpenChange:n,children:[l.jsx(fm,{asChild:!0,children:l.jsxs(Ue,{className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add Deduction"]})}),l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New Deduction"})}),l.jsx(li,{...k,children:l.jsxs("form",{onSubmit:k.handleSubmit(W),className:"space-y-4",children:[l.jsx(ft,{control:k.control,name:"name",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Deduction Name"}),l.jsx(ct,{children:l.jsx(Dt,{...L,placeholder:"e.g., PAYE Tax"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:k.control,name:"type",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Type"}),l.jsxs(Er,{onValueChange:L.onChange,value:L.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"percentage",children:"Percentage"}),l.jsx(Ye,{value:"fixed",children:"Fixed Amount"})]})]}),l.jsx(xt,{})]})}),l.jsx(ft,{control:k.control,name:"value",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Value"}),l.jsx(ct,{children:l.jsx(Dt,{type:"number",step:"0.01",...L,onChange:B=>L.onChange(parseFloat(B.target.value)||0)})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:k.control,name:"isActive",render:({field:L})=>l.jsxs(ot,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(lt,{className:"text-base",children:"Active Status"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable or disable this deduction"})]}),l.jsx(ct,{children:l.jsx(ic,{checked:L.value,onCheckedChange:L.onChange})})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:U.isPending,className:"bg-nigeria-green hover:bg-green-700",children:U.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Deduction"})]})]})})]})]})]})}),l.jsx(Nt,{children:M?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((L,B)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded bg-gray-200 h-8 w-32"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},B))}):D&&D.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Name"}),l.jsx(it,{children:"Type"}),l.jsx(it,{children:"Value"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:D.map(L=>l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:L.name}),l.jsx(at,{children:l.jsx(Yt,{variant:"outline",className:"capitalize",children:L.type})}),l.jsx(at,{children:L.type==="percentage"?`${L.value}%`:`₦${parseFloat(L.value).toLocaleString()}`}),l.jsx(at,{children:l.jsx(Yt,{variant:L.is_active?"default":"secondary",children:L.is_active?"Active":"Inactive"})}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{m(L),u(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit deduction"})})]}),l.jsxs(GA,{children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(KA,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:l.jsx(gb,{className:"h-4 w-4"})})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Delete deduction"})})]}),l.jsxs(o_,{children:[l.jsxs(l_,{children:[l.jsx(u_,{children:"Delete Deduction"}),l.jsxs(f_,{children:['Are you sure you want to delete "',L.name,'"? This action cannot be undone.']})]}),l.jsxs(c_,{children:[l.jsx(h_,{children:"Cancel"}),l.jsx(d_,{onClick:()=>ae.mutate(L.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},L.id))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Vl,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No deductions configured"})]})})]})}),l.jsx(Ai,{value:"users",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Wc,{className:"h-5 w-5"}),l.jsx("span",{children:"System Users"})]}),l.jsxs(Bn,{open:a,onOpenChange:i,children:[l.jsx(fm,{asChild:!0,children:l.jsxs(Ue,{className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Add User"]})}),l.jsxs(Un,{children:[l.jsx($n,{children:l.jsx(zn,{children:"Add New User"})}),l.jsx(li,{...O,children:l.jsxs("form",{onSubmit:O.handleSubmit(fe),className:"space-y-4",children:[l.jsx(ft,{control:O.control,name:"email",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Email"}),l.jsx(ct,{children:l.jsx(Dt,{type:"email",...L,placeholder:"user@jsc.gov.ng"})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:O.control,name:"role",render:({field:L})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Role"}),l.jsxs(Er,{onValueChange:L.onChange,value:L.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{})})}),l.jsxs(_r,{children:[l.jsx(Ye,{value:"staff",children:"Staff"}),l.jsx(Ye,{value:"payroll_admin",children:"Payroll Admin"}),l.jsx(Ye,{value:"account_admin",children:"Account Admin"}),l.jsx(Ye,{value:"super_admin",children:"Super Admin"})]})]}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:ee.isPending,className:"bg-nigeria-green hover:bg-green-700",children:ee.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create User"})]})]})})]})]})]})}),l.jsx(Nt,{children:P?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((L,B)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded bg-gray-200 h-8 w-48"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},B))}):C&&C.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Email"}),l.jsx(it,{children:"Role"}),l.jsx(it,{children:"Created"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:C.map(L=>l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:L.email}),l.jsx(at,{children:l.jsx(Yt,{className:Se(L.role),children:T(L.role)})}),l.jsx(at,{className:"text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()}),l.jsx(at,{children:l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>{x(L),d(!0)},children:l.jsx($u,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Edit user"})})]})})]},L.id))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Wc,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No users found"})]})})]})}),l.jsx(Ai,{value:"salary",children:l.jsx(Bje,{})}),l.jsx(Ai,{value:"leave",children:l.jsx($je,{})}),l.jsx(Ai,{value:"audit",children:l.jsx(zje,{})})]}),h&&l.jsx(Fje,{open:s,onClose:()=>{o(!1),p(null)},allowance:h,onSuccess:()=>{o(!1),p(null)}}),g&&l.jsx(Lje,{open:c,onClose:()=>{u(!1),m(null)},deduction:g,onSuccess:()=>{u(!1),m(null)}}),v&&l.jsx(Rje,{open:f,onClose:()=>{d(!1),x(null)},user:v,onSuccess:()=>{d(!1),x(null)}})]})}function Gje(){var E,D;const{user:e}=as(),{toast:t}=zr(),[r,n]=S.useState(""),[a,i]=S.useState(""),[s,o]=S.useState(""),[c,u]=S.useState(!1),[f,d]=S.useState(!1),[h,p]=S.useState(!1),g=Jr({mutationFn:async()=>{const{error:M}=await De.auth.updateUser({password:a});if(M)throw M},onSuccess:()=>{t({title:"Success",description:"Password updated successfully"}),n(""),i(""),o("")},onError:M=>{t({title:"Error",description:M.message||"Failed to update password",variant:"destructive"})}}),v=(M=>{const C=M.length>=8,P=/[A-Z]/.test(M),R=/[a-z]/.test(M),U=/\d/.test(M);return{isValid:C&&P&&R&&U,minLength:C,hasUpper:P,hasLower:R,hasNumber:U}})(a),x=a===s,y=M=>{if(M.preventDefault(),!r||!a||!s){t({title:"Error",description:"Please fill in all password fields",variant:"destructive"});return}if(!v.isValid){t({title:"Error",description:"New password does not meet security requirements",variant:"destructive"});return}if(!x){t({title:"Error",description:"New passwords do not match",variant:"destructive"});return}g.mutate()},b=M=>{switch(M){case"super_admin":return"Super Administrator";case"account_admin":return"Account Manager";case"payroll_admin":return"Payroll Manager";case"staff":return"Staff Member";default:return"User"}},j=M=>{switch(M){case"super_admin":return"bg-red-100 text-red-800";case"account_admin":return"bg-blue-100 text-blue-800";case"payroll_admin":return"bg-green-100 text-green-800";case"staff":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=()=>{var M;return e!=null&&e.staff_profile?`${e.staff_profile.first_name[0]}${e.staff_profile.last_name[0]}`:((M=e==null?void 0:e.email)==null?void 0:M.substring(0,2).toUpperCase())||"U"},O=()=>e!=null&&e.staff_profile?`${e.staff_profile.first_name} ${e.staff_profile.last_name}`:(e==null?void 0:e.email)||"User",N=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Profile Settings"}),l.jsx("p",{className:"text-gray-600",children:"View and manage your account information"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Nb,{className:"h-24 w-24 mx-auto mb-4",children:l.jsx(kb,{className:"bg-nigeria-green text-white text-2xl",children:k()})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:O()}),l.jsx(Yt,{className:`${j((e==null?void 0:e.role)||"")} mb-4`,children:b((e==null?void 0:e.role)||"")}),l.jsxs("div",{className:"space-y-3 text-left",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($x,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:e==null?void 0:e.email})]}),(e==null?void 0:e.staff_profile)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Lu,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:e.staff_profile.staff_id})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ic,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:((E=e.staff_profile.departments)==null?void 0:E.name)||"Unassigned"})]})]})]}),(e==null?void 0:e.role)==="staff"&&l.jsx("div",{className:"mt-6",children:l.jsx(ji,{href:"/staff-portal",children:l.jsxs(Ue,{className:"w-full bg-nigeria-green hover:bg-green-700",children:[l.jsx(gne,{className:"mr-2 h-4 w-4"}),"Go to Staff Portal"]})})})]})})})}),l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(mb,{className:"h-5 w-5"}),l.jsx("span",{children:"Account Information"})]})}),l.jsx(Nt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e==null?void 0:e.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),l.jsx("p",{className:"mt-1",children:l.jsx(Yt,{className:j((e==null?void 0:e.role)||""),children:b((e==null?void 0:e.role)||"")})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Created"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e!=null&&e.created_at?N(e.created_at):"Unknown"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e!=null&&e.updated_at?N(e.updated_at):"Unknown"})]})]})})]}),(e==null?void 0:e.staff_profile)&&l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Lu,{className:"h-5 w-5"}),l.jsx("span",{children:"Staff Profile"})]})}),l.jsxs(Nt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Staff ID"}),l.jsx("p",{className:"mt-1 text-sm font-mono text-gray-900",children:e.staff_profile.staff_id})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[e.staff_profile.first_name," ",e.staff_profile.middle_name||""," ",e.staff_profile.last_name]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Position"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.staff_profile.position})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Department"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((D=e.staff_profile.departments)==null?void 0:D.name)||"Unassigned"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Grade & Step"}),l.jsx("p",{className:"mt-1",children:l.jsxs(Yt,{variant:"outline",children:["GL ",e.staff_profile.grade_level," Step ",e.staff_profile.step]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Employment Date"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N(e.staff_profile.employment_date)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),l.jsx("p",{className:"mt-1",children:l.jsx(Yt,{className:e.staff_profile.status==="active"?"bg-green-100 text-green-800":e.staff_profile.status==="on_leave"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:e.staff_profile.status.replace("_"," ").toUpperCase()})})]}),e.staff_profile.phone_number&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.staff_profile.phone_number})]})]}),(e.staff_profile.bank_name||e.staff_profile.account_number)&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Banking Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.staff_profile.bank_name&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.staff_profile.bank_name.toUpperCase()})]}),e.staff_profile.account_number&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),l.jsx("p",{className:"mt-1 text-sm font-mono text-gray-900",children:e.staff_profile.account_number})]}),e.staff_profile.account_name&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.staff_profile.account_name})]})]})]})]})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(mb,{className:"h-5 w-5"}),l.jsx("span",{children:"Role Permissions"})]})}),l.jsx(Nt,{children:l.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.role)==="super_admin"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Super Administrator"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Full system access and configuration"}),l.jsx("li",{children:"Manage all users and roles"}),l.jsx("li",{children:"Configure salary structure and system settings"}),l.jsx("li",{children:"Final payroll approval and processing"}),l.jsx("li",{children:"View all audit logs and reports"})]})]}),(e==null?void 0:e.role)==="account_admin"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Account Manager"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Review and approve payroll runs"}),l.jsx("li",{children:"Generate bank transfer reports"}),l.jsx("li",{children:"View financial reports and analytics"}),l.jsx("li",{children:"Manage payment processing"})]})]}),(e==null?void 0:e.role)==="payroll_admin"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Payroll Manager"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Create and process payroll runs"}),l.jsx("li",{children:"Manage staff records and departments"}),l.jsx("li",{children:"Generate payslips and reports"}),l.jsx("li",{children:"Configure allowances and deductions"})]})]}),(e==null?void 0:e.role)==="staff"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Staff Member"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"View personal payslips and salary history"}),l.jsx("li",{children:"Access staff portal dashboard"}),l.jsx("li",{children:"Download payslip PDFs"}),l.jsx("li",{children:"View salary trends and analytics"})]})]})]})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"Quick Actions"})}),l.jsx(Nt,{children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(e==null?void 0:e.role)==="staff"&&l.jsx(ji,{href:"/staff-portal",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Staff Portal"]})}),(e==null?void 0:e.role)==="staff"&&l.jsx(ji,{href:"/payslips",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx(Ad,{className:"mr-2 h-4 w-4"}),"My Payslips"]})}),((e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.role)==="payroll_admin")&&l.jsx(ji,{href:"/staff",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Staff Management"]})}),(e==null?void 0:e.role)==="super_admin"&&l.jsx(ji,{href:"/settings",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx($k,{className:"mr-2 h-4 w-4"}),"System Settings"]})}),l.jsx(ji,{href:"/notifications",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx($x,{className:"mr-2 h-4 w-4"}),"Notifications"]})}),l.jsx(ji,{href:"/dashboard",children:l.jsxs(Ue,{variant:"outline",className:"w-full justify-start",children:[l.jsx(Va,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(hb,{className:"h-5 w-5"}),l.jsx("span",{children:"Change Password"})]})}),l.jsx(Nt,{children:l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"currentPassword",children:"Current Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Dt,{id:"currentPassword",type:c?"text":"password",value:r,onChange:M=>n(M.target.value),placeholder:"Enter current password",className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!c),children:c?l.jsx(rx,{className:"h-4 w-4 text-gray-400"}):l.jsx(qc,{className:"h-4 w-4 text-gray-400"})})]})]}),l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"newPassword",children:"New Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Dt,{id:"newPassword",type:f?"text":"password",value:a,onChange:M=>i(M.target.value),placeholder:"Enter new password",className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!f),children:f?l.jsx(rx,{className:"h-4 w-4 text-gray-400"}):l.jsx(qc,{className:"h-4 w-4 text-gray-400"})})]}),a&&l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${v.minLength?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${v.minLength?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"At least 8 characters"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${v.hasUpper?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${v.hasUpper?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One uppercase letter"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${v.hasLower?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${v.hasLower?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One lowercase letter"})]}),l.jsxs("div",{className:`text-xs flex items-center space-x-2 ${v.hasNumber?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${v.hasNumber?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{children:"One number"})]})]})]}),l.jsxs("div",{children:[l.jsx(Or,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Dt,{id:"confirmNewPassword",type:h?"text":"password",value:s,onChange:M=>o(M.target.value),placeholder:"Confirm new password",className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!h),children:h?l.jsx(rx,{className:"h-4 w-4 text-gray-400"}):l.jsx(qc,{className:"h-4 w-4 text-gray-400"})})]}),s&&l.jsxs("div",{className:`mt-1 text-xs flex items-center space-x-2 ${x?"text-green-600":"text-red-600"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{children:x?"Passwords match":"Passwords do not match"})]})]}),l.jsx(Ue,{type:"submit",disabled:g.isPending||!v.isValid||!x||!r,className:"w-full bg-nigeria-green hover:bg-green-700",children:g.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Password..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hb,{className:"mr-2 h-4 w-4"}),"Update Password"]})})]})})]})]})]})]})}function Kje(){var j,k,O,N,E,D,M;const{user:e,hasRole:t}=as(),[r,n]=S.useState(null),[a,i]=S.useState(!1),[s,o]=S.useState(""),[c,u]=S.useState("approve"),{toast:f}=zr(),d=Cn();Q1({enableNotifications:!0});const{data:h,isLoading:p}=Tr({queryKey:["pending-leave-requests"],queryFn:Jue,enabled:!!e&&t(["super_admin","account_admin","payroll_admin"])}),g=Jr({mutationFn:async({requestId:C,status:P,comments:R})=>{await Que(C,P,R)},onSuccess:(C,{status:P})=>{f({title:"Success",description:`Leave request ${P} successfully`}),d.invalidateQueries({queryKey:["pending-leave-requests"]}),i(!1),o(""),n(null)},onError:C=>{f({title:"Error",description:C.message||"Failed to update leave request",variant:"destructive"})}}),m=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=(C,P)=>{const R=m(C),U=m(P);return R===U?R:`${R} - ${U}`},x=C=>C?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",y=(C,P)=>{n(C),u(P),i(!0)},b=()=>{r&&g.mutate({requestId:r.id,status:c,comments:s||void 0})};return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Leave Approval Workflow"}),l.jsx("p",{className:"text-gray-600",children:"Review and approve staff leave requests"})]})}),l.jsx(jt,{className:"mb-6",children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:l.jsx(So,{className:"text-orange-600",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(h==null?void 0:h.length)||0}),l.jsx("p",{className:"text-sm text-gray-500",children:"Requests awaiting review"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Days Requested"}),l.jsx("p",{className:"text-xl font-bold text-orange-600",children:(h==null?void 0:h.reduce((C,P)=>C+P.total_days,0))||0})]})]})})}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-5 w-5"}),l.jsx("span",{children:"Pending Leave Requests"})]})}),l.jsx(Nt,{children:p?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((C,P)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},P))}):h&&h.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Staff Member"}),l.jsx(it,{children:"Leave Type"}),l.jsx(it,{children:"Dates"}),l.jsx(it,{children:"Days"}),l.jsx(it,{children:"Reason"}),l.jsx(it,{children:"Submitted"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:h.map(C=>{var P,R,U,ee,J,ae,X;return l.jsxs(Br,{children:[l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Lu,{className:"h-4 w-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[(P=C.staff)==null?void 0:P.first_name," ",(R=C.staff)==null?void 0:R.last_name]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[(U=C.staff)==null?void 0:U.staff_id," • ",(J=(ee=C.staff)==null?void 0:ee.departments)==null?void 0:J.name]})]})]})}),l.jsx(at,{children:l.jsx(Yt,{className:x((ae=C.leave_types)==null?void 0:ae.is_paid),children:(X=C.leave_types)==null?void 0:X.name})}),l.jsx(at,{children:l.jsx("div",{className:"text-sm",children:v(C.start_date,C.end_date)})}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"font-medium",children:C.total_days})]})}),l.jsx(at,{className:"max-w-xs",children:l.jsx("div",{className:"truncate",title:C.reason,children:C.reason})}),l.jsx(at,{className:"text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString()}),l.jsx(at,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>y(C,"approve"),className:"text-green-600 hover:text-green-700",children:l.jsx(Xc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Approve leave request"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>y(C,"reject"),className:"text-red-600 hover:text-red-700",children:l.jsx(Ju,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Reject leave request"})})]})]})})]},C.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Va,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No pending leave requests"}),l.jsx("p",{className:"text-sm",children:"Leave requests requiring approval will appear here"})]})})]}),l.jsx(Bn,{open:a,onOpenChange:i,children:l.jsxs(Un,{children:[l.jsx($n,{children:l.jsxs(zn,{children:[c==="approve"?"Approve":"Reject"," Leave Request"]})}),r&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Staff Member"}),l.jsxs("p",{className:"font-medium",children:[(j=r.staff)==null?void 0:j.first_name," ",(k=r.staff)==null?void 0:k.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:(O=r.staff)==null?void 0:O.staff_id})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Leave Type"}),l.jsx("p",{className:"font-medium",children:(N=r.leave_types)==null?void 0:N.name}),l.jsx(Yt,{className:x((E=r.leave_types)==null?void 0:E.is_paid),size:"sm",children:(D=r.leave_types)!=null&&D.is_paid?"Paid":"Unpaid"})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Dates"}),l.jsx("p",{className:"font-medium",children:v(r.start_date,r.end_date)})]}),l.jsxs("div",{children:[l.jsx(Or,{className:"text-gray-600",children:"Total Days"}),l.jsxs("p",{className:"font-medium",children:[r.total_days," working days"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx(Or,{className:"text-gray-600",children:"Reason"}),l.jsx("p",{className:"font-medium",children:r.reason})]})]}),l.jsxs("div",{children:[l.jsxs(Or,{htmlFor:"comments",children:["Comments ",c==="reject"?"(Required for rejection)":"(Optional)"]}),l.jsx(mc,{id:"comments",value:s,onChange:C=>o(C.target.value),placeholder:c==="approve"?"Add any comments about this approval...":"Please provide a reason for rejection...",className:"mt-1",rows:3})]}),!((M=r.leave_types)!=null&&M.is_paid)&&l.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[l.jsx(f0,{className:"h-5 w-5 text-orange-600 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-orange-800",children:"Unpaid Leave Notice"}),l.jsx("p",{className:"text-orange-700",children:"This is unpaid leave. The staff member's salary will be adjusted during payroll processing."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx(Ue,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),l.jsx(Ue,{onClick:b,disabled:g.isPending||c==="reject"&&!s.trim(),className:c==="approve"?"bg-nigeria-green hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:g.isPending?l.jsxs(l.Fragment,{children:[l.jsx(So,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[c==="approve"?l.jsx(Xc,{className:"mr-2 h-4 w-4"}):l.jsx(Ju,{className:"mr-2 h-4 w-4"}),c==="approve"?"Approve Request":"Reject Request"]})})]})]})]})})]})}var nS={},dG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(dG);var RT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(RT);var MT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(MT);var aS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];o?u==="\\"&&i+1<a?(i++,s+=r[i]):u===o?o="":s+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,i++}return s&&n.push(s),n}e.toPath=t})(aS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dG,r=RT,n=MT,a=aS;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const f=o[c];return f===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=o[c];return f===void 0?u:f}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const f=o[c];return f===void 0?u:f}}}function s(o,c,u){if(c.length===0)return u;let f=o;for(let d=0;d<c.length;d++){if(f==null||t.isUnsafeProperty(c[d]))return u;f=f[c[d]]}return f===void 0?u:f}e.get=i})(nS);var Yje=nS.get;const j0=ru(Yje);var hG={exports:{}},mn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=Symbol.for("react.element"),UT=Symbol.for("react.portal"),iS=Symbol.for("react.fragment"),sS=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),Xje=Symbol.for("react.server_context"),uS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),dS=Symbol.for("react.suspense_list"),hS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),Zje=Symbol.for("react.offscreen"),pG;pG=Symbol.for("react.module.reference");function yl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BT:switch(e=e.type,e){case iS:case oS:case sS:case fS:case dS:return e;default:switch(e=e&&e.$$typeof,e){case Xje:case cS:case uS:case pS:case hS:case lS:return e;default:return t}}case UT:return t}}}mn.ContextConsumer=cS;mn.ContextProvider=lS;mn.Element=BT;mn.ForwardRef=uS;mn.Fragment=iS;mn.Lazy=pS;mn.Memo=hS;mn.Portal=UT;mn.Profiler=oS;mn.StrictMode=sS;mn.Suspense=fS;mn.SuspenseList=dS;mn.isAsyncMode=function(){return!1};mn.isConcurrentMode=function(){return!1};mn.isContextConsumer=function(e){return yl(e)===cS};mn.isContextProvider=function(e){return yl(e)===lS};mn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BT};mn.isForwardRef=function(e){return yl(e)===uS};mn.isFragment=function(e){return yl(e)===iS};mn.isLazy=function(e){return yl(e)===pS};mn.isMemo=function(e){return yl(e)===hS};mn.isPortal=function(e){return yl(e)===UT};mn.isProfiler=function(e){return yl(e)===oS};mn.isStrictMode=function(e){return yl(e)===sS};mn.isSuspense=function(e){return yl(e)===fS};mn.isSuspenseList=function(e){return yl(e)===dS};mn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iS||e===oS||e===sS||e===fS||e===dS||e===Zje||typeof e=="object"&&e!==null&&(e.$$typeof===pS||e.$$typeof===hS||e.$$typeof===lS||e.$$typeof===cS||e.$$typeof===uS||e.$$typeof===pG||e.getModuleId!==void 0)};mn.typeOf=yl;hG.exports=mn;var Jje=hG.exports,al=e=>e===0?0:e>0?1:-1,pl=e=>typeof e=="number"&&e!=+e,Oh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Wt=e=>(typeof e=="number"||e instanceof Number)&&!pl(e),eu=e=>Wt(e)||typeof e=="string",Qje=0,w1=e=>{var t=++Qje;return"".concat(e||"").concat(t)},zd=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(t)&&typeof t!="string")return n;var i;if(Oh(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return pl(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},mG=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Sv=(e,t)=>Wt(e)&&Wt(t)?r=>e+r*(t-e):()=>t;function gG(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):j0(n,t))===r)}var ja=e=>e===null||typeof e>"u",$T=e=>ja(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),e4e=["viewBox","children"],t4e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pL=["points","pathLength"],sN={svg:e4e,polygon:pL,polyline:pL},zT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qT=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{zT.includes(a)&&(n[a]=i=>r[a](r,i))}),n},r4e=(e,t,r)=>n=>(e(t,r,n),null),n4e=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];zT.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=r4e(i,t,r))}),n},mL=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gL=null,oN=null,vG=e=>{if(e===gL&&Array.isArray(oN))return oN;var t=[];return S.Children.forEach(e,r=>{ja(r)||(Jje.isFragment(r)?t=t.concat(vG(r.props.children)):t.push(r))}),oN=t,gL=e,t};function xG(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>mL(a)):n=[mL(t)],vG(e).forEach(a=>{var i=j0(a,"type.displayName")||j0(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var yG=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,a4e=(e,t,r,n)=>{var a,i=(a=n&&(sN==null?void 0:sN[n]))!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||t4e.includes(t))||r&&zT.includes(t)},In=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;a4e((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},i4e=["children","width","height","viewBox","className","style","title","desc"];function YA(){return YA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YA.apply(null,arguments)}function s4e(e,t){if(e==null)return{};var r,n,a=o4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wG=S.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,f=s4e(e,i4e),d=i||{width:n,height:a,x:0,y:0},h=_n("recharts-surface",s);return S.createElement("svg",YA({},In(f,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),S.createElement("title",null,c),S.createElement("desc",null,u),r)}),l4e=["children","className"];function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XA.apply(null,arguments)}function c4e(e,t){if(e==null)return{};var r,n,a=u4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qd=S.forwardRef((e,t)=>{var{children:r,className:n}=e,a=c4e(e,l4e),i=_n("recharts-layer",n);return S.createElement("g",XA({className:i},In(a,!0),{ref:t}),r)}),f4e=S.createContext(null);function oa(e){return function(){return e}}const ZA=Math.PI,JA=2*ZA,bh=1e-6,d4e=JA-bh;function bG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function h4e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bG;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class p4e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bG:h4e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,f=s-t,d=o-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bh)if(!(Math.abs(d*c-u*f)>bh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=c*c+u*u,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(h),b=i*Math.tan((ZA-Math.acos((m+h-v)/(2*x*y)))/2),j=b/y,k=b/x;Math.abs(j-1)>bh&&this._append`L${t+j*f},${r+j*d}`,this._append`A${i},${i},0,0,${+(d*p>f*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,f=r+c,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>bh||Math.abs(this._y1-f)>bh)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%JA+JA),h>d4e?this._append`A${n},${n},0,1,${d},${t-o},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>bh&&this._append`A${n},${n},0,${+(h>=ZA)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _G(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new p4e(t)}function WT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SG(e){this._context=e}SG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mS(e){return new SG(e)}function jG(e){return e[0]}function NG(e){return e[1]}function kG(e,t){var r=oa(!0),n=null,a=mS,i=null,s=_G(o);e=typeof e=="function"?e:e===void 0?jG:oa(e),t=typeof t=="function"?t:t===void 0?NG:oa(t);function o(c){var u,f=(c=WT(c)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:oa(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:oa(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:oa(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function rw(e,t,r){var n=null,a=oa(!0),i=null,s=mS,o=null,c=_G(u);e=typeof e=="function"?e:e===void 0?jG:oa(+e),t=typeof t=="function"?t:oa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NG:oa(+r);function u(d){var h,p,g,m=(d=WT(d)).length,v,x=!1,y,b=new Array(m),j=new Array(m);for(i==null&&(o=s(y=c())),h=0;h<=m;++h){if(!(h<m&&a(v=d[h],h,d))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],j[g]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(v,h,d),j[h]=+t(v,h,d),o.point(n?+n(v,h,d):b[h],r?+r(v,h,d):j[h]))}if(y)return o=null,y+""||null}function f(){return kG().defined(a).curve(s).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:oa(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:oa(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:oa(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:oa(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:oa(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:oa(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:oa(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),u):s},u.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),u):i},u}class AG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function m4e(e){return new AG(e,!0)}function g4e(e){return new AG(e,!1)}function p_(){}function m_(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EG(e){this._context=e}EG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:m_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:m_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v4e(e){return new EG(e)}function CG(e){this._context=e}CG.prototype={areaStart:p_,areaEnd:p_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:m_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x4e(e){return new CG(e)}function TG(e){this._context=e}TG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:m_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y4e(e){return new TG(e)}function PG(e){this._context=e}PG.prototype={areaStart:p_,areaEnd:p_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w4e(e){return new PG(e)}function vL(e){return e<0?-1:1}function xL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(vL(i)+vL(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function yL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function lN(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function g_(e){this._context=e}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lN(this,this._t0,yL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lN(this,yL(this,r=xL(this,e,t)),r);break;default:lN(this,this._t0,r=xL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OG(e){this._context=new FG(e)}(OG.prototype=Object.create(g_.prototype)).point=function(e,t){g_.prototype.point.call(this,t,e)};function FG(e){this._context=e}FG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function b4e(e){return new g_(e)}function _4e(e){return new OG(e)}function DG(e){this._context=e}DG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wL(e),a=wL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wL(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function S4e(e){return new DG(e)}function gS(e,t){this._context=e,this._t=t}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function j4e(e){return new gS(e,.5)}function N4e(e){return new gS(e,0)}function k4e(e){return new gS(e,1)}function eg(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function QA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function A4e(e,t){return e[t]}function E4e(e){const t=[];return t.key=e,t}function C4e(){var e=oa([]),t=QA,r=eg,n=A4e;function a(i){var s=Array.from(e.apply(this,arguments),E4e),o,c=s.length,u=-1,f;for(const d of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(d,s[o].key,u,i)]).data=d;for(o=0,f=WT(t(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:oa(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:oa(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?QA:typeof i=="function"?i:oa(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??eg,a):r},a}function T4e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}eg(e,t)}}function P4e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}eg(e,t)}}function O4e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}c+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,eg(e,t)}}var LG={},IG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(IG);var VT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(VT);var RG={},vS={},MG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(MG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MG;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(vS);var BG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(BG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vS,r=BG;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(RG);var UG={},$G={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS;function r(n){return function(a){return t.get(a,n)}}e.property=r})($G);var zG={},cN={},uN={},HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(HT);var GT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(GT);var xS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(xS);var bL;function F4e(){return bL||(bL=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),r=HT,n=GT,a=xS;function i(d,h,p){return typeof p!="function"?t.isMatch(d,h):s(d,h,function g(m,v,x,y,b,j){const k=p(m,v,x,y,b,j);return k!==void 0?!!k:s(m,v,g,j)},new Map)}function s(d,h,p,g){if(h===d)return!0;switch(typeof h){case"object":return o(d,h,p,g);case"function":return Object.keys(h).length>0?s(d,{...h},p,g):a.eq(d,h);default:return r.isObject(d)?typeof h=="string"?h==="":!0:a.eq(d,h)}}function o(d,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(d,h,p,g);if(h instanceof Map)return c(d,h,p,g);if(h instanceof Set)return f(d,h,p,g);const m=Object.keys(h);if(d==null)return m.length===0;if(m.length===0)return!0;if(g&&g.has(h))return g.get(h)===d;g&&g.set(h,d);try{for(let v=0;v<m.length;v++){const x=m[v];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!p(d[x],h[x],x,d,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(d,h,p,g){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,v]of h.entries()){const x=d.get(m);if(p(x,v,m,d,h,g)===!1)return!1}return!0}function u(d,h,p,g){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let v=0;v<h.length;v++){const x=h[v];let y=!1;for(let b=0;b<d.length;b++){if(m.has(b))continue;const j=d[b];let k=!1;if(p(j,x,v,d,h,g)&&(k=!0),k){m.add(b),y=!0;break}}if(!y)return!1}return!0}function f(d,h,p,g){return h.size===0?!0:d instanceof Set?u([...d],[...h],p,g):!1}e.isMatchWith=i,e.isSetMatch=f}(uN)),uN}var _L;function KT(){return _L||(_L=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F4e();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(cN)),cN}var qG={},YT={},XT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(XT);var yS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yS);var wS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",f="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",m="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",E="[object BigInt64Array]",D="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=f,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=m,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=D,e.float64ArrayTag=M,e.functionTag=d,e.int16ArrayTag=O,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(wS);var WG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(WG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XT,r=yS,n=wS,a=GT,i=WG;function s(f,d){return o(f,void 0,f,new Map,d)}function o(f,d,h,p=new Map,g=void 0){const m=g==null?void 0:g(f,d,h,p);if(m!=null)return m;if(a.isPrimitive(f))return f;if(p.has(f))return p.get(f);if(Array.isArray(f)){const v=new Array(f.length);p.set(f,v);for(let x=0;x<f.length;x++)v[x]=o(f[x],x,h,p,g);return Object.hasOwn(f,"index")&&(v.index=f.index),Object.hasOwn(f,"input")&&(v.input=f.input),v}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const v=new RegExp(f.source,f.flags);return v.lastIndex=f.lastIndex,v}if(f instanceof Map){const v=new Map;p.set(f,v);for(const[x,y]of f)v.set(x,o(y,x,h,p,g));return v}if(f instanceof Set){const v=new Set;p.set(f,v);for(const x of f)v.add(o(x,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const v=new(Object.getPrototypeOf(f)).constructor(f.length);p.set(f,v);for(let x=0;x<f.length;x++)v[x]=o(f[x],x,h,p,g);return v}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const v=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return p.set(f,v),c(v,f,h,p,g),v}if(typeof File<"u"&&f instanceof File){const v=new File([f],f.name,{type:f.type});return p.set(f,v),c(v,f,h,p,g),v}if(f instanceof Blob){const v=new Blob([f],{type:f.type});return p.set(f,v),c(v,f,h,p,g),v}if(f instanceof Error){const v=new f.constructor;return p.set(f,v),v.message=f.message,v.name=f.name,v.stack=f.stack,v.cause=f.cause,c(v,f,h,p,g),v}if(typeof f=="object"&&u(f)){const v=Object.create(Object.getPrototypeOf(f));return p.set(f,v),c(v,f,h,p,g),v}return f}function c(f,d,h=f,p,g){const m=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<m.length;v++){const x=m[v],y=Object.getOwnPropertyDescriptor(f,x);(y==null||y.writable)&&(f[x]=o(d[x],x,h,p,g))}}function u(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(YT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(qG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),r=qG;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(zG);var VG={},HG={},GG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT,r=wS;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const f=i==null?void 0:i(s,o,c,u);if(f!=null)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(GG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GG;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(HG);var KG={},ZT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ZT);var YG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(YG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT,r=ZT,n=YG,a=aS;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let f=0;f<c.length;f++){const d=c[f];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=i})(KG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),r=MT,n=HG,a=nS,i=KG;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const f=a.get(u,o);return f===void 0?i.has(u,o):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=s})(VG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT,r=$G,n=zG,a=VG;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(UG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IG,r=VT,n=RG,a=UG;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(LG);var D4e=LG.uniqBy;const SL=ru(D4e);function L4e(e,t,r){return t===!0?SL(e,r):typeof t=="function"?SL(e,t):e}var XG={exports:{}},ZG={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=S,I4e=u9;function R4e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M4e=typeof Object.is=="function"?Object.is:R4e,B4e=I4e.useSyncExternalStore,U4e=bS.useRef,$4e=bS.useEffect,z4e=bS.useMemo,q4e=bS.useDebugValue;ZG.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=U4e(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=z4e(function(){function c(p){if(!u){if(u=!0,f=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return d=g}return d=p}if(g=d,M4e(f,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(f=p,g):(f=p,d=m)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=B4e(e,i[0],i[1]);return $4e(function(){s.hasValue=!0,s.value=o},[o]),q4e(o),o};XG.exports=ZG;var W4e=XG.exports,JT=S.createContext(null),V4e=e=>e,Es=()=>{var e=S.useContext(JT);return e?e.store.dispatch:V4e},Uw=()=>{},H4e=()=>Uw,G4e=(e,t)=>e===t;function Jt(e){var t=S.useContext(JT);return W4e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:H4e,t?t.store.getState:Uw,t?t.store.getState:Uw,t?e:Uw,G4e)}function K4e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Y4e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function X4e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var jL=e=>Array.isArray(e)?e:[e];function Z4e(e){const t=Array.isArray(e[0])?e[0]:e;return X4e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function J4e(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Q4e=class{constructor(e){this.value=e}deref(){return this.value}},eNe=typeof WeakRef<"u"?WeakRef:Q4e,tNe=0,NL=1;function nw(){return{s:tNe,v:void 0,o:null,p:null}}function JG(e,t={}){let r=nw();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var d;let o=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const v=m.get(g);v===void 0?(o=nw(),m.set(g,o)):o=v}else{let m=o.p;m===null&&(o.p=m=new Map);const v=m.get(g);v===void 0?(o=nw(),m.set(g,o)):o=v}}const u=o;let f;if(o.s===NL)f=o.v;else if(f=e.apply(null,arguments),i++,n){const h=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;h!=null&&n(h,f)&&(f=h,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new eNe(f):f}return u.s=NL,u.v=f,f}return s.clearCache=()=>{r=nw(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function rNe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),K4e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...r,...c},{memoize:d,memoizeOptions:h=[],argsMemoize:p=JG,argsMemoizeOptions:g=[],devModeChecks:m={}}=f,v=jL(h),x=jL(g),y=Z4e(a),b=d(function(){return i++,u.apply(null,arguments)},...v),j=p(function(){s++;const O=J4e(y,arguments);return o=b.apply(null,O),o},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Ke=rNe(JG),nNe=Object.assign((e,t=Ke)=>{Y4e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>nNe}),QG={},eK={},tK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(tK);var rK={},QT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(QT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(rK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tK,r=rK,n=aS;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let m=p;for(let v=0;v<g.length&&m!=null;++v)m=m[g[v]];return m},f=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,d=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:d.map(g=>f(g,p))})).slice().sort((p,g)=>{for(let m=0;m<d.length;m++){const v=t.compareValues(p.criteria[m],g.criteria[m],o[m]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(eK);var nK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const f=o[u];Array.isArray(f)&&c<i?s(f,c+1):a.push(f)}};return s(r,0),a}e.flatten=t})(nK);var eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZT,r=vS,n=HT,a=xS;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(eP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK,r=nK,n=eP;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(QG);var aNe=QG.sortBy;const _S=ru(aNe);var aK=e=>e.legend.settings,iNe=e=>e.legend.size,sNe=e=>e.legend.payload;Ke([sNe,aK],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_S(n,r):n});var aw=1;function oNe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>aw||Math.abs(s.left-t.left)>aw||Math.abs(s.top-t.top)>aw||Math.abs(s.width-t.width)>aw)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lNe=typeof Symbol=="function"&&Symbol.observable||"@@observable",kL=lNe,fN=()=>Math.random().toString(36).substring(7).split("").join("."),cNe={INIT:`@@redux/INIT${fN()}`,REPLACE:`@@redux/REPLACE${fN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fN()}`},v_=cNe;function tP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function iK(e,t,r){if(typeof e!="function")throw new Error(bi(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bi(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bi(1));return r(iK)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((v,x)=>{s.set(x,v)}))}function f(){if(c)throw new Error(bi(3));return a}function d(v){if(typeof v!="function")throw new Error(bi(4));if(c)throw new Error(bi(5));let x=!0;u();const y=o++;return s.set(y,v),function(){if(x){if(c)throw new Error(bi(6));x=!1,u(),s.delete(y),i=null}}}function h(v){if(!tP(v))throw new Error(bi(7));if(typeof v.type>"u")throw new Error(bi(8));if(typeof v.type!="string")throw new Error(bi(17));if(c)throw new Error(bi(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=s).forEach(y=>{y()}),v}function p(v){if(typeof v!="function")throw new Error(bi(10));n=v,h({type:v_.REPLACE})}function g(){const v=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(bi(11));function y(){const j=x;j.next&&j.next(f())}return y(),{unsubscribe:v(y)}},[kL](){return this}}}return h({type:v_.INIT}),{dispatch:h,subscribe:d,getState:f,replaceReducer:p,[kL]:g}}function uNe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:v_.INIT})>"u")throw new Error(bi(12));if(typeof r(void 0,{type:v_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bi(13))})}function sK(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{uNe(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let f=0;f<n.length;f++){const d=n[f],h=r[d],p=s[d],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(bi(14));u[d]=g,c=c||g!==p}return c=c||n.length!==Object.keys(s).length,c?u:s}}function x_(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fNe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bi(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=x_(...o)(a.dispatch),{...a,dispatch:i}}}function oK(e){return tP(e)&&"type"in e&&typeof e.type=="string"}var lK=Symbol.for("immer-nothing"),AL=Symbol.for("immer-draftable"),Oo=Symbol.for("immer-state");function Kl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tg=Object.getPrototypeOf;function N0(e){return!!e&&!!e[Oo]}function af(e){var t;return e?cK(e)||Array.isArray(e)||!!e[AL]||!!((t=e.constructor)!=null&&t[AL])||jS(e)||NS(e):!1}var dNe=Object.prototype.constructor.toString();function cK(e){if(!e||typeof e!="object")return!1;const t=tg(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dNe}function y_(e,t){SS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function SS(e){const t=e[Oo];return t?t.type_:Array.isArray(e)?1:jS(e)?2:NS(e)?3:0}function eE(e,t){return SS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uK(e,t,r){const n=SS(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function hNe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jS(e){return e instanceof Map}function NS(e){return e instanceof Set}function _h(e){return e.copy_||e.base_}function tE(e,t){if(jS(e))return new Map(e);if(NS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cK(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Oo];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(tg(e),n)}else{const n=tg(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function rP(e,t=!1){return kS(e)||N0(e)||!af(e)||(SS(e)>1&&(e.set=e.add=e.clear=e.delete=pNe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>rP(n,!0))),e}function pNe(){Kl(2)}function kS(e){return Object.isFrozen(e)}var mNe={};function k0(e){const t=mNe[e];return t||Kl(0,e),t}var b1;function fK(){return b1}function gNe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function EL(e,t){t&&(k0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rE(e){nE(e),e.drafts_.forEach(vNe),e.drafts_=null}function nE(e){e===b1&&(b1=e.parent_)}function CL(e){return b1=gNe(b1,e)}function vNe(e){const t=e[Oo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Oo].modified_&&(rE(t),Kl(4)),af(e)&&(e=w_(t,e),t.parent_||b_(t,e)),t.patches_&&k0("Patches").generateReplacementPatches_(r[Oo].base_,e,t.patches_,t.inversePatches_)):e=w_(t,r,[]),rE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lK?e:void 0}function w_(e,t,r){if(kS(t))return t;const n=t[Oo];if(!n)return y_(t,(a,i)=>PL(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return b_(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),y_(i,(o,c)=>PL(e,n,a,o,c,r,s)),b_(e,a,!1),r&&e.patches_&&k0("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function PL(e,t,r,n,a,i,s){if(N0(a)){const o=i&&t&&t.type_!==3&&!eE(t.assigned_,n)?i.concat(n):void 0,c=w_(e,a,o);if(uK(r,n,c),N0(c))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(af(a)&&!kS(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;w_(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&b_(e,a)}}function b_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rP(t,r)}function xNe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=nP;r&&(a=[n],i=_1);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var nP={get(e,t){if(t===Oo)return e;const r=_h(e);if(!eE(r,t))return yNe(e,r,t);const n=r[t];return e.finalized_||!af(n)?n:n===dN(e.base_,t)?(hN(e),e.copy_[t]=iE(n,e)):n},has(e,t){return t in _h(e)},ownKeys(e){return Reflect.ownKeys(_h(e))},set(e,t,r){const n=dK(_h(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=dN(_h(e),t),i=a==null?void 0:a[Oo];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(hNe(r,a)&&(r!==void 0||eE(e.base_,t)))return!0;hN(e),aE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return dN(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,hN(e),aE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kl(11)},getPrototypeOf(e){return tg(e.base_)},setPrototypeOf(){Kl(12)}},_1={};y_(nP,(e,t)=>{_1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_1.deleteProperty=function(e,t){return _1.set.call(this,e,t,void 0)};_1.set=function(e,t,r){return nP.set.call(this,e[0],t,r,e[0])};function dN(e,t){const r=e[Oo];return(r?_h(r):e)[t]}function yNe(e,t,r){var a;const n=dK(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function dK(e,t){if(!(t in e))return;let r=tg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=tg(r)}}function aE(e){e.modified_||(e.modified_=!0,e.parent_&&aE(e.parent_))}function hN(e){e.copy_||(e.copy_=tE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wNe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,f=>r.call(this,f,...u))}}typeof r!="function"&&Kl(6),n!==void 0&&typeof n!="function"&&Kl(7);let a;if(af(t)){const i=CL(this),s=iE(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?rE(i):nE(i)}return EL(i,n),TL(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lK&&(a=void 0),this.autoFreeze_&&rP(a,!0),n){const i=[],s=[];k0("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Kl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){af(e)||Kl(8),N0(e)&&(e=Vu(e));const t=CL(this),r=iE(e,void 0);return r[Oo].isManual_=!0,nE(t),r}finishDraft(e,t){const r=e&&e[Oo];(!r||!r.isManual_)&&Kl(9);const{scope_:n}=r;return EL(n,t),TL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=k0("Patches").applyPatches_;return N0(e)?n(e,t):this.produce(e,a=>n(a,t))}};function iE(e,t){const r=jS(e)?k0("MapSet").proxyMap_(e,t):NS(e)?k0("MapSet").proxySet_(e,t):xNe(e,t);return(t?t.scope_:fK()).drafts_.push(r),r}function Vu(e){return N0(e)||Kl(10,e),hK(e)}function hK(e){if(!af(e)||kS(e))return e;const t=e[Oo];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tE(e,t.scope_.immer_.useStrictShallowCopy_)}else r=tE(e,!0);return y_(r,(n,a)=>{uK(r,n,hK(a))}),t&&(t.finalized_=!1),r}var Fo=new wNe,pK=Fo.produce;Fo.produceWithPatches.bind(Fo);Fo.setAutoFreeze.bind(Fo);Fo.setUseStrictShallowCopy.bind(Fo);Fo.applyPatches.bind(Fo);Fo.createDraft.bind(Fo);Fo.finishDraft.bind(Fo);function mK(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var bNe=mK(),_Ne=mK,SNe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?x_:x_.apply(null,arguments)};function ml(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Eo(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>oK(n)&&n.type===e,r}var gK=class Wv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wv.prototype)}static get[Symbol.species](){return Wv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wv(...t[0].concat(this)):new Wv(...t.concat(this))}};function OL(e){return af(e)?pK(e,()=>{}):e}function iw(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function jNe(e){return typeof e=="boolean"}var NNe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new gK;return r&&(jNe(r)?s.push(bNe):s.push(_Ne(r.extraArgument))),s},kNe="RTK_autoBatch",FL=e=>t=>{setTimeout(t,e)},ANe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FL(10):e.type==="callback"?e.queueNotification:FL(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const d=()=>a&&f(),h=n.subscribe(d);return o.add(f),()=>{h(),o.delete(f)}},dispatch(f){var d;try{return a=!((d=f==null?void 0:f.meta)!=null&&d[kNe]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(f)}finally{a=!0}}})},ENe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new gK(e);return n&&a.push(ANe(typeof n=="object"?n:void 0)),a};function CNe(e){const t=NNe(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(tP(r))c=sK(r);else throw new Error(Eo(1));let u;typeof n=="function"?u=n(t):u=t();let f=x_;a&&(f=SNe({trace:!1,...typeof a=="object"&&a}));const d=fNe(...u),h=ENe(d);let p=typeof o=="function"?o(h):h();const g=f(...p);return iK(c,s,g)}function vK(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Eo(28));if(o in t)throw new Error(Eo(29));return t[o]=s,a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function TNe(e){return typeof e=="function"}function PNe(e,t){let[r,n,a]=vK(t),i;if(TNe(e))i=()=>OL(e());else{const o=OL(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[a]),u.reduce((f,d)=>{if(d)if(N0(f)){const p=d(f,c);return p===void 0?f:p}else{if(af(f))return pK(f,h=>d(h,c));{const h=d(f,c);if(h===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return f},o)}return s.getInitialState=i,s}var ONe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FNe=(e=21)=>{let t="",r=e;for(;r--;)t+=ONe[Math.random()*64|0];return t},DNe=Symbol.for("rtk-slice-createasyncthunk");function LNe(e,t){return`${e}/${t}`}function INe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[DNe];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Eo(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(MNe()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,k){const O=typeof j=="string"?j:j.type;if(!O)throw new Error(Eo(12));if(O in u.sliceCaseReducersByType)throw new Error(Eo(13));return u.sliceCaseReducersByType[O]=k,f},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),f},exposeAction(j,k){return u.actionCreators[j]=k,f},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,f}};c.forEach(j=>{const k=o[j],O={reducerName:j,type:LNe(i,j),createNotation:typeof a.reducers=="function"};UNe(k)?zNe(O,k,f,t):BNe(O,k,f)});function d(){const[j={},k=[],O=void 0]=typeof a.extraReducers=="function"?vK(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return PNe(a.initialState,E=>{for(let D in N)E.addCase(D,N[D]);for(let D of u.sliceMatchers)E.addMatcher(D.matcher,D.reducer);for(let D of k)E.addMatcher(D.matcher,D.reducer);O&&E.addDefaultCase(O)})}const h=j=>j,p=new Map,g=new WeakMap;let m;function v(j,k){return m||(m=d()),m(j,k)}function x(){return m||(m=d()),m.getInitialState()}function y(j,k=!1){function O(E){let D=E[j];return typeof D>"u"&&k&&(D=iw(g,O,x)),D}function N(E=h){const D=iw(p,k,()=>new WeakMap);return iw(D,E,()=>{const M={};for(const[C,P]of Object.entries(a.selectors??{}))M[C]=RNe(P,E,()=>iw(g,E,x),k);return M})}return{reducerPath:j,getSelectors:N,get selectors(){return N(O)},selectSlice:O}}const b={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(s),injectInto(j,{reducerPath:k,...O}={}){const N=k??s;return j.inject({reducerPath:N,reducer:v},O),{...b,...y(N,!0)}}};return b}}function RNe(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var wl=INe();function MNe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BNe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!$Ne(n))throw new Error(Eo(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?ml(e,s):ml(e))}function UNe(e){return e._reducerDefinitionType==="asyncThunk"}function $Ne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zNe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Eo(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:f}=r,d=a(e,i,f);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),c&&n.addCase(d.rejected,c),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||sw,pending:o||sw,rejected:c||sw,settled:u||sw})}function sw(){}var qNe="task",xK="listener",yK="completed",aP="cancelled",WNe=`task-${aP}`,VNe=`task-${yK}`,sE=`${xK}-${aP}`,HNe=`${xK}-${yK}`,AS=class{constructor(e){Fj(this,"name","TaskAbortError");Fj(this,"message");this.code=e,this.message=`${qNe} ${aP} (reason: ${e})`}},iP=(e,t)=>{if(typeof e!="function")throw new TypeError(Eo(32))},__=()=>{},wK=(e,t=__)=>(e.catch(t),e),bK=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jh=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qh=e=>{if(e.aborted){const{reason:t}=e;throw new AS(t)}};function _K(e,t){let r=__;return new Promise((n,a)=>{const i=()=>a(new AS(e.reason));if(e.aborted){i();return}r=bK(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=__})}var GNe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof AS?"cancelled":"rejected",error:r}}finally{t==null||t()}},S_=e=>t=>wK(_K(e,t).then(r=>(Qh(e),r))),SK=e=>{const t=S_(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:_m}=Object,DL={},ES="listenerMiddleware",KNe=(e,t)=>{const r=n=>bK(e,()=>Jh(n,e.reason));return(n,a)=>{iP(n);const i=new AbortController;r(i);const s=GNe(async()=>{Qh(e),Qh(i.signal);const o=await n({pause:S_(i.signal),delay:SK(i.signal),signal:i.signal});return Qh(i.signal),o},()=>Jh(i,VNe));return a!=null&&a.autoJoin&&t.push(s.catch(__)),{result:S_(e)(s),cancel(){Jh(i,WNe)}}}},YNe=(e,t)=>{const r=async(n,a)=>{Qh(t);let i=()=>{};const o=[new Promise((c,u)=>{let f=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),c([d,h.getState(),h.getOriginalState()])}});i=()=>{f(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await _K(t,Promise.race(o));return Qh(t),c}finally{i()}};return(n,a)=>wK(r(n,a))},jK=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ml(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Eo(21));return iP(i),{predicate:a,type:t,effect:i}},NK=_m(e=>{const{type:t,predicate:r,effect:n}=jK(e);return{id:FNe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Eo(22))}}},{withTypes:()=>NK}),LL=(e,t)=>{const{type:r,effect:n,predicate:a}=jK(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},oE=e=>{e.pending.forEach(t=>{Jh(t,sE)})},XNe=e=>()=>{e.forEach(oE),e.clear()},IL=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},kK=_m(ml(`${ES}/add`),{withTypes:()=>kK}),ZNe=ml(`${ES}/removeAll`),AK=_m(ml(`${ES}/remove`),{withTypes:()=>AK}),JNe=(...e)=>{console.error(`${ES}/error`,...e)},dy=(e={})=>{const t=new Map,{extra:r,onError:n=JNe}=e;iP(n);const a=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),d=>{f.unsubscribe(),d!=null&&d.cancelActive&&oE(f)}),i=f=>{const d=LL(t,f)??NK(f);return a(d)};_m(i,{withTypes:()=>i});const s=f=>{const d=LL(t,f);return d&&(d.unsubscribe(),f.cancelActive&&oE(d)),!!d};_m(s,{withTypes:()=>s});const o=async(f,d,h,p)=>{const g=new AbortController,m=YNe(i,g.signal),v=[];try{f.pending.add(g),await Promise.resolve(f.effect(d,_m({},h,{getOriginalState:p,condition:(x,y)=>m(x,y).then(Boolean),take:m,delay:SK(g.signal),pause:S_(g.signal),extra:r,signal:g.signal,fork:KNe(g.signal,v),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((x,y,b)=>{x!==g&&(Jh(x,sE),b.delete(x))})},cancel:()=>{Jh(g,sE),f.pending.delete(g)},throwIfCancelled:()=>{Qh(g.signal)}})))}catch(x){x instanceof AS||IL(n,x,{raisedBy:"effect"})}finally{await Promise.all(v),Jh(g,HNe),f.pending.delete(g)}},c=XNe(t);return{middleware:f=>d=>h=>{if(!oK(h))return d(h);if(kK.match(h))return i(h.payload);if(ZNe.match(h)){c();return}if(AK.match(h))return s(h.payload);let p=f.getState();const g=()=>{if(p===DL)throw new Error(Eo(23));return p};let m;try{if(m=d(h),t.size>0){const v=f.getState(),x=Array.from(t.values());for(const y of x){let b=!1;try{b=y.predicate(h,v,p)}catch(j){b=!1,IL(n,j,{raisedBy:"predicate"})}b&&o(y,h,f,g)}}}finally{p=DL}return m},startListening:i,stopListening:s,clearListeners:c}};function Eo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QNe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EK=wl({name:"chartLayout",initialState:QNe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:eke,setLayout:tke,setChartSize:rke,setScale:nke}=EK.actions,ake=EK.reducer;function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ML(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){ike(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ike(e,t,r){return(t=ske(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ske(e){var t=oke(e,"string");return typeof t=="symbol"?t:t+""}function oke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_=Math.PI/180,lke=e=>e*180/Math.PI,Ci=(e,t,r,n)=>({x:e+Math.cos(-j_*n)*r,y:t+Math.sin(-j_*n)*r}),cke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uke=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},fke=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=uke({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:lke(c),angleInRadian:c}},dke=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},hke=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},pke=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=fke({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=dke(t),f=i,d;if(c<=u){for(;f>u;)f-=360;for(;f<c;)f+=360;d=f>=c&&f<=u}else{for(;f>c;)f-=360;for(;f<u;)f+=360;d=f>=u&&f<=c}return d?ML(ML({},t),{},{radius:a,angle:hke(f,t)}):null};function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){mke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mke(e,t,r){return(t=gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gke(e){var t=vke(e,"string");return typeof t=="symbol"?t:t+""}function vke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Co(e,t,r){return ja(e)||ja(t)?r:eu(t)?j0(e,t,r):typeof t=="function"?t(e):r}var xke=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,f=r[c].coordinate,d=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(al(f-u)!==al(d-f)){var p=[];if(al(d-f)===al(a[1]-a[0])){h=d;var g=f+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var m=d+a[1]-a[0];p[0]=Math.min(f,(m+f)/2),p[1]=Math.max(f,(m+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var x=Math.min(u,d),y=Math.max(u,d);if(e>(x+f)/2&&e<=(y+f)/2){({index:s}=r[c]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},yke=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Wt(e[i]))return rl(rl({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Wt(e[s]))return rl(rl({},e),{},{[s]:e[s]+(a||0)})}return e},eh=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CK=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},TK=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:f,ticks:d,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=a==="category"&&s.bandwidth?s.bandwidth()/g:0;if(m=p==="angleAxis"&&i&&i.length>=2?al(i[0]-i[1])*2*m:m,d||h){var v=(d||h||[]).map((x,y)=>{var b=n?n.indexOf(x):x;return{coordinate:s(b)+m,value:x,offset:m,index:y}});return v.filter(x=>!pl(x.coordinate))}return c&&u?u.map((x,y)=>({coordinate:s(x)+m,value:x,index:y,offset:m})):s.ticks&&!r&&f!=null?s.ticks(f).map((x,y)=>({coordinate:s(x)+m,value:x,offset:m,index:y})):s.domain().map((x,y)=>({coordinate:s(x)+m,value:n?n[x]:x,index:y,offset:m}))},UL=1e-4,wke=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-UL,i=Math.max(n[0],n[1])+UL,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},bke=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=pl(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},_ke=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=pl(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Ske={sign:bke,expand:T4e,none:eg,silhouette:P4e,wiggle:O4e,positive:_ke},jke=(e,t,r)=>{var n=Ske[r],a=C4e().keys(t).value((i,s)=>+Co(i,s,0)).order(QA).offset(n);return a(e)};function Nke(e){return e==null?void 0:String(e)}function $L(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ja(a[t.dataKey])){var o=gG(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Co(a,ja(s)?t.dataKey:s);return ja(c)?null:t.scale(c)}var kke=e=>{var t=e.flat(2).filter(Wt);return[Math.min(...t),Math.max(...t)]},Ake=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Eke=(e,t,r)=>{if(e!=null)return Ake(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var f=kke(u.slice(t,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},zL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lE=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=_S(t,f=>f.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function WL(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return rl(rl({},t),{},{dataKey:r,payload:n,value:a,name:i})}function PK(e,t){if(e)return String(e);if(typeof t=="string")return t}function Cke(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?pke({x:e,y:t},n):null}var Tke=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return rl(rl(rl({},n),Ci(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return rl(rl(rl({},n),Ci(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},Pke=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,pf=e=>e.layout.width,mf=e=>e.layout.height,Oke=e=>e.layout.scale,OK=e=>e.layout.margin,sP=Ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),oP=Ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Fke="data-recharts-item-index",Dke="data-recharts-item-data-key",CS=60;function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){Lke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lke(e,t,r){return(t=Ike(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Rke(e,"string");return typeof t=="symbol"?t:t+""}function Rke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mke=e=>e.brush.height,Di=Ke([pf,mf,OK,Mke,sP,oP,aK,iNe],(e,t,r,n,a,i,s,o)=>{var c=i.reduce((g,m)=>{var{orientation:v}=m;if(!m.mirror&&!m.hide){var x=typeof m.width=="number"?m.width:CS;return Uf(Uf({},g),{},{[v]:g[v]+x})}return g},{left:r.left||0,right:r.right||0}),u=a.reduce((g,m)=>{var{orientation:v}=m;return!m.mirror&&!m.hide?Uf(Uf({},g),{},{[v]:j0(g,"".concat(v))+m.height}):g},{top:r.top||0,bottom:r.bottom||0}),f=Uf(Uf({},u),c),d=f.bottom;f.bottom+=n,f=yke(f,s,o);var h=e-f.left-f.right,p=t-f.top-f.bottom;return Uf(Uf({brushBottom:d},f),{},{width:Math.max(h,0),height:Math.max(p,0)})}),Bke=Ke(Di,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),FK=Ke(pf,mf,(e,t)=>({x:0,y:0,width:e,height:t})),Uke=S.createContext(null),Zs=()=>S.useContext(Uke)!=null,TS=e=>e.brush,PS=Ke([TS,Di,OK],(e,t,r)=>({height:e.height,x:Wt(e.x)?e.x:t.left,y:Wt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Wt(e.width)?e.width:t.width})),lP=()=>{var e,t=Zs(),r=Jt(Bke),n=Jt(PS),a=(e=Jt(TS))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},$ke={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DK=()=>{var e;return(e=Jt(Di))!==null&&e!==void 0?e:$ke},LK=()=>Jt(pf),IK=()=>Jt(mf),ta=e=>e.layout.layoutType,cP=()=>Jt(ta),zke={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RK=wl({name:"legend",initialState:zke,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Vu(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:PLe,setLegendSettings:OLe,addLegendPayload:qke,removeLegendPayload:Wke}=RK.actions,Vke=RK.reducer;function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cE.apply(null,arguments)}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(n){Hke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hke(e,t,r){return(t=Gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gke(e){var t=Kke(e,"string");return typeof t=="symbol"?t:t+""}function Kke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yke(e){return Array.isArray(e)&&eu(e[0])&&eu(e[1])?e.join(" ~ "):e}var Xke=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:f,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var k={padding:0,margin:0},O=(o?_S(i,o):i).map((N,E)=>{if(N.type==="none")return null;var D=N.formatter||s||Yke,{value:M,name:C}=N,P=M,R=C;if(D){var U=D(M,C,N,E,i);if(Array.isArray(U))[P,R]=U;else if(U!=null)P=U;else return null}var ee=pN({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ee},eu(R)?S.createElement("span",{className:"recharts-tooltip-item-name"},R):null,eu(R)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},P),S.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},g=pN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=pN({margin:0},a),v=!ja(f),x=v?f:"",y=_n("recharts-default-tooltip",c),b=_n("recharts-tooltip-label",u);v&&d&&i!==void 0&&i!==null&&(x=d(f,i));var j=h?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",cE({className:y,style:g},j),S.createElement("p",{className:b,style:m},S.isValidElement(x)?x:"".concat(x)),p())},jv="recharts-tooltip-wrapper",Zke={visibility:"hidden"};function Jke(e){var{coordinate:t,translateX:r,translateY:n}=e;return _n(jv,{["".concat(jv,"-right")]:Wt(r)&&t&&Wt(t.x)&&r>=t.x,["".concat(jv,"-left")]:Wt(r)&&t&&Wt(t.x)&&r<t.x,["".concat(jv,"-bottom")]:Wt(n)&&t&&Wt(t.y)&&n>=t.y,["".concat(jv,"-top")]:Wt(n)&&t&&Wt(t.y)&&n<t.y})}function GL(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Wt(i[n]))return i[n];var f=r[n]-o-(a>0?a:0),d=r[n]+a;if(t[n])return s[n]?f:d;var h=c[n];if(h==null)return 0;if(s[n]){var p=f,g=h;return p<g?Math.max(d,h):Math.max(f,h)}if(u==null)return 0;var m=d+o,v=h+u;return m>v?Math.max(f,h):Math.max(d,h)}function Qke(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eAe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,f,d;return s.height>0&&s.width>0&&r?(f=GL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=GL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Qke({translateX:f,translateY:d,useTranslate3d:o})):u=Zke,{cssProperties:u,cssClasses:Jke({translateX:f,translateY:d,coordinate:r})}}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){uE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uE(e,t,r){return(t=tAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tAe(e){var t=rAe(e,"string");return typeof t=="symbol"?t:t+""}function rAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nAe extends S.PureComponent{constructor(){super(...arguments),uE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:f,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:m,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:y,cssProperties:b}=eAe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:f,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:p}),j=x?{}:ow(ow({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=ow(ow({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:k,ref:v},i)}}var aAe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hy={isSsr:aAe()},MK=()=>Jt(e=>e.rootProps.accessibilityLayer);function uc(e){return Number.isFinite(e)}function N_(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(null,arguments)}function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){iAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iAe(e,t,r){return(t=sAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sAe(e){var t=oAe(e,"string");return typeof t=="symbol"?t:t+""}function oAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZL={curveBasisClosed:x4e,curveBasisOpen:y4e,curveBasis:v4e,curveBumpX:m4e,curveBumpY:g4e,curveLinearClosed:w4e,curveLinear:mS,curveMonotoneX:b4e,curveMonotoneY:_4e,curveNatural:S4e,curveStep:j4e,curveStepAfter:k4e,curveStepBefore:N4e},lw=e=>uc(e.x)&&uc(e.y),Nv=e=>e.x,kv=e=>e.y,lAe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($T(e));return(r==="curveMonotone"||r==="curveBump")&&t?ZL["".concat(r).concat(t==="vertical"?"Y":"X")]:ZL[r]||mS},cAe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=lAe(t,a),o=i?r.filter(lw):r,c;if(Array.isArray(n)){var u=i?n.filter(d=>lw(d)):n,f=o.map((d,h)=>XL(XL({},d),{},{base:u[h]}));return a==="vertical"?c=rw().y(kv).x1(Nv).x0(d=>d.base.x):c=rw().x(Nv).y1(kv).y0(d=>d.base.y),c.defined(lw).curve(s),c(f)}return a==="vertical"&&Wt(n)?c=rw().y(kv).x1(Nv).x0(n):Wt(n)?c=rw().x(Nv).y1(kv).y0(n):c=kG().x(Nv).y(kv),c.defined(lw).curve(s),c(o)},BK=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?cAe(e):n;return S.createElement("path",fE({},In(e,!1),qT(e),{className:_n("recharts-curve",t),d:i===null?void 0:i,ref:a}))},uAe=["x","y","top","left","width","height","className"];function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dE.apply(null,arguments)}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){dAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dAe(e,t,r){return(t=hAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hAe(e){var t=pAe(e,"string");return typeof t=="symbol"?t:t+""}function pAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mAe(e,t){if(e==null)return{};var r,n,a=gAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vAe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),xAe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=mAe(e,uAe),u=fAe({x:t,y:r,top:n,left:a,width:i,height:s},c);return!Wt(t)||!Wt(r)||!Wt(i)||!Wt(s)||!Wt(n)||!Wt(a)?null:S.createElement("path",dE({},In(u,!0),{className:_n("recharts-cross",o),d:vAe(t,r,i,s,n,a)}))};function yAe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){bAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t,r){return(t=_Ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ae(e){var t=SAe(e,"string");return typeof t=="symbol"?t:t+""}function SAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0(e,t){var r=wAe({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}var UK={},$K={},zK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(zK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK,r=XT,n=yS,a=wS,i=xS;function s(u,f,d){return o(u,f,void 0,void 0,void 0,void 0,d)}function o(u,f,d,h,p,g,m){const v=m(u,f,d,h,p,g);if(v!==void 0)return v;if(typeof u==typeof f)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===f;case"number":return u===f||Object.is(u,f);case"function":return u===f;case"object":return c(u,f,g,m)}return c(u,f,g,m)}function c(u,f,d,h){if(Object.is(u,f))return!0;let p=n.getTag(u),g=n.getTag(f);if(p===a.argumentsTag&&(p=a.objectTag),g===a.argumentsTag&&(g=a.objectTag),p!==g)return!1;switch(p){case a.stringTag:return u.toString()===f.toString();case a.numberTag:{const x=u.valueOf(),y=f.valueOf();return i.eq(x,y)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),f.valueOf());case a.regexpTag:return u.source===f.source&&u.flags===f.flags;case a.functionTag:return u===f}d=d??new Map;const m=d.get(u),v=d.get(f);if(m!=null&&v!=null)return m===f;d.set(u,f),d.set(f,u);try{switch(p){case a.mapTag:{if(u.size!==f.size)return!1;for(const[x,y]of u.entries())if(!f.has(x)||!o(y,f.get(x),x,u,f,d,h))return!1;return!0}case a.setTag:{if(u.size!==f.size)return!1;const x=Array.from(u.values()),y=Array.from(f.values());for(let b=0;b<x.length;b++){const j=x[b],k=y.findIndex(O=>o(j,O,void 0,u,f,d,h));if(k===-1)return!1;y.splice(k,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(f)||u.length!==f.length)return!1;for(let x=0;x<u.length;x++)if(!o(u[x],f[x],x,u,f,d,h))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==f.byteLength?!1:c(new Uint8Array(u),new Uint8Array(f),d,h);case a.dataViewTag:return u.byteLength!==f.byteLength||u.byteOffset!==f.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(f),d,h);case a.errorTag:return u.name===f.name&&u.message===f.message;case a.objectTag:{if(!(c(u.constructor,f.constructor,d,h)||t.isPlainObject(u)&&t.isPlainObject(f)))return!1;const y=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(f),...r.getSymbols(f)];if(y.length!==b.length)return!1;for(let j=0;j<y.length;j++){const k=y[j],O=u[k];if(!Object.hasOwn(f,k))return!1;const N=f[k];if(!o(O,N,k,u,f,d,h))return!1}return!0}default:return!1}}finally{d.delete(u),d.delete(f)}}e.isEqualWith=s})($K);var qK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(qK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$K,r=qK;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(UK);var jAe=UK.isEqual;const NAe=ru(jAe);function kAe(e){var t={},r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}var k_=1e-4,WK=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],VK=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),eI=(e,t)=>r=>{var n=WK(e,t);return VK(n,r)},AAe=(e,t)=>r=>{var n=WK(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return VK(a,r)},tI=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,a]=s);var u=eI(t,r),f=eI(n,a),d=AAe(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var m=g>1?1:g,v=m,x=0;x<8;++x){var y=u(v)-m,b=d(v);if(Math.abs(y-m)<k_||b<k_)return f(v);v=h(v-y/b)}return f(v)};return p.isStepper=!1,p},EAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,f=c*n,d=c+(u-f)*a/1e3,h=c*a/1e3+s;return Math.abs(h-o)<k_&&Math.abs(d)<k_?[o,0]:[h,d]};return i.isStepper=!0,i.dt=a,i},CAe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tI(e);case"spring":return EAe();default:if(e.split("(")[0]==="cubic-bezier")return tI(e)}return typeof e=="function"?e:null};function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){TAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t,r){return(t=PAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PAe(e){var t=OAe(e,"string");return typeof t=="symbol"?t:t+""}function OAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FAe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DAe=(e,t,r)=>e.map(n=>"".concat(FAe(n)," ").concat(t,"ms ").concat(r)).join(","),LAe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),S1=(e,t)=>Object.keys(t).reduce((r,n)=>nI(nI({},r),{},{[n]:e(n,t[n])}),{});function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){IAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IAe(e,t,r){return(t=RAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RAe(e){var t=MAe(e,"string");return typeof t=="symbol"?t:t+""}function MAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_=(e,t,r)=>e+(t-e)*r,hE=e=>{var{from:t,to:r}=e;return t!==r},HK=(e,t,r)=>{var n=S1((a,i)=>{if(hE(i)){var[s,o]=e(i.from,i.to,i.velocity);return Si(Si({},i),{},{from:s,velocity:o})}return i},t);return r<1?S1((a,i)=>hE(i)?Si(Si({},i),{},{velocity:A_(i.velocity,n[a].velocity,r),from:A_(i.from,n[a].from,r)}):i,t):HK(e,n,r-1)};function BAe(e,t,r,n,a,i){var s,o=n.reduce((h,p)=>Si(Si({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>S1((h,p)=>p.from,o),u=()=>!Object.values(o).filter(hE).length,f=null,d=h=>{s||(s=h);var p=h-s,g=p/r.dt;o=HK(r,o,g),a(Si(Si(Si({},e),t),c())),s=h,u()||(f=i.setTimeout(d))};return()=>(f=i.setTimeout(d),()=>{f()})}function UAe(e,t,r,n,a,i,s){var o=null,c=a.reduce((d,h)=>Si(Si({},d),{},{[h]:[e[h],t[h]]}),{}),u,f=d=>{u||(u=d);var h=(d-u)/n,p=S1((m,v)=>A_(...v,r(h)),c);if(i(Si(Si(Si({},e),t),p)),h<1)o=s.setTimeout(f);else{var g=S1((m,v)=>A_(...v,r(1)),c);i(Si(Si(Si({},e),t),g))}};return()=>(o=s.setTimeout(f),()=>{o()})}const $Ae=(e,t,r,n,a,i)=>{var s=LAe(e,t);return r.isStepper===!0?BAe(e,t,r,s,a,i):UAe(e,t,r,n,s,a,i)};class zAe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var qAe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pE.apply(null,arguments)}function WAe(e,t){if(e==null)return{};var r,n,a=VAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){Fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fh(e,t,r){return(t=HAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HAe(e){var t=GAe(e,"string");return typeof t=="symbol"?t:t+""}function GAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KAe(){return kAe(new zAe)}class uP extends S.PureComponent{constructor(t,r){super(t,r),Fh(this,"mounted",!1),Fh(this,"manager",null),Fh(this,"stopJSAnimation",null),Fh(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:s,children:o,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:s});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:s,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:a?{[a]:s}:s};this.state&&c&&(a&&c[a]!==s||!a&&c!==s)&&this.setState(u);return}if(!(NAe(t.to,s)&&t.canBegin&&t.isActive)){var f=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=f||i?o:t.to;if(this.state&&c){var h={style:a?{[a]:d}:d};(a&&c[a]!==d||!a&&c!==d)&&this.setState(h)}this.runAnimation($f($f({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c}=t,u=$Ae(r,n,CAe(i),a,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=u()};this.manager.start([c,s,f,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:s,onAnimationStart:o,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(t);return}var f=a?{[a]:i}:i,d=DAe(Object.keys(f),n,s);this.manager.start([o,r,$f($f({},f),{},{transition:d}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:s,isActive:o,from:c,to:u,canBegin:f,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=t,m=WAe(t,qAe),v=S.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!o||v===0||a<=0)return r;var y=b=>{var{style:j={},className:k}=b.props,O=S.cloneElement(b,$f($f({},m),{},{style:$f($f({},j),x),className:k}));return O};return v===1?y(S.Children.only(r)):S.createElement("div",null,S.Children.map(r,b=>y(b)))}}Fh(uP,"displayName","Animate");Fh(uP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var YAe=S.createContext(null);function E_(e){var t,r,n=S.useContext(YAe);return S.createElement(uP,pE({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:KAe()}))}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(null,arguments)}var sI=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>i?i:a[d];u="M".concat(e,",").concat(t+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+o*f[0],",").concat(t)),u+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*f[1])),u+="L ".concat(e+r,",").concat(t+n-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),u+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*f[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},XAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZAe=e=>{var t=U0(e,XAe),r=S.useRef(null),[n,a]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:f}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t;if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var v=_n("recharts-rectangle",f);return m?S.createElement(E_,{canBegin:n>0,from:{width:o,height:c,x:i,y:s},to:{width:o,height:c,x:i,y:s},duration:h,animationEasing:d,isActive:m},x=>{var{width:y,height:b,x:j,y:k}=x;return S.createElement(E_,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:d},S.createElement("path",C_({},In(t,!0),{className:v,d:sI(j,k,y,b,u),ref:r})))}):S.createElement("path",C_({},In(t,!0),{className:v,d:sI(i,s,o,c,u)}))};function GK(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Ci(t,r,n,a),o=Ci(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mE.apply(null,arguments)}var JAe=(e,t)=>{var r=al(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cw=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,f=Math.asin(o/u)/j_,d=c?a:a+i*f,h=Ci(t,r,u,d),p=Ci(t,r,n,d),g=c?a-i*f:a,m=Ci(t,r,u*Math.cos(f*j_),g);return{center:h,circleTangency:p,lineTangency:m,theta:f}},KK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=JAe(i,s),c=i+o,u=Ci(t,r,a,i),f=Ci(t,r,a,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var h=Ci(t,r,n,i),p=Ci(t,r,n,c);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},QAe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,f=al(u-c),{circleTangency:d,lineTangency:h,theta:p}=cw({cx:t,cy:r,radius:a,angle:c,sign:f,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:m,theta:v}=cw({cx:t,cy:r,radius:a,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:o}),x=o?Math.abs(c-u):Math.abs(c-u)-p-v;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):KK({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=cw({cx:t,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:N,theta:E}=cw({cx:t,cy:r,radius:n,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),D=o?Math.abs(c-u):Math.abs(c-u)-k-E;if(D<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},eEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tEe=e=>{var t=U0(e,eEe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f,className:d}=t;if(i<a||u===f)return null;var h=_n("recharts-sector",d),p=i-a,g=zd(s,p,0,!0),m;return g>0&&Math.abs(u-f)<360?m=QAe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}):m=KK({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f}),S.createElement("path",mE({},In(t,!0),{className:h,d:m}))};function rEe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:f,angle:d}=t,h=Ci(o,c,u,d),p=Ci(o,c,f,d);n=h.x,a=h.y,i=p.x,s=p.y}else return GK(t);return[{x:n,y:a},{x:i,y:s}]}var YK={},XK={},ZK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ZK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZK;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(XK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,r=XK;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(YK);var nEe=YK.range;const JK=ru(nEe);function Sd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fP(e){let t,r,n;e.length!==2?(t=Sd,r=(o,c)=>Sd(e(o),c),n=(o,c)=>e(o)-c):(t=e===Sd||e===aEe?e:iEe,r=e,n=e);function a(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(o[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(o[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function s(o,c,u=0,f=o.length){const d=a(o,c,u,f-1);return d>u&&n(o[d-1],c)>-n(o[d],c)?d-1:d}return{left:a,center:s,right:i}}function iEe(){return 0}function QK(e){return e===null?NaN:+e}function*sEe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oEe=fP(Sd),py=oEe.right;fP(QK).center;class oI extends Map{constructor(t,r=uEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(lI(this,t))}has(t){return super.has(lI(this,t))}set(t,r){return super.set(lEe(this,t),r)}delete(t){return super.delete(cEe(this,t))}}function lI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fEe(e=Sd){if(e===Sd)return eY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dEe=Math.sqrt(50),hEe=Math.sqrt(10),pEe=Math.sqrt(2);function T_(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=dEe?10:i>=hEe?5:i>=pEe?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?T_(e,t,r*2):[o,c,u]}function gE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?T_(t,e,r):T_(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function vE(e,t,r){return t=+t,e=+e,r=+r,T_(e,t,r)[2]}function xE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vE(t,e,r):vE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function cI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?eY:fEe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),g=Math.min(n,Math.floor(t+(c-u)*d/c+h));tY(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Av(e,r,t),a(e[n],i)>0&&Av(e,r,n);s<o;){for(Av(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Av(e,r,o):(++o,Av(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Av(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mEe(e,t,r){if(e=Float64Array.from(sEe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uI(e);if(t>=1)return cI(e);var n,a=(n-1)*t,i=Math.floor(a),s=cI(tY(e,i).subarray(0,i+1)),o=uI(e.subarray(i+1));return s+(o-s)*(a-i)}}function gEe(e,t,r=QK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function vEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function bl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yE=Symbol("implicit");function dP(){var e=new oI,t=[],r=[],n=yE;function a(i){let s=e.get(i);if(s===void 0){if(n!==yE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oI;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dP(t,r).unknown(n)},bl.apply(a,arguments),a}function hP(){var e=dP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*f,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var v=vEe(h).map(function(x){return g+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return hP(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(f)},bl.apply(d(),arguments)}function rY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rY(t())},e}function xEe(){return rY(hP.apply(null,arguments).paddingInner(1))}function pP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function my(){}var j1=.7,P_=1/j1,Sm="\\s*([+-]?\\d+)\\s*",N1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yEe=/^#([0-9a-f]{3,8})$/,wEe=new RegExp(`^rgb\\(${Sm},${Sm},${Sm}\\)$`),bEe=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),_Ee=new RegExp(`^rgba\\(${Sm},${Sm},${Sm},${N1}\\)$`),SEe=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${N1}\\)$`),jEe=new RegExp(`^hsl\\(${N1},${Kc},${Kc}\\)$`),NEe=new RegExp(`^hsla\\(${N1},${Kc},${Kc},${N1}\\)$`),fI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pP(my,k1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dI,formatHex:dI,formatHex8:kEe,formatHsl:AEe,formatRgb:hI,toString:hI});function dI(){return this.rgb().formatHex()}function kEe(){return this.rgb().formatHex8()}function AEe(){return aY(this).formatHsl()}function hI(){return this.rgb().formatRgb()}function k1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pI(t):r===3?new Ws(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wEe.exec(e))?new Ws(t[1],t[2],t[3],1):(t=bEe.exec(e))?new Ws(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Ee.exec(e))?uw(t[1],t[2],t[3],t[4]):(t=SEe.exec(e))?uw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jEe.exec(e))?vI(t[1],t[2]/100,t[3]/100,1):(t=NEe.exec(e))?vI(t[1],t[2]/100,t[3]/100,t[4]):fI.hasOwnProperty(e)?pI(fI[e]):e==="transparent"?new Ws(NaN,NaN,NaN,0):null}function pI(e){return new Ws(e>>16&255,e>>8&255,e&255,1)}function uw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ws(e,t,r,n)}function EEe(e){return e instanceof my||(e=k1(e)),e?(e=e.rgb(),new Ws(e.r,e.g,e.b,e.opacity)):new Ws}function wE(e,t,r,n){return arguments.length===1?EEe(e):new Ws(e,t,r,n??1)}function Ws(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pP(Ws,wE,nY(my,{brighter(e){return e=e==null?P_:Math.pow(P_,e),new Ws(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?j1:Math.pow(j1,e),new Ws(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ws(e0(this.r),e0(this.g),e0(this.b),O_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mI,formatHex:mI,formatHex8:CEe,formatRgb:gI,toString:gI}));function mI(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}`}function CEe(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}${Dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function gI(){const e=O_(this.opacity);return`${e===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${e===1?")":`, ${e})`}`}function O_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function e0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dh(e){return e=e0(e),(e<16?"0":"")+e.toString(16)}function vI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yl(e,t,r,n)}function aY(e){if(e instanceof Yl)return new Yl(e.h,e.s,e.l,e.opacity);if(e instanceof my||(e=k1(e)),!e)return new Yl;if(e instanceof Yl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new Yl(s,o,c,e.opacity)}function TEe(e,t,r,n){return arguments.length===1?aY(e):new Yl(e,t,r,n??1)}function Yl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pP(Yl,TEe,nY(my,{brighter(e){return e=e==null?P_:Math.pow(P_,e),new Yl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?j1:Math.pow(j1,e),new Yl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ws(mN(e>=240?e-240:e+120,a,n),mN(e,a,n),mN(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Yl(xI(this.h),fw(this.s),fw(this.l),O_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=O_(this.opacity);return`${e===1?"hsl(":"hsla("}${xI(this.h)}, ${fw(this.s)*100}%, ${fw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xI(e){return e=(e||0)%360,e<0?e+360:e}function fw(e){return Math.max(0,Math.min(1,e||0))}function mN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mP=e=>()=>e;function PEe(e,t){return function(r){return e+r*t}}function OEe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FEe(e){return(e=+e)==1?iY:function(t,r){return r-t?OEe(t,r,e):mP(isNaN(t)?r:t)}}function iY(e,t){var r=t-e;return r?PEe(e,r):mP(isNaN(e)?t:e)}const yI=function e(t){var r=FEe(t);function n(a,i){var s=r((a=wE(a)).r,(i=wE(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=iY(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function DEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function LEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ng(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function REe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function F_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function MEe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ng(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var bE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gN=new RegExp(bE.source,"g");function BEe(e){return function(){return e}}function UEe(e){return function(t){return e(t)+""}}function $Ee(e,t){var r=bE.lastIndex=gN.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=bE.exec(e))&&(a=gN.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:F_(n,a)})),r=gN.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?UEe(c[0].x):BEe(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)o[(d=c[f]).i]=d.x(u);return o.join("")})}function Ng(e,t){var r=typeof t,n;return t==null||r==="boolean"?mP(t):(r==="number"?F_:r==="string"?(n=k1(t))?(t=n,yI):$Ee:t instanceof k1?yI:t instanceof Date?REe:LEe(t)?DEe:Array.isArray(t)?IEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?MEe:F_)(e,t)}function gP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zEe(e,t){t===void 0&&(t=e,e=Ng);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function qEe(e){return function(){return e}}function D_(e){return+e}var wI=[0,1];function ws(e){return e}function _E(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qEe(isNaN(t)?NaN:.5)}function WEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VEe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=_E(a,n),i=r(s,i)):(n=_E(n,a),i=r(i,s)),function(o){return i(n(o))}}function HEe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=_E(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=py(e,o,1,n)-1;return i[c](a[c](o))}}function gy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function OS(){var e=wI,t=wI,r=Ng,n,a,i,s=ws,o,c,u;function f(){var h=Math.min(e.length,t.length);return s!==ws&&(s=WEe(e[0],e[h-1])),o=h>2?HEe:VEe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((u||(u=o(t,e.map(n),F_)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,D_),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=gP,f()},d.clamp=function(h){return arguments.length?(s=h?!0:ws,f()):s!==ws},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,f()}}function vP(){return OS()(ws,ws)}function GEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function L_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rg(e){return e=L_(Math.abs(e)),e?e[1]:NaN}function KEe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function YEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var XEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function A1(e){if(!(t=XEe.exec(e)))throw new Error("invalid format: "+e);var t;return new xP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}A1.prototype=xP.prototype;function xP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sY;function JEe(e,t){var r=L_(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(sY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+L_(e,Math.max(0,t+i-1))[0]}function bI(e,t){var r=L_(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _I={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bI(e*100,t),r:bI,s:JEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SI(e){return e}var jI=Array.prototype.map,NI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QEe(e){var t=e.grouping===void 0||e.thousands===void 0?SI:KEe(jI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?SI:YEe(jI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=A1(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,x=d.width,y=d.comma,b=d.precision,j=d.trim,k=d.type;k==="n"?(y=!0,k="g"):_I[k]||(b===void 0&&(b=12),j=!0,k="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var O=m==="$"?r:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=m==="$"?n:/[%p]/.test(k)?s:"",E=_I[k],D=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(C){var P=O,R=N,U,ee,J;if(k==="c")R=E(C)+R,C="";else{C=+C;var ae=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),b),j&&(C=ZEe(C)),ae&&+C==0&&g!=="+"&&(ae=!1),P=(ae?g==="("?g:o:g==="-"||g==="("?"":g)+P,R=(k==="s"?NI[8+sY/3]:"")+R+(ae&&g==="("?")":""),D){for(U=-1,ee=C.length;++U<ee;)if(J=C.charCodeAt(U),48>J||J>57){R=(J===46?a+C.slice(U+1):C.slice(U))+R,C=C.slice(0,U);break}}}y&&!v&&(C=t(C,1/0));var X=P.length+C.length+R.length,W=X<x?new Array(x-X+1).join(h):"";switch(y&&v&&(C=t(W+C,W.length?x-R.length:1/0),W=""),p){case"<":C=P+C+R+W;break;case"=":C=P+W+C+R;break;case"^":C=W.slice(0,X=W.length>>1)+P+C+R+W.slice(X);break;default:C=W+P+C+R;break}return i(C)}return M.toString=function(){return d+""},M}function f(d,h){var p=u((d=A1(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(rg(h)/3)))*3,m=Math.pow(10,-g),v=NI[8+g/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:f}}var dw,yP,oY;e3e({thousands:",",grouping:[3],currency:["$",""]});function e3e(e){return dw=QEe(e),yP=dw.format,oY=dw.formatPrefix,dw}function t3e(e){return Math.max(0,-rg(Math.abs(e)))}function r3e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rg(t)/3)))*3-rg(Math.abs(e)))}function n3e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rg(t)-rg(e))+1}function lY(e,t,r,n){var a=xE(e,t,r),i;switch(n=A1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=r3e(a,s))&&(n.precision=i),oY(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=n3e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=t3e(a))&&(n.precision=i-(n.type==="%")*2);break}}return yP(n)}function th(e){var t=e.domain;return e.ticks=function(r){var n=t();return gE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,f=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);f-- >0;){if(u=vE(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function cY(){var e=vP();return e.copy=function(){return gy(e,cY())},bl.apply(e,arguments),th(e)}function uY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,D_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uY(e).unknown(t)},e=arguments.length?Array.from(e,D_):[0,1],th(r)}function fY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function kI(e){return Math.log(e)}function AI(e){return Math.exp(e)}function a3e(e){return-Math.log(-e)}function i3e(e){return-Math.exp(-e)}function s3e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o3e(e){return e===10?s3e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function l3e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EI(e){return(t,r)=>-e(-t,r)}function wP(e){const t=e(kI,AI),r=t.domain;let n=10,a,i;function s(){return a=l3e(n),i=o3e(n),r()[0]<0?(a=EI(a),i=EI(i),e(a3e,i3e)):e(kI,AI),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),g,m;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>f)break;x.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>f)break;x.push(m)}x.length*2<v&&(x=gE(u,f,v))}else x=gE(h,p,Math.min(p-h,v)).map(i);return d?x.reverse():x},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=A1(c)).precision==null&&(c.trim=!0),c=yP(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(fY(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function dY(){const e=wP(OS()).domain([1,10]);return e.copy=()=>gy(e,dY()).base(e.base()),bl.apply(e,arguments),e}function CI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bP(e){var t=1,r=e(CI(t),TI(t));return r.constant=function(n){return arguments.length?e(CI(t=+n),TI(t)):t},th(r)}function hY(){var e=bP(OS());return e.copy=function(){return gy(e,hY()).constant(e.constant())},bl.apply(e,arguments)}function PI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c3e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u3e(e){return e<0?-e*e:e*e}function _P(e){var t=e(ws,ws),r=1;function n(){return r===1?e(ws,ws):r===.5?e(c3e,u3e):e(PI(r),PI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},th(t)}function SP(){var e=_P(OS());return e.copy=function(){return gy(e,SP()).exponent(e.exponent())},bl.apply(e,arguments),e}function f3e(){return SP.apply(null,arguments).exponent(.5)}function OI(e){return Math.sign(e)*e*e}function d3e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pY(){var e=vP(),t=[0,1],r=!1,n;function a(i){var s=d3e(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(OI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,D_)).map(OI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bl.apply(a,arguments),th(a)}function mY(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=gEe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[py(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sd),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return mY().domain(e).range(t).unknown(n)},bl.apply(i,arguments)}function gY(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[py(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return gY().domain([e,t]).range(a).unknown(i)},bl.apply(th(s),arguments)}function vY(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[py(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vY().domain(e).range(t).unknown(r)},bl.apply(a,arguments)}const vN=new Date,xN=new Date;function Ka(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Ka(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(vN.setTime(+i),xN.setTime(+s),e(vN),e(xN),Math.floor(r(vN,xN))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const I_=Ka(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);I_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ka(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):I_);I_.range;const Mu=1e3,il=Mu*60,Bu=il*60,sf=Bu*24,jP=sf*7,FI=sf*30,yN=sf*365,Lh=Ka(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mu)},(e,t)=>(t-e)/Mu,e=>e.getUTCSeconds());Lh.range;const NP=Ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getMinutes());NP.range;const kP=Ka(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getUTCMinutes());kP.range;const AP=Ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu-e.getMinutes()*il)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getHours());AP.range;const EP=Ka(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getUTCHours());EP.range;const vy=Ka(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*il)/sf,e=>e.getDate()-1);vy.range;const FS=Ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sf,e=>e.getUTCDate()-1);FS.range;const xY=Ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sf,e=>Math.floor(e/sf));xY.range;function $0(e){return Ka(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*il)/jP)}const DS=$0(0),R_=$0(1),h3e=$0(2),p3e=$0(3),ng=$0(4),m3e=$0(5),g3e=$0(6);DS.range;R_.range;h3e.range;p3e.range;ng.range;m3e.range;g3e.range;function z0(e){return Ka(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jP)}const LS=z0(0),M_=z0(1),v3e=z0(2),x3e=z0(3),ag=z0(4),y3e=z0(5),w3e=z0(6);LS.range;M_.range;v3e.range;x3e.range;ag.range;y3e.range;w3e.range;const CP=Ka(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CP.range;const TP=Ka(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TP.range;const of=Ka(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());of.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ka(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});of.range;const lf=Ka(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ka(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});lf.range;function yY(e,t,r,n,a,i){const s=[[Lh,1,Mu],[Lh,5,5*Mu],[Lh,15,15*Mu],[Lh,30,30*Mu],[i,1,il],[i,5,5*il],[i,15,15*il],[i,30,30*il],[a,1,Bu],[a,3,3*Bu],[a,6,6*Bu],[a,12,12*Bu],[n,1,sf],[n,2,2*sf],[r,1,jP],[t,1,FI],[t,3,3*FI],[e,1,yN]];function o(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),g=p?p.range(u,+f+1):[];return h?g.reverse():g}function c(u,f,d){const h=Math.abs(f-u)/d,p=fP(([,,v])=>v).right(s,h);if(p===s.length)return e.every(xE(u/yN,f/yN,d));if(p===0)return I_.every(Math.max(xE(u,f,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,c]}const[b3e,_3e]=yY(lf,TP,LS,xY,EP,kP),[S3e,j3e]=yY(of,CP,DS,vy,AP,NP);function wN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ev(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function N3e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Cv(a),f=Tv(a),d=Cv(i),h=Tv(i),p=Cv(s),g=Tv(s),m=Cv(o),v=Tv(o),x=Cv(c),y=Tv(c),b={a:ae,A:X,b:W,B:fe,c:null,d:BI,e:BI,f:K3e,g:aCe,G:sCe,H:V3e,I:H3e,j:G3e,L:wY,m:Y3e,M:X3e,p:Se,q:T,Q:zI,s:qI,S:Z3e,u:J3e,U:Q3e,V:eCe,w:tCe,W:rCe,x:null,X:null,y:nCe,Y:iCe,Z:oCe,"%":$I},j={a:L,A:B,b:z,B:te,c:null,d:UI,e:UI,f:fCe,g:bCe,G:SCe,H:lCe,I:cCe,j:uCe,L:_Y,m:dCe,M:hCe,p:ie,q:pe,Q:zI,s:qI,S:pCe,u:mCe,U:gCe,V:vCe,w:xCe,W:yCe,x:null,X:null,y:wCe,Y:_Ce,Z:jCe,"%":$I},k={a:M,A:C,b:P,B:R,c:U,d:RI,e:RI,f:$3e,g:II,G:LI,H:MI,I:MI,j:R3e,L:U3e,m:I3e,M:M3e,p:D,q:L3e,Q:q3e,s:W3e,S:B3e,u:T3e,U:P3e,V:O3e,w:C3e,W:F3e,x:ee,X:J,y:II,Y:LI,Z:D3e,"%":z3e};b.x=O(r,b),b.X=O(n,b),b.c=O(t,b),j.x=O(r,j),j.X=O(n,j),j.c=O(t,j);function O(Q,ge){return function(_e){var q=[],Be=-1,We=0,Ae=Q.length,se,Ie,yt;for(_e instanceof Date||(_e=new Date(+_e));++Be<Ae;)Q.charCodeAt(Be)===37&&(q.push(Q.slice(We,Be)),(Ie=DI[se=Q.charAt(++Be)])!=null?se=Q.charAt(++Be):Ie=se==="e"?" ":"0",(yt=ge[se])&&(se=yt(_e,Ie)),q.push(se),We=Be+1);return q.push(Q.slice(We,Be)),q.join("")}}function N(Q,ge){return function(_e){var q=Ev(1900,void 0,1),Be=E(q,Q,_e+="",0),We,Ae;if(Be!=_e.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ge&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(We=bN(Ev(q.y,0,1)),Ae=We.getUTCDay(),We=Ae>4||Ae===0?M_.ceil(We):M_(We),We=FS.offset(We,(q.V-1)*7),q.y=We.getUTCFullYear(),q.m=We.getUTCMonth(),q.d=We.getUTCDate()+(q.w+6)%7):(We=wN(Ev(q.y,0,1)),Ae=We.getDay(),We=Ae>4||Ae===0?R_.ceil(We):R_(We),We=vy.offset(We,(q.V-1)*7),q.y=We.getFullYear(),q.m=We.getMonth(),q.d=We.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ae="Z"in q?bN(Ev(q.y,0,1)).getUTCDay():wN(Ev(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ae+5)%7:q.w+q.U*7-(Ae+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,bN(q)):wN(q)}}function E(Q,ge,_e,q){for(var Be=0,We=ge.length,Ae=_e.length,se,Ie;Be<We;){if(q>=Ae)return-1;if(se=ge.charCodeAt(Be++),se===37){if(se=ge.charAt(Be++),Ie=k[se in DI?ge.charAt(Be++):se],!Ie||(q=Ie(Q,_e,q))<0)return-1}else if(se!=_e.charCodeAt(q++))return-1}return q}function D(Q,ge,_e){var q=u.exec(ge.slice(_e));return q?(Q.p=f.get(q[0].toLowerCase()),_e+q[0].length):-1}function M(Q,ge,_e){var q=p.exec(ge.slice(_e));return q?(Q.w=g.get(q[0].toLowerCase()),_e+q[0].length):-1}function C(Q,ge,_e){var q=d.exec(ge.slice(_e));return q?(Q.w=h.get(q[0].toLowerCase()),_e+q[0].length):-1}function P(Q,ge,_e){var q=x.exec(ge.slice(_e));return q?(Q.m=y.get(q[0].toLowerCase()),_e+q[0].length):-1}function R(Q,ge,_e){var q=m.exec(ge.slice(_e));return q?(Q.m=v.get(q[0].toLowerCase()),_e+q[0].length):-1}function U(Q,ge,_e){return E(Q,t,ge,_e)}function ee(Q,ge,_e){return E(Q,r,ge,_e)}function J(Q,ge,_e){return E(Q,n,ge,_e)}function ae(Q){return s[Q.getDay()]}function X(Q){return i[Q.getDay()]}function W(Q){return c[Q.getMonth()]}function fe(Q){return o[Q.getMonth()]}function Se(Q){return a[+(Q.getHours()>=12)]}function T(Q){return 1+~~(Q.getMonth()/3)}function L(Q){return s[Q.getUTCDay()]}function B(Q){return i[Q.getUTCDay()]}function z(Q){return c[Q.getUTCMonth()]}function te(Q){return o[Q.getUTCMonth()]}function ie(Q){return a[+(Q.getUTCHours()>=12)]}function pe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ge=O(Q+="",b);return ge.toString=function(){return Q},ge},parse:function(Q){var ge=N(Q+="",!1);return ge.toString=function(){return Q},ge},utcFormat:function(Q){var ge=O(Q+="",j);return ge.toString=function(){return Q},ge},utcParse:function(Q){var ge=N(Q+="",!0);return ge.toString=function(){return Q},ge}}}var DI={"-":"",_:" ",0:"0"},di=/^\s*\d+/,k3e=/^%/,A3e=/[\\^$*+?|[\]().{}]/g;function Qr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function E3e(e){return e.replace(A3e,"\\$&")}function Cv(e){return new RegExp("^(?:"+e.map(E3e).join("|")+")","i")}function Tv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function C3e(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function T3e(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function P3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function O3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function F3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LI(e,t,r){var n=di.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function II(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D3e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function L3e(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function I3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RI(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function R3e(e,t,r){var n=di.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MI(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function M3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function B3e(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function U3e(e,t,r){var n=di.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $3e(e,t,r){var n=di.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function z3e(e,t,r){var n=k3e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function q3e(e,t,r){var n=di.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function W3e(e,t,r){var n=di.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function BI(e,t){return Qr(e.getDate(),t,2)}function V3e(e,t){return Qr(e.getHours(),t,2)}function H3e(e,t){return Qr(e.getHours()%12||12,t,2)}function G3e(e,t){return Qr(1+vy.count(of(e),e),t,3)}function wY(e,t){return Qr(e.getMilliseconds(),t,3)}function K3e(e,t){return wY(e,t)+"000"}function Y3e(e,t){return Qr(e.getMonth()+1,t,2)}function X3e(e,t){return Qr(e.getMinutes(),t,2)}function Z3e(e,t){return Qr(e.getSeconds(),t,2)}function J3e(e){var t=e.getDay();return t===0?7:t}function Q3e(e,t){return Qr(DS.count(of(e)-1,e),t,2)}function bY(e){var t=e.getDay();return t>=4||t===0?ng(e):ng.ceil(e)}function eCe(e,t){return e=bY(e),Qr(ng.count(of(e),e)+(of(e).getDay()===4),t,2)}function tCe(e){return e.getDay()}function rCe(e,t){return Qr(R_.count(of(e)-1,e),t,2)}function nCe(e,t){return Qr(e.getFullYear()%100,t,2)}function aCe(e,t){return e=bY(e),Qr(e.getFullYear()%100,t,2)}function iCe(e,t){return Qr(e.getFullYear()%1e4,t,4)}function sCe(e,t){var r=e.getDay();return e=r>=4||r===0?ng(e):ng.ceil(e),Qr(e.getFullYear()%1e4,t,4)}function oCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qr(t/60|0,"0",2)+Qr(t%60,"0",2)}function UI(e,t){return Qr(e.getUTCDate(),t,2)}function lCe(e,t){return Qr(e.getUTCHours(),t,2)}function cCe(e,t){return Qr(e.getUTCHours()%12||12,t,2)}function uCe(e,t){return Qr(1+FS.count(lf(e),e),t,3)}function _Y(e,t){return Qr(e.getUTCMilliseconds(),t,3)}function fCe(e,t){return _Y(e,t)+"000"}function dCe(e,t){return Qr(e.getUTCMonth()+1,t,2)}function hCe(e,t){return Qr(e.getUTCMinutes(),t,2)}function pCe(e,t){return Qr(e.getUTCSeconds(),t,2)}function mCe(e){var t=e.getUTCDay();return t===0?7:t}function gCe(e,t){return Qr(LS.count(lf(e)-1,e),t,2)}function SY(e){var t=e.getUTCDay();return t>=4||t===0?ag(e):ag.ceil(e)}function vCe(e,t){return e=SY(e),Qr(ag.count(lf(e),e)+(lf(e).getUTCDay()===4),t,2)}function xCe(e){return e.getUTCDay()}function yCe(e,t){return Qr(M_.count(lf(e)-1,e),t,2)}function wCe(e,t){return Qr(e.getUTCFullYear()%100,t,2)}function bCe(e,t){return e=SY(e),Qr(e.getUTCFullYear()%100,t,2)}function _Ce(e,t){return Qr(e.getUTCFullYear()%1e4,t,4)}function SCe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ag(e):ag.ceil(e),Qr(e.getUTCFullYear()%1e4,t,4)}function jCe(){return"+0000"}function $I(){return"%"}function zI(e){return+e}function qI(e){return Math.floor(+e/1e3)}var Cp,jY,NY;NCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NCe(e){return Cp=N3e(e),jY=Cp.format,Cp.parse,NY=Cp.utcFormat,Cp.utcParse,Cp}function kCe(e){return new Date(e)}function ACe(e){return e instanceof Date?+e:+new Date(+e)}function PP(e,t,r,n,a,i,s,o,c,u){var f=vP(),d=f.invert,h=f.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),j=u("%Y");function k(O){return(c(O)<O?p:o(O)<O?g:s(O)<O?m:i(O)<O?v:n(O)<O?a(O)<O?x:y:r(O)<O?b:j)(O)}return f.invert=function(O){return new Date(d(O))},f.domain=function(O){return arguments.length?h(Array.from(O,ACe)):h().map(kCe)},f.ticks=function(O){var N=h();return e(N[0],N[N.length-1],O??10)},f.tickFormat=function(O,N){return N==null?k:u(N)},f.nice=function(O){var N=h();return(!O||typeof O.range!="function")&&(O=t(N[0],N[N.length-1],O??10)),O?h(fY(N,O)):f},f.copy=function(){return gy(f,PP(e,t,r,n,a,i,s,o,c,u))},f}function ECe(){return bl.apply(PP(S3e,j3e,of,CP,DS,vy,AP,NP,Lh,jY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CCe(){return bl.apply(PP(b3e,_3e,lf,TP,LS,FS,EP,kP,Lh,NY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function IS(){var e=0,t=1,r,n,a,i,s=ws,o=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function f(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),u):[s(0),s(1)]}}return u.range=f(Ng),u.rangeRound=f(gP),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function rh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kY(){var e=th(IS()(ws));return e.copy=function(){return rh(e,kY())},gf.apply(e,arguments)}function AY(){var e=wP(IS()).domain([1,10]);return e.copy=function(){return rh(e,AY()).base(e.base())},gf.apply(e,arguments)}function EY(){var e=bP(IS());return e.copy=function(){return rh(e,EY()).constant(e.constant())},gf.apply(e,arguments)}function OP(){var e=_P(IS());return e.copy=function(){return rh(e,OP()).exponent(e.exponent())},gf.apply(e,arguments)}function TCe(){return OP.apply(null,arguments).exponent(.5)}function CY(){var e=[],t=ws;function r(n){if(n!=null&&!isNaN(n=+n))return t((py(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>mEe(e,i/n))},r.copy=function(){return CY(t).domain(e)},gf.apply(r,arguments)}function RS(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=ws,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-i)*(n*m<n*i?o:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=zEe(m,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(Ng),p.rangeRound=g(gP),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function TY(){var e=th(RS()(ws));return e.copy=function(){return rh(e,TY())},gf.apply(e,arguments)}function PY(){var e=wP(RS()).domain([.1,1,10]);return e.copy=function(){return rh(e,PY()).base(e.base())},gf.apply(e,arguments)}function OY(){var e=bP(RS());return e.copy=function(){return rh(e,OY()).constant(e.constant())},gf.apply(e,arguments)}function FP(){var e=_P(RS());return e.copy=function(){return rh(e,FP()).exponent(e.exponent())},gf.apply(e,arguments)}function PCe(){return FP.apply(null,arguments).exponent(.5)}const Vv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hP,scaleDiverging:TY,scaleDivergingLog:PY,scaleDivergingPow:FP,scaleDivergingSqrt:PCe,scaleDivergingSymlog:OY,scaleIdentity:uY,scaleImplicit:yE,scaleLinear:cY,scaleLog:dY,scaleOrdinal:dP,scalePoint:xEe,scalePow:SP,scaleQuantile:mY,scaleQuantize:gY,scaleRadial:pY,scaleSequential:kY,scaleSequentialLog:AY,scaleSequentialPow:OP,scaleSequentialQuantile:CY,scaleSequentialSqrt:TCe,scaleSequentialSymlog:EY,scaleSqrt:f3e,scaleSymlog:hY,scaleThreshold:vY,scaleTime:ECe,scaleUtc:CCe,tickFormat:lY},Symbol.toStringTag,{value:"Module"}));var q0=e=>e.chartData,OCe=Ke([q0],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),FY=(e,t,r,n)=>n?OCe(e):q0(e);function ig(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(uc(t)&&uc(r))return!0}return!1}function WI(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FCe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(uc(r))a=r;else if(typeof r=="function")return;if(uc(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(ig(s))return s}}function DCe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ig(n))return WI(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Wt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&zL.test(a)){var c=zL.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Wt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&qL.test(i)){var f=qL.exec(i);if(f==null||t==null)o=void 0;else{var d=+f[1];o=t[1]+d}}else o=t==null?void 0:t[1];var h=[s,o];if(ig(h))return t==null?h:WI(h,t,r)}}}var kg=1e9,LCe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LP,Hn=!0,gl="[DecimalError] ",t0=gl+"Invalid argument: ",DP=gl+"Exponent out of range: ",Ag=Math.floor,Sh=Math.pow,ICe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bo,ei=1e7,Fn=7,DY=9007199254740991,B_=Ag(DY/Fn),$t={};$t.absoluteValue=$t.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$t.comparedTo=$t.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};$t.decimalPlaces=$t.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$t.dividedBy=$t.div=function(e){return Hu(this,new this.constructor(e))};$t.dividedToIntegerBy=$t.idiv=function(e){var t=this,r=t.constructor;return Sn(Hu(t,new r(e),0,1),r.precision)};$t.equals=$t.eq=function(e){return!this.cmp(e)};$t.exponent=function(){return La(this)};$t.greaterThan=$t.gt=function(e){return this.cmp(e)>0};$t.greaterThanOrEqualTo=$t.gte=function(e){return this.cmp(e)>=0};$t.isInteger=$t.isint=function(){return this.e>this.d.length-2};$t.isNegative=$t.isneg=function(){return this.s<0};$t.isPositive=$t.ispos=function(){return this.s>0};$t.isZero=function(){return this.s===0};$t.lessThan=$t.lt=function(e){return this.cmp(e)<0};$t.lessThanOrEqualTo=$t.lte=function(e){return this.cmp(e)<1};$t.logarithm=$t.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bo))throw Error(gl+"NaN");if(r.s<1)throw Error(gl+(r.s?"NaN":"-Infinity"));return r.eq(bo)?new n(0):(Hn=!1,t=Hu(E1(r,i),E1(e,i),i),Hn=!0,Sn(t,a))};$t.minus=$t.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RY(t,e):LY(t,(e.s=-e.s,e))};$t.modulo=$t.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gl+"NaN");return r.s?(Hn=!1,t=Hu(r,e,0,1).times(e),Hn=!0,r.minus(t)):Sn(new n(r),a)};$t.naturalExponential=$t.exp=function(){return IY(this)};$t.naturalLogarithm=$t.ln=function(){return E1(this)};$t.negated=$t.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$t.plus=$t.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LY(t,e):RY(t,(e.s=-e.s,e))};$t.precision=$t.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(t0+e);if(t=La(a)+1,n=a.d.length-1,r=n*Fn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$t.squareRoot=$t.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(gl+"NaN")}for(e=La(o),Hn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Uc(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ag((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Hu(o,i,s+2)).times(.5),Uc(i.d).slice(0,s)===(t=Uc(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Sn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Hn=!0,Sn(n,r)};$t.times=$t.mul=function(e){var t,r,n,a,i,s,o,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ei|0,t=o/ei|0;i[a]=(i[a]+t)%ei|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Hn?Sn(e,d.precision):e};$t.toDecimalPlaces=$t.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tu(e,0,kg),t===void 0?t=n.rounding:tu(t,0,8),Sn(r,e+La(r)+1,t))};$t.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=A0(n,!0):(tu(e,0,kg),t===void 0?t=a.rounding:tu(t,0,8),n=Sn(new a(n),e+1,t),r=A0(n,!0,e+1)),r};$t.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?A0(a):(tu(e,0,kg),t===void 0?t=i.rounding:tu(t,0,8),n=Sn(new i(a),e+La(a)+1,t),r=A0(n.abs(),!1,e+La(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};$t.toInteger=$t.toint=function(){var e=this,t=e.constructor;return Sn(new t(e),La(e)+1,t.rounding)};$t.toNumber=function(){return+this};$t.toPower=$t.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(bo);if(o=new c(o),!o.s){if(e.s<1)throw Error(gl+"Infinity");return o}if(o.eq(bo))return o;if(n=c.precision,e.eq(bo))return Sn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=DY){for(a=new c(bo),t=Math.ceil(n/Fn+4),Hn=!1;r%2&&(a=a.times(o),HI(a.d,t)),r=Ag(r/2),r!==0;)o=o.times(o),HI(o.d,t);return Hn=!0,e.s<0?new c(bo).div(a):Sn(a,n)}}else if(i<0)throw Error(gl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Hn=!1,a=e.times(E1(o,n+u)),Hn=!0,a=IY(a),a.s=i,a};$t.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=La(a),n=A0(a,r<=i.toExpNeg||r>=i.toExpPos)):(tu(e,1,kg),t===void 0?t=i.rounding:tu(t,0,8),a=Sn(new i(a),e,t),r=La(a),n=A0(a,e<=r||r<=i.toExpNeg,e)),n};$t.toSignificantDigits=$t.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tu(e,1,kg),t===void 0?t=n.rounding:tu(t,0,8)),Sn(new n(r),e,t)};$t.toString=$t.valueOf=$t.val=$t.toJSON=$t[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=La(e),r=e.constructor;return A0(e,t<=r.toExpNeg||t>=r.toExpPos)};function LY(e,t){var r,n,a,i,s,o,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Hn?Sn(t,d):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(d/Fn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ei|0,c[i]%=ei;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Hn?Sn(t,d):t}function tu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(t0+e)}function Uc(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Fn-n.length,r&&(i+=Gf(r)),i+=n;s=e[t],n=s+"",r=Fn-n.length,r&&(i+=Gf(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Hu=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ei|0,s=i/ei|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ei+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,f,d,h,p,g,m,v,x,y,b,j,k,O,N,E,D=n.constructor,M=n.s==a.s?1:-1,C=n.d,P=a.d;if(!n.s)return new D(n);if(!a.s)throw Error(gl+"Division by zero");for(c=n.e-a.e,N=P.length,k=C.length,p=new D(M),g=p.d=[],u=0;P[u]==(C[u]||0);)++u;if(P[u]>(C[u]||0)&&--c,i==null?y=i=D.precision:s?y=i+(La(n)-La(a))+1:y=i,y<0)return new D(0);if(y=y/Fn+2|0,u=0,N==1)for(f=0,P=P[0],y++;(u<k||f)&&y--;u++)b=f*ei+(C[u]||0),g[u]=b/P|0,f=b%P|0;else{for(f=ei/(P[0]+1)|0,f>1&&(P=e(P,f),C=e(C,f),N=P.length,k=C.length),j=N,m=C.slice(0,N),v=m.length;v<N;)m[v++]=0;E=P.slice(),E.unshift(0),O=P[0],P[1]>=ei/2&&++O;do f=0,o=t(P,m,N,v),o<0?(x=m[0],N!=v&&(x=x*ei+(m[1]||0)),f=x/O|0,f>1?(f>=ei&&(f=ei-1),d=e(P,f),h=d.length,v=m.length,o=t(d,m,h,v),o==1&&(f--,r(d,N<h?E:P,h))):(f==0&&(o=f=1),d=P.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=t(P,m,N,v),o<1&&(f++,r(m,N<v?E:P,v))),v=m.length):o===0&&(f++,m=[0]),g[u++]=f,o&&m[0]?m[v++]=C[j]||0:(m=[C[j]],v=1);while((j++<k||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Sn(p,s?i+La(p)+1:i)}}();function IY(e,t){var r,n,a,i,s,o,c=0,u=0,f=e.constructor,d=f.precision;if(La(e)>16)throw Error(DP+La(e));if(!e.s)return new f(bo);for(t==null?(Hn=!1,o=d):o=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Sh(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new f(bo),f.precision=o;;){if(a=Sn(a.times(e),o),r=r.times(++c),s=i.plus(Hu(a,r,o)),Uc(s.d).slice(0,o)===Uc(i.d).slice(0,o)){for(;u--;)i=Sn(i.times(i),o);return f.precision=d,t==null?(Hn=!0,Sn(i,d)):i}i=s}}function La(e){for(var t=e.e*Fn,r=e.d[0];r>=10;r/=10)t++;return t}function _N(e,t,r){if(t>e.LN10.sd())throw Hn=!0,r&&(e.precision=r),Error(gl+"LN10 precision limit exceeded");return Sn(new e(e.LN10),t)}function Gf(e){for(var t="";e--;)t+="0";return t}function E1(e,t){var r,n,a,i,s,o,c,u,f,d=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(gl+(p.s?"NaN":"-Infinity"));if(p.eq(bo))return new m(0);if(t==null?(Hn=!1,u=v):u=t,p.eq(10))return t==null&&(Hn=!0),_N(m,u);if(u+=h,m.precision=u,r=Uc(g),n=r.charAt(0),i=La(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Uc(p.d),n=r.charAt(0),d++;i=La(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=_N(m,u+2,v).times(i+""),p=E1(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Hn=!0,Sn(p,v)):p;for(o=s=p=Hu(p.minus(bo),p.plus(bo),u),f=Sn(p.times(p),u),a=3;;){if(s=Sn(s.times(f),u),c=o.plus(Hu(s,new m(a),u)),Uc(c.d).slice(0,u)===Uc(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(_N(m,u+2,v).times(i+""))),o=Hu(o,new m(d),u),m.precision=v,t==null?(Hn=!0,Sn(o,v)):o;o=c,a+=2}}function VI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ag(r/Fn),e.d=[],n=(r+1)%Fn,r<0&&(n+=Fn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fn;n<a;)e.d.push(+t.slice(n,n+=Fn));t=t.slice(n),n=Fn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Hn&&(e.e>B_||e.e<-B_))throw Error(DP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sn(e,t,r){var n,a,i,s,o,c,u,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Fn,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Fn),i=d.length,f>=i)return e;for(u=i=d[f],s=1;i>=10;i/=10)s++;n%=Fn,a=n-Fn+s}if(r!==void 0&&(i=Sh(10,s-a-1),o=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Sh(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=La(e),d.length=1,t=t-i-1,d[0]=Sh(10,(Fn-t%Fn)%Fn),e.e=Ag(-t/Fn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Sh(10,Fn-n),d[f]=a>0?(u/Sh(10,s-a)%Sh(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==ei&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=ei)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Hn&&(e.e>B_||e.e<-B_))throw Error(DP+La(e));return e}function RY(e,t){var r,n,a,i,s,o,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Hn?Sn(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,o=d.length):(r=d,n=u,o=c.length),a=Math.max(Math.ceil(p/Fn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}s=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),o=c.length,a=d.length-o;a>0;--a)c[o++]=0;for(a=d.length;a>s;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=ei-1;--c[i],c[a]+=ei}c[a]-=d[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Hn?Sn(t,p):t):new h(0)}function A0(e,t,r){var n,a=La(e),i=Uc(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Gf(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Gf(-a-1)+i,r&&(n=r-s)>0&&(i+=Gf(n))):a>=s?(i+=Gf(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Gf(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Gf(n))),e.s<0?"-"+i:i}function HI(e,t){if(e.length>t)return e.length=t,!0}function MY(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(t0+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return VI(s,i.toString())}else if(typeof i!="string")throw Error(t0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,ICe.test(i))VI(s,i);else throw Error(t0+i)}if(a.prototype=$t,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MY,a.config=a.set=RCe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function RCe(e){if(!e||typeof e!="object")throw Error(gl+"Object expected");var t,r,n,a=["precision",1,kg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ag(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(t0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(t0+r+": "+n);return this}var LP=MY(LCe);bo=new LP(1);const fn=LP;var MCe=e=>e,BY={"@@functional/placeholder":!0},UY=e=>e===BY,GI=e=>function t(){return arguments.length===0||arguments.length===1&&UY(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$Y=(e,t)=>e===1?t:GI(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==BY).length;return i>=e?t(...n):$Y(e-i,GI(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(f=>UY(f)?o.shift():f);return t(...u,...o)}))}),MS=e=>$Y(e.length,e),SE=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},BCe=MS((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),UCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return MCe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},jE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),zY=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function qY(e){var t;return e===0?t=1:t=Math.floor(new fn(e).abs().log(10).toNumber())+1,t}function WY(e,t,r){for(var n=new fn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}MS((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});MS((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});MS((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var VY=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},HY=(e,t,r)=>{if(e.lte(0))return new fn(0);var n=qY(e.toNumber()),a=new fn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new fn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new fn(c.toNumber()):new fn(Math.ceil(c.toNumber()))},$Ce=(e,t,r)=>{var n=new fn(1),a=new fn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new fn(10).pow(qY(e)-1),a=new fn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new fn(Math.floor(e)))}else e===0?a=new fn(Math.floor((t-1)/2)):r||(a=new fn(Math.floor(e)));var s=Math.floor((t-1)/2),o=UCe(BCe(c=>a.add(new fn(c-s).mul(n)).toNumber()),SE);return o(0,t)},GY=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new fn(0),tickMin:new fn(0),tickMax:new fn(0)};var s=HY(new fn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new fn(0):(o=new fn(t).add(r).div(2),o=o.sub(new fn(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new fn(r).sub(o).div(s).toNumber()),f=c+u+1;return f>n?GY(t,r,n,a,i+1):(f<n&&(u=r>0?u+(n-f):u,c=r>0?c:c+(n-f)),{step:s,tickMin:o.sub(new fn(c).mul(s)),tickMax:o.add(new fn(u).mul(s))})};function zCe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=VY([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...SE(0,n-1).map(()=>1/0)]:[...SE(0,n-1).map(()=>-1/0),o];return t>r?jE(c):c}if(s===o)return $Ce(s,n,a);var{step:u,tickMin:f,tickMax:d}=GY(s,o,i,a,0),h=WY(f,d.add(new fn(.1).mul(u)),u);return t>r?jE(h):h}function qCe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=VY([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),c=HY(new fn(s).sub(i).div(o-1),a,0),u=[...WY(new fn(i),new fn(s),c),s];return a===!1&&(u=u.map(f=>Math.round(f))),r>n?jE(u):u}var WCe=zY(zCe),VCe=zY(qCe),HCe=e=>e.rootProps.barCategoryGap,BS=e=>e.rootProps.stackOffset,IP=e=>e.options.chartName,RP=e=>e.rootProps.syncId,KY=e=>e.rootProps.syncMethod,MP=e=>e.options.eventEmitter,Pu={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},po={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},US=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pu.angleAxisId,includeHidden:!1,name:void 0,reversed:Pu.reversed,scale:Pu.scale,tick:Pu.tick,tickCount:void 0,ticks:void 0,type:Pu.type,unit:void 0},KCe={allowDataOverflow:po.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:po.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:po.scale,tick:po.tick,tickCount:po.tickCount,ticks:void 0,type:po.type,unit:void 0},YCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pu.scale,tick:Pu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},XCe={allowDataOverflow:po.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:po.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:po.scale,tick:po.tick,tickCount:po.tickCount,ticks:void 0,type:"category",unit:void 0},BP=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?YCe:GCe,UP=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?XCe:KCe,$S=e=>e.polarOptions,$P=Ke([pf,mf,Di],cke),YY=Ke([$S,$P],(e,t)=>{if(e!=null)return zd(e.innerRadius,t,0)}),XY=Ke([$S,$P],(e,t)=>{if(e!=null)return zd(e.outerRadius,t,t*.8)}),ZCe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ZY=Ke([$S],ZCe);Ke([BP,ZY],US);var JY=Ke([$P,YY,XY],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ke([UP,JY],US);var JCe=Ke([ta,$S,YY,XY,pf,mf],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:zd(s,a,a/2),cy:zd(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),hi=(e,t)=>t,zS=(e,t,r)=>r;function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){QCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QCe(e,t,r){return(t=eTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eTe(e){var t=tTe(e,"string");return typeof t=="symbol"?t:t+""}function tTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NE=[0,"auto"],oo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vf=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??oo},lo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:CS},nh=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??lo},rTe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zP=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??rTe},Js=(e,t,r)=>{switch(t){case"xAxis":return vf(e,r);case"yAxis":return nh(e,r);case"zAxis":return zP(e,r);case"angleAxis":return BP(e,r);case"radiusAxis":return UP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nTe=(e,t,r)=>{switch(t){case"xAxis":return vf(e,r);case"yAxis":return nh(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xy=(e,t,r)=>{switch(t){case"xAxis":return vf(e,r);case"yAxis":return nh(e,r);case"angleAxis":return BP(e,r);case"radiusAxis":return UP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QY=e=>e.graphicalItems.countOfBars>0;function eX(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var tX=e=>e.graphicalItems.cartesianItems,aTe=Ke([hi,zS],eX),rX=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),yy=Ke([tX,Js,aTe],rX),nX=e=>e.filter(t=>t.stackId===void 0),iTe=Ke([yy],nX),aX=e=>e.map(t=>t.data).filter(Boolean).flat(1),sTe=Ke([yy],aX),iX=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},qS=Ke([sTe,FY],iX),sX=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Co(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Co(a,n)}))):e.map(n=>({value:n})),WS=Ke([qS,Js,yy],sX);function oX(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function W0(e){return e.filter(t=>eu(t)||t instanceof Date).map(Number).filter(t=>pl(t)===!1)}function oTe(e,t,r){return!r||typeof t!="number"||pl(t)?[]:r.length?W0(r.flatMap(n=>{var a=Co(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!uc(i)||!uc(s)))return[t-i,t+s]})):[]}var lX=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,c=o.map(u=>u.dataKey);return[s,{stackedData:jke(e,c,r),graphicalItems:o}]}))},lTe=Ke([qS,yy,BS],lX),cX=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=Eke(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},cTe=Ke([lTe,q0,hi],cX),uX=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var s,o,c=(s=i.errorBars)===null||s===void 0?void 0:s.filter(f=>oX(n,f)),u=Co(a,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:u,errorDomain:oTe(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Co(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),uTe=Ke(qS,Js,iTe,hi,uX);function fTe(e){var{value:t}=e;if(eu(t)||t instanceof Date)return t}var dTe=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=W0(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hTe=(e,t,r)=>{var n=e.map(fTe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&mG(n))?JK(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},qP=e=>{var t;if(e==null||!("domain"in e))return NE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=W0(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:NE},WP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},fX=e=>e.referenceElements.dots,Eg=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),pTe=Ke([fX,hi,zS],Eg),dX=e=>e.referenceElements.areas,mTe=Ke([dX,hi,zS],Eg),hX=e=>e.referenceElements.lines,gTe=Ke([hX,hi,zS],Eg),pX=(e,t)=>{var r=W0(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vTe=Ke(pTe,hi,pX),mX=(e,t)=>{var r=W0(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xTe=Ke([mTe,hi],mX),gX=(e,t)=>{var r=W0(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yTe=Ke(gTe,hi,gX),wTe=Ke(vTe,yTe,xTe,(e,t,r)=>WP(e,r,t)),bTe=Ke([Js],qP),vX=(e,t,r,n,a)=>{var i=FCe(t,e.allowDataOverflow);return i??DCe(t,WP(r,a,dTe(n)),e.allowDataOverflow)},_Te=Ke([Js,bTe,cTe,uTe,wTe],vX),STe=[0,1],xX=(e,t,r,n,a,i,s)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:o,type:c}=e,u=eh(t,i);return u&&o==null?JK(0,r.length):c==="category"?hTe(n,e,u):a==="expand"?STe:s}},VP=Ke([Js,ta,qS,WS,BS,hi,_Te],xX),yX=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat($T(i));return o in Vv?o:"point"}}},wy=Ke([Js,ta,QY,IP,hi],yX);function jTe(e){if(e!=null){if(e in Vv)return Vv[e]();var t="scale".concat($T(e));if(t in Vv)return Vv[t]()}}function HP(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=jTe(t);if(a!=null){var i=a.domain(r).range(n);return wke(i),i}}}var wX=(e,t,r)=>{var n=qP(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ig(e))return WCe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ig(e))return VCe(e,t.tickCount,t.allowDecimals)}},GP=Ke([VP,xy,wy],wX),bX=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ig(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},NTe=Ke([Js,VP,GP,hi],bX),kTe=Ke(WS,Js,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(W0(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),_X=Ke(kTe,ta,HCe,Di,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!uc(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=zd(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),ATe=(e,t)=>{var r=vf(e,t);return r==null||typeof r.padding!="string"?0:_X(e,"xAxis",t,r.padding)},ETe=(e,t)=>{var r=nh(e,t);return r==null||typeof r.padding!="string"?0:_X(e,"yAxis",t,r.padding)},CTe=Ke(vf,ATe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),TTe=Ke(nh,ETe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),PTe=Ke([Di,CTe,PS,TS,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),OTe=Ke([Di,ta,TTe,PS,TS,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),by=(e,t,r,n)=>{var a;switch(t){case"xAxis":return PTe(e,r,n);case"yAxis":return OTe(e,r,n);case"zAxis":return(a=zP(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return ZY(e);case"radiusAxis":return JY(e,r);default:return}},SX=Ke([Js,by],US),Cg=Ke([Js,wy,NTe,SX],HP);Ke(yy,hi,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>oX(t,r)));function jX(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var VS=(e,t)=>t,HS=(e,t,r)=>r,FTe=Ke(sP,VS,HS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jX)),DTe=Ke(oP,VS,HS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jX)),NX=(e,t)=>({width:e.width,height:t.height}),LTe=(e,t)=>{var r=typeof t.width=="number"?t.width:CS;return{width:r,height:e.height}},ITe=Ke(Di,vf,NX),RTe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},MTe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},BTe=Ke(mf,Di,FTe,VS,HS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=NX(t,o);s==null&&(s=RTe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),UTe=Ke(pf,Di,DTe,VS,HS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=LTe(t,o);s==null&&(s=MTe(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),$Te=(e,t)=>{var r=Di(e),n=vf(e,t);if(n!=null){var a=BTe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},zTe=(e,t)=>{var r=Di(e),n=nh(e,t);if(n!=null){var a=UTe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},qTe=Ke(Di,nh,(e,t)=>{var r=typeof t.width=="number"?t.width:CS;return{width:r,height:e.height}}),kX=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=eh(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&mG(c))return c}},KP=Ke([ta,WS,Js,hi],kX),AX=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=eh(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},YP=Ke([ta,WS,xy,hi],AX),YI=Ke([ta,nTe,wy,Cg,KP,YP,by,GP,hi],(e,t,r,n,a,i,s,o,c)=>{if(t==null)return null;var u=eh(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),WTe=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=eh(e,c),{type:f,ticks:d,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?al(i[0]-i[1])*2*g:g;var m=d||a;if(m){var v=m.map((x,y)=>{var b=s?s.indexOf(x):x;return{index:y,coordinate:n(b)+g,value:x,offset:g}});return v.filter(x=>!pl(x.coordinate))}return u&&o?o.map((x,y)=>({coordinate:n(x)+g,value:x,index:y,offset:g})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,y)=>({coordinate:n(x)+g,value:s?s[x]:x,index:y,offset:g}))}},EX=Ke([ta,xy,wy,Cg,GP,by,KP,YP,hi],WTe),VTe=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=eh(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?al(n[0]-n[1])*2*u:u,o&&i?i.map((f,d)=>({coordinate:r(f)+u,value:f,index:d,offset:u})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+u,value:f,offset:u})):r.domain().map((f,d)=>({coordinate:r(f)+u,value:a?a[f]:f,index:d,offset:u}))}},CX=Ke([ta,xy,Cg,by,KP,YP,hi],VTe),GS=Ke(Js,Cg,(e,t)=>{if(!(e==null||t==null))return U_(U_({},e),{},{scale:t})}),HTe=Ke([Js,wy,VP,SX],HP);Ke((e,t,r)=>zP(e,r),HTe,(e,t)=>{if(!(e==null||t==null))return U_(U_({},e),{},{scale:t})});var GTe=Ke([ta,sP,oP],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TX=e=>e.options.defaultTooltipEventType,PX=e=>e.options.validateTooltipEventTypes;function OX(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function XP(e,t){var r=TX(e),n=PX(e);return OX(t,r,n)}function KTe(e){return Jt(t=>XP(t,e))}var FX=(e,t)=>{var r,n=Number(t);if(!(pl(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},YTe=e=>e.tooltip.settings,Qf={active:!1,index:null,dataKey:void 0,coordinate:void 0},XTe={itemInteraction:{click:Qf,hover:Qf},axisInteraction:{click:Qf,hover:Qf},keyboardInteraction:Qf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DX=wl({name:"tooltip",initialState:XTe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Vu(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ZTe,removeTooltipEntrySettings:JTe,setTooltipSettingsState:QTe,setActiveMouseOverItemIndex:ePe,mouseLeaveItem:FLe,mouseLeaveChart:LX,setActiveClickItemIndex:DLe,setMouseOverAxisIndex:IX,setMouseClickAxisIndex:tPe,setSyncInteraction:kE,setKeyboardInteraction:AE}=DX.actions,rPe=DX.reducer;function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){nPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nPe(e,t,r){return(t=aPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aPe(e){var t=iPe(e,"string");return typeof t=="symbol"?t:t+""}function iPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sPe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oPe(e){return e.index!=null}var RX=(e,t,r,n)=>{if(t==null)return Qf;var a=sPe(e,t,r);if(a==null)return Qf;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(oPe(a)){if(i)return hw(hw({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return hw(hw({},Qf),{},{coordinate:a.coordinate})},ZP=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!uc(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},MX=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},BX=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},_y=e=>e.options.tooltipPayloadSearcher,Tg=e=>e.tooltip;function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(n){lPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lPe(e,t,r){return(t=cPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cPe(e){var t=uPe(e,"string");return typeof t=="symbol"?t:t+""}function uPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fPe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function dPe(e,t){return e??t}var UX=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:f}=r,d=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:m,settings:v}=p,x=dPe(m,o),y=fPe(x,u,f),b=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=v==null?void 0:v.nameKey,k;if(n!=null&&n.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&s==="axis"?k=gG(y,n.dataKey,a):k=i(y,t,c,j),Array.isArray(k))k.forEach(N=>{var E=JI(JI({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(WL({tooltipEntrySettings:E,dataKey:N.dataKey,payload:N.payload,value:Co(N.payload,N.dataKey),name:N.name}))});else{var O;h.push(WL({tooltipEntrySettings:v,dataKey:b,payload:k,value:Co(k,b),name:(O=Co(k,j))!==null&&O!==void 0?O:v==null?void 0:v.name}))}return h},d)}},pi=e=>{var t=ta(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Pg=e=>e.tooltip.settings.axisId,Li=e=>{var t=pi(e),r=Pg(e);return xy(e,t,r)},JP=Ke([Li,ta,QY,IP,pi],yX),hPe=Ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pPe=Ke([pi,Pg],eX),KS=Ke([hPe,Li,pPe],rX),mPe=Ke([KS],aX),V0=Ke([mPe,q0],iX),QP=Ke([V0,Li,KS],sX),gPe=Ke([Li],qP),vPe=Ke([V0,KS,BS],lX),xPe=Ke([vPe,q0,pi],cX),yPe=Ke([KS],nX),wPe=Ke([V0,Li,yPe,pi],uX),bPe=Ke([fX,pi,Pg],Eg),_Pe=Ke([bPe,pi],pX),SPe=Ke([dX,pi,Pg],Eg),jPe=Ke([SPe,pi],mX),NPe=Ke([hX,pi,Pg],Eg),kPe=Ke([NPe,pi],gX),APe=Ke([_Pe,kPe,jPe],WP),EPe=Ke([Li,gPe,xPe,wPe,APe],vX),$X=Ke([Li,ta,V0,QP,BS,pi,EPe],xX),CPe=Ke([$X,Li,JP],wX),TPe=Ke([Li,$X,CPe,pi],bX),zX=e=>{var t=pi(e),r=Pg(e),n=!1;return by(e,t,r,n)},qX=Ke([Li,zX],US),WX=Ke([Li,JP,TPe,qX],HP),PPe=Ke([ta,QP,Li,pi],kX),OPe=Ke([ta,QP,Li,pi],AX),FPe=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=eh(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return d=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?al(a[0]-a[1])*2*d:d,u&&s?s.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}}},xf=Ke([ta,Li,JP,WX,zX,PPe,OPe,pi],FPe),e6=Ke([TX,PX,YTe],(e,t,r)=>OX(r.shared,e,t)),VX=e=>e.tooltip.settings.trigger,t6=e=>e.tooltip.settings.defaultIndex,YS=Ke([Tg,e6,VX,t6],RX),C1=Ke([YS,V0],ZP),HX=Ke([xf,C1],FX),DPe=Ke([YS],e=>{if(e)return e.dataKey}),GX=Ke([Tg,e6,VX,t6],BX),LPe=Ke([pf,mf,ta,Di,xf,t6,GX,_y],MX),IPe=Ke([YS,LPe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RPe=Ke([YS],e=>e.active),MPe=Ke([GX,C1,q0,Li,HX,_y,e6],UX),BPe=Ke([MPe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){UPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UPe(e,t,r){return(t=$Pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Pe(e){var t=zPe(e,"string");return typeof t=="symbol"?t:t+""}function zPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qPe=()=>Jt(Li),WPe=()=>{var e=qPe(),t=Jt(xf),r=Jt(WX);return lE(eR(eR({},e),{},{scale:r}),t)},VPe=()=>Jt(IP),r6=(e,t)=>t,KX=(e,t,r)=>r,n6=(e,t,r,n)=>n,HPe=Ke(xf,e=>_S(e,t=>t.coordinate)),a6=Ke([Tg,r6,KX,n6],RX),YX=Ke([a6,V0],ZP),GPe=(e,t,r)=>{if(t!=null){var n=Tg(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},XX=Ke([Tg,r6,KX,n6],BX),$_=Ke([pf,mf,ta,Di,xf,n6,XX,_y],MX),KPe=Ke([a6,$_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ZX=Ke(xf,YX,FX),YPe=Ke([XX,YX,q0,Li,ZX,_y,r6],UX),XPe=Ke([a6],e=>({isActive:e.active,activeIndex:e.index})),ZPe=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var c=Cke(e.chartX,e.chartY,t,r,o);if(c){var u=Pke(c,t),f=xke(u,s,i,n,a),d=Tke(t,i,f,c);return{activeIndex:String(f),activeCoordinate:d}}}};function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EE.apply(null,arguments)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){JPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JPe(e,t,r){return(t=QPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QPe(e){var t=e6e(e,"string");return typeof t=="symbol"?t:t+""}function e6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t6e(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:c,chartName:u}=e,f=t,d=r,h=n;if(!o||!f||u!=="ScatterChart"&&c!=="axis")return null;var p,g;if(u==="ScatterChart")p=f,g=xAe;else if(u==="BarChart")p=yAe(s,f,a,i),g=ZAe;else if(s==="radial"){var{cx:m,cy:v,radius:x,startAngle:y,endAngle:b}=GK(f);p={cx:m,cy:v,startAngle:y,endAngle:b,innerRadius:x,outerRadius:x},g=tEe}else p={points:rEe(s,f,a)},g=BK;var j=typeof o=="object"&&"className"in o?o.className:void 0,k=pw(pw(pw(pw({stroke:"#ccc",pointerEvents:"none"},a),p),In(o,!1)),{},{payload:d,payloadIndex:h,className:_n("recharts-tooltip-cursor",j)});return S.isValidElement(o)?S.cloneElement(o,k):S.createElement(g,k)}function r6e(e){var t=WPe(),r=DK(),n=cP(),a=VPe();return S.createElement(t6e,EE({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var JX=S.createContext(null),n6e=()=>S.useContext(JX),QX={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,f,d,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,p),!0;case 6:return v.fn.call(v.context,f,d,h,p,g),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var j=v.length,k;for(b=0;b<j;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,f);break;case 3:v[b].fn.call(v[b].context,f,d);break;case 4:v[b].fn.call(v[b].context,f,d,h);break;default:if(!y)for(k=1,y=new Array(x-1);k<x;k++)y[k-1]=arguments[k];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},o.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},o.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===f&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==f||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(QX);var a6e=QX.exports;const i6e=ru(a6e);var T1=new i6e,CE="recharts.syncEvent.tooltip",rR="recharts.syncEvent.brush";function s6e(e,t){if(t){var r=Number.parseInt(t,10);if(!pl(r))return e==null?void 0:e[r]}}var o6e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},eZ=wl({name:"options",initialState:o6e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),l6e=eZ.reducer,{createEventEmitter:c6e}=eZ.actions;function u6e(e){return e.tooltip.syncInteraction}var f6e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},tZ=wl({name:"chartData",initialState:f6e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:nR,setDataStartEndIndexes:d6e,setComputedData:LLe}=tZ.actions,h6e=tZ.reducer,rZ=()=>{};function p6e(){var e=Jt(RP),t=Jt(MP),r=Es(),n=Jt(KY),a=Jt(xf),i=cP(),s=lP(),o=Jt(c=>c.rootProps.className);S.useEffect(()=>{if(e==null)return rZ;var c=(u,f,d)=>{if(t!==d&&e===u){if(n==="index"){r(f);return}if(a!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},g=n(a,p);h=a[g]}else n==="value"&&(h=a.find(O=>String(O.value)===f.payload.label));var{coordinate:m}=f.payload;if(h==null||f.payload.active===!1||m==null||s==null){r(kE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:x}=m,y=Math.min(v,s.x+s.width),b=Math.min(x,s.y+s.height),j={x:i==="horizontal"?h.coordinate:y,y:i==="horizontal"?b:h.coordinate},k=kE({active:f.payload.active,coordinate:j,dataKey:f.payload.dataKey,index:String(h.index),label:f.payload.label});r(k)}}};return T1.on(CE,c),()=>{T1.off(CE,c)}},[o,r,t,e,n,a,i,s])}function m6e(){var e=Jt(RP),t=Jt(MP),r=Es();S.useEffect(()=>{if(e==null)return rZ;var n=(a,i,s)=>{t!==s&&e===a&&r(d6e(i))};return T1.on(rR,n),()=>{T1.off(rR,n)}},[r,t,e])}function g6e(){var e=Es();S.useEffect(()=>{e(c6e())},[e]),p6e(),m6e()}function v6e(e,t,r,n,a,i){var s=Jt(h=>GPe(h,e,t)),o=Jt(MP),c=Jt(RP),u=Jt(KY),f=Jt(u6e),d=f==null?void 0:f.active;S.useEffect(()=>{if(!d&&c!=null&&o!=null){var h=kE({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});T1.emit(CE,c,h,o)}},[d,r,s,a,n,o,c,u,i])}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){x6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6e(e,t,r){return(t=y6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6e(e){var t=w6e(e,"string");return typeof t=="symbol"?t:t+""}function w6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b6e(e){return e.dataKey}function _6e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Xke,t)}var sR=[],S6e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hy.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function j6e(e){var t=U0(e,S6e),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:f,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:m,shared:v,trigger:x,defaultIndex:y,portal:b,axisId:j}=t,k=Es(),O=typeof y=="number"?String(y):y;S.useEffect(()=>{k(QTe({shared:v,trigger:x,axisId:j,active:r,defaultIndex:O}))},[k,v,x,j,r,O]);var N=lP(),E=MK(),D=KTe(v),{activeIndex:M,isActive:C}=Jt(z=>XPe(z,D,x,O)),P=Jt(z=>YPe(z,D,x,O)),R=Jt(z=>ZX(z,D,x,O)),U=Jt(z=>KPe(z,D,x,O)),ee=P,J=n6e(),ae=r??C,[X,W]=oNe([ee,ae]),fe=D==="axis"?R:void 0;v6e(D,x,U,fe,M,ae);var Se=b??J;if(Se==null)return null;var T=ee??sR;ae||(T=sR),o&&T.length&&(T=L4e(ee.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),f,b6e));var L=T.length>0,B=S.createElement(nAe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:ae,coordinate:U,hasPayload:L,offset:u,position:d,reverseDirection:h,useTranslate3d:p,viewBox:N,wrapperStyle:g,lastBoundingBox:X,innerRef:W,hasPortalFromProps:!!b},_6e(s,iR(iR({},t),{},{payload:T,label:fe,active:ae,coordinate:U,accessibilityLayer:E})));return S.createElement(S.Fragment,null,Gd.createPortal(B,Se),ae&&S.createElement(r6e,{cursor:m,tooltipEventType:D,coordinate:U,payload:ee,index:M}))}var nZ={},aZ={},iZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),f=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&f(),m()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),s=void 0,o=null},v=()=>{f()},x=function(...y){if(a!=null&&a.aborted)return;s=this,o=y;const b=h==null;p(),c&&b&&f()};return x.schedule=p,x.cancel=m,x.flush=v,a==null||a.addEventListener("abort",m,{once:!0}),x}e.debounce=t})(iZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iZ;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let f,d=null;const h=t.debounce(function(...m){f=n.apply(this,m),d=null},a,{edges:u}),p=function(...m){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(f=n.apply(this,m),d=Date.now(),h.cancel(),h.schedule(),f):(h.apply(this,m),f)},g=()=>(h.flush(),f);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(aZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aZ;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(nZ);var N6e=nZ.throttle;const k6e=ru(N6e);var wx=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){A6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A6e(e,t,r){return(t=E6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E6e(e){var t=C6e(e,"string");return typeof t=="symbol"?t:t+""}function C6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6e=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:f=0,id:d,className:h,onResize:p,style:g={}}=e,m=S.useRef(null),v=S.useRef();v.current=p,S.useImperativeHandle(t,()=>m.current);var[x,y]=S.useState({containerWidth:n.width,containerHeight:n.height}),b=S.useCallback((k,O)=>{y(N=>{var E=Math.round(k),D=Math.round(O);return N.containerWidth===E&&N.containerHeight===D?N:{containerWidth:E,containerHeight:D}})},[]);S.useEffect(()=>{var k=D=>{var M,{width:C,height:P}=D[0].contentRect;b(C,P),(M=v.current)===null||M===void 0||M.call(v,C,P)};f>0&&(k=k6e(k,f,{trailing:!0,leading:!1}));var O=new ResizeObserver(k),{width:N,height:E}=m.current.getBoundingClientRect();return b(N,E),O.observe(m.current),()=>{O.disconnect()}},[b,f]);var j=S.useMemo(()=>{var{containerWidth:k,containerHeight:O}=x;if(k<0||O<0)return null;wx(Oh(a)||Oh(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),wx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var N=Oh(a)?k:a,E=Oh(i)?O:i;return r&&r>0&&(N?E=N/r:E&&(N=E*r),c&&E>c&&(E=c)),wx(N>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,E,a,i,s,o,r),S.Children.map(u,D=>S.cloneElement(D,{width:N,height:E,style:SN({width:N,height:E},D.props.style)}))},[r,u,i,c,o,s,x,a]);return S.createElement("div",{id:d?"".concat(d):void 0,className:_n("recharts-responsive-container",h),style:SN(SN({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:m},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){P6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P6e(e,t,r){return(t=O6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O6e(e){var t=F6e(e,"string");return typeof t=="symbol"?t:t+""}function F6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tp={widthCache:{},cacheCount:0},D6e=2e3,L6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cR="recharts_measurement_span";function I6e(e){var t=TE({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var bx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hy.isSsr)return{width:0,height:0};var n=I6e(r),a=JSON.stringify({text:t,copyStyle:n});if(Tp.widthCache[a])return Tp.widthCache[a];try{var i=document.getElementById(cR);i||(i=document.createElement("span"),i.setAttribute("id",cR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=TE(TE({},L6e),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return Tp.widthCache[a]=c,++Tp.cacheCount>D6e&&(Tp.cacheCount=0,Tp.widthCache={}),c}catch{return{width:0,height:0}}},uR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B6e=Object.keys(sZ),Jp="NaN";function U6e(e,t){return e*sZ[t]}class Us{static parse(t){var r,[,n,a]=(r=M6e.exec(t))!==null&&r!==void 0?r:[];return new Us(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,pl(t)&&(this.unit=""),r!==""&&!R6e.test(r)&&(this.num=NaN,this.unit=""),B6e.includes(r)&&(this.num=U6e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Us(NaN,""):new Us(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Us(NaN,""):new Us(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Us(NaN,""):new Us(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Us(NaN,""):new Us(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pl(this.num)}}function oZ(e){if(e.includes(Jp))return Jp;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=uR.exec(t))!==null&&r!==void 0?r:[],s=Us.parse(n??""),o=Us.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Jp;t=t.replace(uR,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,f,d,h]=(u=fR.exec(t))!==null&&u!==void 0?u:[],p=Us.parse(f??""),g=Us.parse(h??""),m=d==="+"?p.add(g):p.subtract(g);if(m.isNaN())return Jp;t=t.replace(fR,m.toString())}return t}var dR=/\(([^()]*)\)/;function $6e(e){for(var t=e,r;(r=dR.exec(t))!=null;){var[,n]=r;t=t.replace(dR,oZ(n))}return t}function z6e(e){var t=e.replace(/\s+/g,"");return t=$6e(t),t=oZ(t),t}function q6e(e){try{return z6e(e)}catch{return Jp}}function jN(e){var t=q6e(e.slice(5,-1));return t===Jp?"":t}var W6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],V6e=["dx","dy","angle","className","breakAll"];function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(null,arguments)}function hR(e,t){if(e==null)return{};var r,n,a=H6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lZ=/[ \f\n\r\t\v\u2028\u2029]+/,cZ=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ja(t)||(r?a=t.toString().split(""):a=t.toString().split(lZ));var i=a.map(o=>({word:o,width:bx(o,n).width})),s=r?0:bx(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},G6e=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=Wt(i),f=s,d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((P,R)=>{var{word:U,width:ee}=R,J=P[P.length-1];if(J&&(n==null||a||J.width+ee+r<Number(n)))J.words.push(U),J.width+=ee+r;else{var ae={words:[U],width:ee};P.push(ae)}return P},[])},h=d(t),p=M=>M.reduce((C,P)=>C.width>P.width?C:P);if(!u||a)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var m="…",v=M=>{var C=f.slice(0,M),P=cZ({breakAll:c,style:o,children:C+m}).wordsWithComputedWidth,R=d(P),U=R.length>i||p(R).width>Number(n);return[U,R]},x=0,y=f.length-1,b=0,j;x<=y&&b<=f.length-1;){var k=Math.floor((x+y)/2),O=k-1,[N,E]=v(O),[D]=v(k);if(!N&&!D&&(x=k+1),N&&D&&(y=k-1),!N&&D){j=E;break}b++}return j||h},pR=e=>{var t=ja(e)?[]:e.toString().split(lZ);return[{words:t}]},K6e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!hy.isSsr){var o,c,u=cZ({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:f,spaceWidth:d}=u;o=f,c=d}else return pR(n);return G6e({breakAll:i,children:n,maxLines:s,style:a},o,c,t,r)}return pR(n)},mR="#808080",i6=S.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=mR}=e,f=hR(e,W6e),d=S.useMemo(()=>K6e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:h,dy:p,angle:g,className:m,breakAll:v}=f,x=hR(f,V6e);if(!eu(r)||!eu(n))return null;var y=r+(Wt(h)?h:0),b=n+(Wt(p)?p:0),j;switch(c){case"start":j=jN("calc(".concat(i,")"));break;case"middle":j=jN("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=jN("calc(".concat(d.length-1," * -").concat(a,")"));break}var k=[];if(s){var O=d[0].width,{width:N}=f;k.push("scale(".concat(Wt(N)?N/O:1,")"))}return g&&k.push("rotate(".concat(g,", ").concat(y,", ").concat(b,")")),k.length&&(x.transform=k.join(" ")),S.createElement("text",PE({},In(x,!0),{ref:t,x:y,y:b,className:_n("recharts-text",m),textAnchor:o,fill:u.includes("url")?mR:u}),d.map((E,D)=>{var M=E.words.join(v?"":" ");return S.createElement("tspan",{x:y,dy:D===0?j:a,key:"".concat(M,"-").concat(D)},M)}))});i6.displayName="Text";var Y6e=["offset"],X6e=["labelRef"];function gR(e,t){if(e==null)return{};var r,n,a=Z6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){J6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6e(e,t,r){return(t=Q6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q6e(e){var t=eOe(e,"string");return typeof t=="symbol"?t:t+""}function eOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(null,arguments)}var tOe=e=>{var{value:t,formatter:r}=e,n=ja(e.children)?t:e.children;return typeof r=="function"?r(n):n},s6=e=>e!=null&&typeof e=="function",rOe=(e,t)=>{var r=al(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nOe=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:f,startAngle:d,endAngle:h,clockWise:p}=a,g=(u+f)/2,m=rOe(d,h),v=m>=0?1:-1,x,y;n==="insideStart"?(x=d+v*i,y=p):n==="insideEnd"?(x=h-v*i,y=!p):n==="end"&&(x=h+v*i,y=p),y=m<=0?y:!y;var b=Ci(o,c,g,x),j=Ci(o,c,g,x+(y?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(j.x,",").concat(j.y),O=ja(e.id)?w1("recharts-radial-line-"):e.id;return S.createElement("text",Ou({},r,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",s)}),S.createElement("defs",null,S.createElement("path",{id:O,d:k})),S.createElement("textPath",{xlinkHref:"#".concat(O)},t))},aOe=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:s,outerRadius:o,startAngle:c,endAngle:u}=t,f=(c+u)/2;if(n==="outside"){var{x:d,y:h}=Ci(a,i,o+r,f);return{x:d,y:h,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+o)/2,{x:g,y:m}=Ci(a,i,p,f);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},iOe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:s,width:o,height:c}=t,u=c>=0?1:-1,f=u*n,d=u>0?"end":"start",h=u>0?"start":"end",p=o>=0?1:-1,g=p*n,m=p>0?"end":"start",v=p>0?"start":"end";if(a==="top"){var x={x:i+o/2,y:s-u*n,textAnchor:"middle",verticalAnchor:d};return Pa(Pa({},x),r?{height:Math.max(s-r.y,0),width:o}:{})}if(a==="bottom"){var y={x:i+o/2,y:s+c+f,textAnchor:"middle",verticalAnchor:h};return Pa(Pa({},y),r?{height:Math.max(r.y+r.height-(s+c),0),width:o}:{})}if(a==="left"){var b={x:i-g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"};return Pa(Pa({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(a==="right"){var j={x:i+o+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return Pa(Pa({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var k=r?{width:o,height:c}:{};return a==="insideLeft"?Pa({x:i+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},k):a==="insideRight"?Pa({x:i+o-g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"},k):a==="insideTop"?Pa({x:i+o/2,y:s+f,textAnchor:"middle",verticalAnchor:h},k):a==="insideBottom"?Pa({x:i+o/2,y:s+c-f,textAnchor:"middle",verticalAnchor:d},k):a==="insideTopLeft"?Pa({x:i+g,y:s+f,textAnchor:v,verticalAnchor:h},k):a==="insideTopRight"?Pa({x:i+o-g,y:s+f,textAnchor:m,verticalAnchor:h},k):a==="insideBottomLeft"?Pa({x:i+g,y:s+c-f,textAnchor:v,verticalAnchor:d},k):a==="insideBottomRight"?Pa({x:i+o-g,y:s+c-f,textAnchor:m,verticalAnchor:d},k):a&&typeof a=="object"&&(Wt(a.x)||Oh(a.x))&&(Wt(a.y)||Oh(a.y))?Pa({x:i+zd(a.x,o),y:s+zd(a.y,c),textAnchor:"end",verticalAnchor:"end"},k):Pa({x:i+o/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},sOe=e=>"cx"in e&&Wt(e.cx);function xo(e){var{offset:t=5}=e,r=gR(e,Y6e),n=Pa({offset:t},r),{viewBox:a,position:i,value:s,children:o,content:c,className:u="",textBreakAll:f,labelRef:d}=n,h=lP(),p=a||h;if(!p||ja(s)&&ja(o)&&!S.isValidElement(c)&&typeof c!="function")return null;if(S.isValidElement(c)){var g=gR(n,X6e);return S.cloneElement(c,g)}var m;if(typeof c=="function"){if(m=S.createElement(c,n),S.isValidElement(m))return m}else m=tOe(n);var v=sOe(p),x=In(n,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return nOe(n,m,x);var y=v?aOe(n):iOe(n,p);return S.createElement(i6,Ou({ref:d,className:_n("recharts-label",u)},x,y,{breakAll:f}),m)}xo.displayName="Label";var uZ=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:s,radius:o,innerRadius:c,outerRadius:u,x:f,y:d,top:h,left:p,width:g,height:m,clockWise:v,labelViewBox:x}=e;if(x)return x;if(Wt(g)&&Wt(m)){if(Wt(f)&&Wt(d))return{x:f,y:d,width:g,height:m};if(Wt(h)&&Wt(p))return{x:h,y:p,width:g,height:m}}if(Wt(f)&&Wt(d))return{x:f,y:d,width:0,height:0};if(Wt(t)&&Wt(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||o||s||0,clockWise:v};if(e.viewBox)return e.viewBox},oOe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(xo,Ou({key:"label-implicit"},n)):eu(e)?S.createElement(xo,Ou({key:"label-implicit",value:e},n)):S.isValidElement(e)?e.type===xo?S.cloneElement(e,Pa({key:"label-implicit"},n)):S.createElement(xo,Ou({key:"label-implicit",content:e},n)):s6(e)?S.createElement(xo,Ou({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(xo,Ou({},e,{key:"label-implicit"},n)):null},lOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,s=uZ(t),o=xG(a,xo).map((u,f)=>S.cloneElement(u,{viewBox:r||s,key:"label-".concat(f)}));if(!n)return o;var c=oOe(t.label,r||s,i);return[c,...o]};xo.parseViewBox=uZ;xo.renderCallByParent=lOe;var fZ={},dZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(dZ);var hZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dZ,r=hZ,n=vS;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(fZ);var cOe=fZ.last;const uOe=ru(cOe);var fOe=["valueAccessor"],dOe=["data","dataKey","clockWise","id","textBreakAll"];function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(null,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){hOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hOe(e,t,r){return(t=pOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pOe(e){var t=mOe(e,"string");return typeof t=="symbol"?t:t+""}function mOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wR(e,t){if(e==null)return{};var r,n,a=gOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vOe=e=>Array.isArray(e.value)?uOe(e.value):e.value;function r0(e){var{valueAccessor:t=vOe}=e,r=wR(e,fOe),{data:n,dataKey:a,clockWise:i,id:s,textBreakAll:o}=r,c=wR(r,dOe);return!n||!n.length?null:S.createElement(qd,{className:"recharts-label-list"},n.map((u,f)=>{var d=ja(a)?t(u,f):Co(u&&u.payload,a),h=ja(s)?{}:{id:"".concat(s,"-").concat(f)};return S.createElement(xo,z_({},In(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:o,viewBox:xo.parseViewBox(ja(i)?u:yR(yR({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}r0.displayName="LabelList";function xOe(e,t){return e?e===!0?S.createElement(r0,{key:"labelList-implicit",data:t}):S.isValidElement(e)||s6(e)?S.createElement(r0,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?S.createElement(r0,z_({data:t},e,{key:"labelList-implicit"})):null:null}function yOe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=xG(n,r0).map((s,o)=>S.cloneElement(s,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var i=xOe(e.label,t);return[i,...a]}r0.renderCallByParent=yOe;function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OE.apply(null,arguments)}var pZ=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=_n("recharts-dot",a);return t===+t&&r===+r&&n===+n?S.createElement("circle",OE({},In(e,!1),qT(e),{className:i,cx:t,cy:r,r:n})):null},wOe={radiusAxis:{},angleAxis:{}},bOe=wl({name:"polarAxis",initialState:wOe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),_Oe=bOe.reducer,SOe={countOfBars:0,cartesianItems:[],polarItems:[]},mZ=wl({name:"graphicalItems",initialState:SOe,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Vu(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Vu(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Vu(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:ILe,removeBar:RLe,addCartesianGraphicalItem:jOe,replaceCartesianGraphicalItem:NOe,removeCartesianGraphicalItem:kOe,addPolarGraphicalItem:MLe,removePolarGraphicalItem:BLe}=mZ.actions,AOe=mZ.reducer;function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){EOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EOe(e,t,r){return(t=COe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function COe(e){var t=TOe(e,"string");return typeof t=="symbol"?t:t+""}function TOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function POe(e){var t=Es(),r=S.useRef(null);return S.useEffect(()=>{var n=_R(_R({},e),{},{stackId:Nke(e.stackId)});r.current===null?t(jOe(n)):r.current!==n&&t(NOe({prev:r.current,next:n})),r.current=n},[t,e]),S.useEffect(()=>()=>{r.current&&(t(kOe(r.current)),r.current=null)},[t]),null}function OOe(e){var{fn:t,args:r}=e,n=Es(),a=Zs();return S.useEffect(()=>{if(!a){var i=t(r);return n(ZTe(i)),()=>{n(JTe(i))}}},[t,r,n,a]),null}var FOe=()=>{};function DOe(e){var{legendPayload:t}=e,r=Es(),n=Zs();return S.useEffect(()=>n?FOe:(r(qke(t)),()=>{r(Wke(t))}),[r,n,t]),null}function LOe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(w1(t)),n=S.useRef(e);return n.current!==e&&(r.current=w1(t),n.current=e),r.current}var IOe=Ke([Di],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ROe=Ke([IOe,pf,mf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),MOe=e=>{var t=Zs();return Jt(r=>GS(r,"xAxis",e,t))},BOe=e=>{var t=Zs();return Jt(r=>GS(r,"yAxis",e,t))},o6=()=>Jt(ROe),UOe=()=>Jt(BPe);function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){$Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t,r){return(t=zOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOe(e){var t=qOe(e,"string");return typeof t=="symbol"?t:t+""}function qOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WOe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=jR(jR({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},In(a,!1)),qT(a)),o;return S.isValidElement(a)?o=S.cloneElement(a,s):typeof a=="function"?o=a(s):o=S.createElement(pZ,s),S.createElement(qd,{className:"recharts-active-dot"},o)};function VOe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Jt(C1),s=UOe();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return ja(o)?null:WOe({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var HOe=["children"];function GOe(e,t){if(e==null)return{};var r,n,a=KOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NR=()=>{},gZ=S.createContext({addErrorBar:NR,removeErrorBar:NR}),YOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vZ=S.createContext(YOe);function XOe(e){var{children:t}=e,r=GOe(e,HOe);return S.createElement(vZ.Provider,{value:r},t)}var ZOe=()=>S.useContext(vZ),JOe=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:s,stackId:o,hide:c,type:u,barSize:f}=e,[d,h]=S.useState([]),p=S.useCallback(v=>{h(x=>[...x,v])},[h]),g=S.useCallback(v=>{h(x=>x.filter(y=>y!==v))},[h]),m=Zs();return S.createElement(gZ.Provider,{value:{addErrorBar:p,removeErrorBar:g}},S.createElement(POe,{type:u,data:s,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:d,stackId:o,hide:c,barSize:f,isPanorama:m}),t)};function QOe(e){var{addErrorBar:t,removeErrorBar:r}=S.useContext(gZ);return S.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var e8e=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function xZ(e,t,r){return(t=t8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8e(e){var t=r8e(e,"string");return typeof t=="symbol"?t:t+""}function r8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(null,arguments)}function n8e(e,t){if(e==null)return{};var r,n,a=a8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i8e(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o}=e,c=n8e(e,e8e),u=In(c,!1),{data:f,dataPointFormatter:d,xAxisId:h,yAxisId:p,errorBarOffset:g}=ZOe(),m=MOe(h),v=BOe(p);if((m==null?void 0:m.scale)==null||(v==null?void 0:v.scale)==null||f==null||t==="x"&&m.type!=="number")return null;var x=f.map(y=>{var{x:b,y:j,value:k,errorVal:O}=d(y,n,t);if(!O)return null;var N=[],E,D;if(Array.isArray(O)?[E,D]=O:E=D=O,t==="x"){var{scale:M}=m,C=j+g,P=C+r,R=C-r,U=M(k-E),ee=M(k+D);N.push({x1:ee,y1:P,x2:ee,y2:R}),N.push({x1:U,y1:C,x2:ee,y2:C}),N.push({x1:U,y1:P,x2:U,y2:R})}else if(t==="y"){var{scale:J}=v,ae=b+g,X=ae-r,W=ae+r,fe=J(k-E),Se=J(k+D);N.push({x1:X,y1:Se,x2:W,y2:Se}),N.push({x1:ae,y1:fe,x2:ae,y2:Se}),N.push({x1:X,y1:fe,x2:W,y2:fe})}var T="".concat(b+g,"px ").concat(j+g,"px");return S.createElement(qd,P1({className:"recharts-errorBar",key:"bar-".concat(N.map(L=>"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)))},u),N.map(L=>{var B=a?{transformOrigin:"".concat(L.x1-5,"px")}:void 0;return S.createElement(E_,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:i,easing:o,isActive:a,duration:s,key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2),style:{transformOrigin:T}},S.createElement("line",P1({},L,{style:B})))}))});return S.createElement(qd,{className:"recharts-errorBars"},x)}var yZ=S.createContext(void 0);function s8e(e){var t=S.useContext(yZ);return e??t??"x"}function o8e(e){var{direction:t,children:r}=e;return S.createElement(yZ.Provider,{value:t},r)}var wZ={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function l8e(e){var t=s8e(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:s}=U0(e,wZ);return S.createElement(S.Fragment,null,S.createElement(QOe,{dataKey:e.dataKey,direction:t}),S.createElement(i8e,P1({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:s})))}class bZ extends S.Component{render(){return S.createElement(l8e,this.props)}}xZ(bZ,"defaultProps",wZ);xZ(bZ,"displayName","ErrorBar");function _Z(e,t){var r,n,a=Jt(u=>vf(u,e)),i=Jt(u=>nh(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:oo.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:lo.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function c8e(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=o6(),{needClipX:i,needClipY:s,needClip:o}=_Z(t,r);if(!o)return null;var{x:c,y:u,width:f,height:d}=a;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:i?c:c-f/2,y:s?u:u-d/2,width:i?f:f*2,height:s?d:d*2}))}var u8e=e=>{var{chartData:t}=e,r=Es(),n=Zs();return S.useEffect(()=>n?()=>{}:(r(nR(t)),()=>{r(nR(void 0))}),[t,r,n]),null},kR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},f8e=wl({name:"brush",initialState:kR,reducers:{setBrushSettings(e,t){return t.payload==null?kR:t.payload}}}),d8e=f8e.reducer;function h8e(e,t,r){return(t=p8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8e(e){var t=m8e(e,"string");return typeof t=="symbol"?t:t+""}function m8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class l6{static create(t){return new l6(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}h8e(l6,"EPS",1e-4);function g8e(e){return(e%180+180)%180}var v8e=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=g8e(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},x8e={dots:[],areas:[],lines:[]},y8e=wl({name:"referenceElements",initialState:x8e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Vu(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Vu(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Vu(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),w8e=y8e.reducer,b8e=S.createContext(void 0),_8e=e=>{var{children:t}=e,[r]=S.useState("".concat(w1("recharts"),"-clip")),n=o6();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return S.createElement(b8e.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function NN(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function SZ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function S8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return v8e(n,r)}function j8e(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function q_(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function N8e(e,t){return SZ(e,t+1)}function k8e(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,f=s,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:SZ(n,u)};var m=c,v,x=()=>(v===void 0&&(v=r(g,m)),v),y=g.coordinate,b=c===0||q_(e,y,x,f,o);b||(c=0,f=s,u+=1),b&&(f=y+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){A8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8e(e,t,r){return(t=E8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8e(e){var t=C8e(e,"string");return typeof t=="symbol"?t:t+""}function C8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,u=function(h){var p=i[h],g,m=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=Ki(Ki({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Ki(Ki({},p),{},{tickCoord:p.coordinate});var x=q_(e,p.tickCoord,m,o,c);x&&(c=p.tickCoord-e*(m()/2+a),i[h]=Ki(Ki({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function P8e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(i){var f=n[o-1],d=r(f,o-1),h=e*(f.coordinate+e*d/2-u);s[o-1]=f=Ki(Ki({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=q_(e,f.tickCoord,()=>d,c,u);p&&(u=f.tickCoord-e*(d/2+a),s[o-1]=Ki(Ki({},f),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(y){var b=s[y],j,k=()=>(j===void 0&&(j=r(b,y)),j);if(y===0){var O=e*(b.coordinate-e*k()/2-c);s[y]=b=Ki(Ki({},b),{},{tickCoord:O<0?b.coordinate-O*e:b.coordinate})}else s[y]=b=Ki(Ki({},b),{},{tickCoord:b.coordinate});var N=q_(e,b.tickCoord,k,c,u);N&&(c=b.tickCoord+e*(k()/2+a),s[y]=Ki(Ki({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function c6(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:f,angle:d}=e;if(!a||!a.length||!n)return[];if(Wt(c)||hy.isSsr){var h;return(h=N8e(a,Wt(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",m=f&&g==="width"?bx(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return g==="width"?S8e(bx(k,{fontSize:t,letterSpacing:r}),m,d):bx(k,{fontSize:t,letterSpacing:r})[g]},x=a.length>=2?al(a[1].coordinate-a[0].coordinate):1,y=j8e(i,x,g);return c==="equidistantPreserveStart"?k8e(x,y,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=P8e(x,y,v,a,s,c==="preserveStartEnd"):p=T8e(x,y,v,a,s),p.filter(b=>b.isShow))}var O8e=["viewBox"],F8e=["viewBox"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){u6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CR(e,t){if(e==null)return{};var r,n,a=D8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function u6(e,t,r){return(t=L8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e){var t=I8e(e,"string");return typeof t=="symbol"?t:t+""}function I8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ah extends S.Component{constructor(t){super(t),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=CR(t,O8e),i=this.props,{viewBox:s}=i,o=CR(i,F8e);return!NN(n,s)||!NN(a,o)||!NN(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:s,tickSize:o,mirror:c,tickMargin:u}=this.props,f,d,h,p,g,m,v=c?-1:1,x=t.tickSize||o,y=Wt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=d=t.coordinate,p=n+ +!c*i,h=p-v*x,m=h-v*u,g=y;break;case"left":h=p=t.coordinate,d=r+ +!c*a,f=d-v*x,g=f-v*u,m=y;break;case"right":h=p=t.coordinate,d=r+ +c*a,f=d+v*x,g=f+v*u,m=y;break;default:f=d=t.coordinate,p=n+ +c*i,h=p+v*x,m=h+v*u,g=y;break}return{line:{x1:f,y1:h,x2:d,y2:p},tick:{x:g,y:m}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o}=this.props,c=Ma(Ma(Ma({},In(this.props,!1)),In(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!s||i==="bottom"&&s);c=Ma(Ma({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);c=Ma(Ma({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return S.createElement("line",Qp({},c,{className:_n("recharts-cartesian-axis-line",j0(o,"className"))}))}static renderTickItem(t,r,n){var a,i=_n(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))a=S.cloneElement(t,Ma(Ma({},r),{},{className:i}));else if(typeof t=="function")a=t(Ma(Ma({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=_n(s,t.className)),a=S.createElement(i6,Qp({},r,{className:s}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:s,tickFormatter:o,unit:c}=this.props,u=c6(Ma(Ma({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=In(this.props,!1),p=In(s,!1),g=Ma(Ma({},h),{},{fill:"none"},In(a,!1)),m=u.map((v,x)=>{var{line:y,tick:b}=this.getTickLineCoord(v),j=Ma(Ma(Ma(Ma({textAnchor:f,verticalAnchor:d},h),{},{stroke:"none",fill:i},p),b),{},{index:x,payload:v,visibleTicksCount:u.length,tickFormatter:o});return S.createElement(qd,Qp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},n4e(this.props,v,x)),a&&S.createElement("line",Qp({},g,y,{className:_n("recharts-cartesian-axis-tick-line",j0(a,"className"))})),s&&ah.renderTickItem(s,j,"".concat(typeof o=="function"?o(v.value,x):v.value).concat(c||"")))});return m.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:S.createElement(qd,{className:_n("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var f=window.getComputedStyle(u).fontSize,d=window.getComputedStyle(u).letterSpacing;(f!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),xo.renderCallByParent(this.props))}}u6(ah,"displayName","CartesianAxis");u6(ah,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var R8e=["x1","y1","x2","y2","key"],M8e=["offset"],B8e=["xAxisId","yAxisId"],U8e=["xAxisId","yAxisId"];function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){$8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $8e(e,t,r){return(t=z8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8e(e){var t=q8e(e,"string");return typeof t=="symbol"?t:t+""}function q8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}function W_(e,t){if(e==null)return{};var r,n,a=W8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V8e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return S.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jZ(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,c=W_(t,R8e),u=In(c,!1),f=W_(u,M8e);r=S.createElement("line",Ih({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function H8e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=W_(e,B8e),s=a.map((o,c)=>{var u=Qi(Qi({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return jZ(n,u)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function G8e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=W_(e,U8e),s=a.map((o,c)=>{var u=Qi(Qi({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return jZ(n,u)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function K8e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==u[0]&&u.unshift(0);var f=u.map((d,h)=>{var p=!u[h+1],g=p?a+s-d:u[h+1]-d;if(g<=0)return null;var m=h%t.length;return S.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:g,width:i,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Y8e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==u[0]&&u.unshift(0);var f=u.map((d,h)=>{var p=!u[h+1],g=p?a+s-d:u[h+1]-d;if(g<=0)return null;var m=h%r.length;return S.createElement("rect",{key:"react-".concat(h),x:d,y:i,width:g,height:o,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var X8e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return CK(c6(Qi(Qi(Qi({},ah.defaultProps),r),{},{ticks:TK(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Z8e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return CK(c6(Qi(Qi(Qi({},ah.defaultProps),r),{},{ticks:TK(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},J8e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function NZ(e){var t=LK(),r=IK(),n=DK(),a=Qi(Qi({},U0(e,J8e)),{},{x:Wt(e.x)?e.x:n.left,y:Wt(e.y)?e.y:n.top,width:Wt(e.width)?e.width:n.width,height:Wt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:u,height:f,syncWithTicks:d,horizontalValues:h,verticalValues:p}=a,g=Zs(),m=Jt(D=>YI(D,"xAxis",i,g)),v=Jt(D=>YI(D,"yAxis",s,g));if(!Wt(u)||u<=0||!Wt(f)||f<=0||!Wt(o)||o!==+o||!Wt(c)||c!==+c)return null;var x=a.verticalCoordinatesGenerator||X8e,y=a.horizontalCoordinatesGenerator||Z8e,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof y=="function"){var k=h&&h.length,O=y({yAxis:v?Qi(Qi({},v),{},{ticks:k?h:v.ticks}):void 0,width:t,height:r,offset:n},k?!0:d);wx(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(b=O)}if((!j||!j.length)&&typeof x=="function"){var N=p&&p.length,E=x({xAxis:m?Qi(Qi({},m),{},{ticks:N?p:m.ticks}):void 0,width:t,height:r,offset:n},N?!0:d);wx(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(V8e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),S.createElement(K8e,Ih({},a,{horizontalPoints:b})),S.createElement(Y8e,Ih({},a,{verticalPoints:j})),S.createElement(H8e,Ih({},a,{offset:n,horizontalPoints:b,xAxis:m,yAxis:v})),S.createElement(G8e,Ih({},a,{offset:n,verticalPoints:j,xAxis:m,yAxis:v})))}NZ.displayName="CartesianGrid";var kZ=(e,t,r,n)=>GS(e,"xAxis",t,n),AZ=(e,t,r,n)=>CX(e,"xAxis",t,n),EZ=(e,t,r,n)=>GS(e,"yAxis",r,n),CZ=(e,t,r,n)=>CX(e,"yAxis",r,n),Q8e=Ke([ta,kZ,EZ,AZ,CZ],(e,t,r,n,a)=>eh(e,"xAxis")?lE(t,n,!1):lE(r,a,!1)),eFe=(e,t,r,n,a)=>a,tFe=Ke([tX,eFe],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),rFe=Ke([ta,kZ,EZ,AZ,CZ,tFe,Q8e,FY],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:d,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,f+1),p!=null)return bFe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:s,displayedData:p})}}),nFe=["type","layout","connectNulls","needClip"],aFe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function TZ(e,t){if(e==null)return{};var r,n,a=iFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){XS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XS(e,t,r){return(t=sFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sFe(e){var t=oFe(e,"string");return typeof t=="symbol"?t:t+""}function oFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}var lFe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:PK(r,t),payload:e}]};function cFe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:PK(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var PZ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function uFe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var fFe=(e,t,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return PZ(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var f=o.length%2===0?[0,s]:[s];return[...uFe(r,a),...o,...f].map(d=>"".concat(d,"px")).join(", ")};function dFe(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=_n("recharts-line-dot",typeof e!="boolean"?e.className:"");r=S.createElement(pZ,sg({},t,{className:n}))}return r}function hFe(e,t){return e==null?!1:t?!0:e.length===1}function pFe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!hFe(r,a))return null;var o=yG(a),c=In(n,!1),u=In(a,!0),f=r.map((h,p)=>{var g=Wl(Wl(Wl({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return dFe(a,g)}),d={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return S.createElement(qd,sg({className:"recharts-line-dots",key:"dots"},d),f)}function FE(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:s}=e,{type:o,layout:c,connectNulls:u,needClip:f}=i,d=TZ(i,nFe),h=Wl(Wl({},In(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):null,points:n,type:o,layout:c,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return S.createElement(S.Fragment,null,(n==null?void 0:n.length)>1&&S.createElement(BK,sg({},h,{pathRef:r})),S.createElement(pFe,{points:n,clipPathId:t,props:i}),s&&r0.renderCallByParent(i,n))}function mFe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function gFe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:f,animationEasing:d,animateNewValues:h,width:p,height:g,onAnimationEnd:m,onAnimationStart:v}=r,x=a.current,y=LOe(r,"recharts-line-"),[b,j]=S.useState(!1),k=S.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),O=S.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),N=mFe(n.current),E=i.current;return S.createElement(E_,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:O,key:y},D=>{var{t:M}=D,C=Sv(E,N+E),P=Math.min(C(M),N),R;if(o){var U="".concat(o).split(/[,\s]+/gim).map(ae=>parseFloat(ae));R=fFe(P,N,U)}else R=PZ(N,P);if(x){var ee=x.length/s.length,J=M===1?s:s.map((ae,X)=>{var W=Math.floor(X*ee);if(x[W]){var fe=x[W],Se=Sv(fe.x,ae.x),T=Sv(fe.y,ae.y);return Wl(Wl({},ae),{},{x:Se(M),y:T(M)})}if(h){var L=Sv(p*2,ae.x),B=Sv(g/2,ae.y);return Wl(Wl({},ae),{},{x:L(M),y:B(M)})}return Wl(Wl({},ae),{},{x:ae.x,y:ae.y})});return a.current=J,S.createElement(FE,{props:r,points:J,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:R})}return M>0&&N>0&&(a.current=s,i.current=P),S.createElement(FE,{props:r,points:s,clipPathId:t,pathRef:n,showLabels:!b,strokeDasharray:R})})}function vFe(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=S.useRef(null),s=S.useRef(0),o=S.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?S.createElement(gFe,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:s,pathRef:o}):S.createElement(FE,{props:r,points:n,clipPathId:t,pathRef:o,showLabels:!0})}var xFe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Co(e.payload,t)});class yFe extends S.Component{constructor(){super(...arguments),XS(this,"id",w1("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:c,left:u,width:f,height:d,id:h,needClip:p,layout:g}=this.props;if(r)return null;var m=_n("recharts-line",i),v=ja(h)?this.id:h,{r:x=3,strokeWidth:y=2}=(t=In(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=yG(n),j=x*2+y;return S.createElement(S.Fragment,null,S.createElement(qd,{className:m},p&&S.createElement("defs",null,S.createElement(c8e,{clipPathId:v,xAxisId:s,yAxisId:o}),!b&&S.createElement("clipPath",{id:"clipPath-dots-".concat(v)},S.createElement("rect",{x:u-j/2,y:c-j/2,width:f+j,height:d+j}))),S.createElement(vFe,{props:this.props,clipPathId:v}),S.createElement(o8e,{direction:g==="horizontal"?"y":"x"},S.createElement(XOe,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:xFe,errorBarOffset:0},this.props.children))),S.createElement(VOe,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var OZ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hy.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function wFe(e){var t=U0(e,OZ),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:f,label:d,legendType:h,xAxisId:p,yAxisId:g}=t,m=TZ(t,aFe),{needClip:v}=_Z(p,g),{height:x,width:y,x:b,y:j}=o6(),k=cP(),O=Zs(),N=S.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),E=Jt(D=>rFe(D,p,g,O,N));return k!=="horizontal"&&k!=="vertical"?null:S.createElement(yFe,sg({},m,{connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:f,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:g,points:E,layout:k,height:x,width:y,left:b,top:j,needClip:v}))}function bFe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,f)=>{var d=Co(u,s);return t==="horizontal"?{x:$L({axis:r,ticks:a,bandSize:o,entry:u,index:f}),y:ja(d)?null:n.scale(d),value:d,payload:u}:{x:ja(d)?null:r.scale(d),y:$L({axis:n,ticks:i,bandSize:o,entry:u,index:f}),value:d,payload:u}})}class _x extends S.PureComponent{render(){return S.createElement(JOe,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},S.createElement(DOe,{legendPayload:lFe(this.props)}),S.createElement(OOe,{fn:cFe,args:this.props}),S.createElement(wFe,this.props))}}XS(_x,"displayName","Line");XS(_x,"defaultProps",OZ);function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){_Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Fe(e,t,r){return(t=SFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SFe(e){var t=jFe(e,"string");return typeof t=="symbol"?t:t+""}function jFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NFe={xAxis:{},yAxis:{},zAxis:{}},FZ=wl({name:"cartesianAxis",initialState:NFe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=FR(FR({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:kFe,removeXAxis:AFe,addYAxis:EFe,removeYAxis:CFe,addZAxis:ULe,removeZAxis:$Le,updateYAxisWidth:TFe}=FZ.actions,PFe=FZ.reducer,OFe=["children"],FFe=["dangerouslySetInnerHTML","ticks"];function DZ(e,t,r){return(t=DFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DFe(e){var t=LFe(e,"string");return typeof t=="symbol"?t:t+""}function LFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(null,arguments)}function LZ(e,t){if(e==null)return{};var r,n,a=IFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RFe(e){var t=Es(),r=S.useMemo(()=>{var i=LZ(e,OFe);return i},[e]),n=Jt(i=>vf(i,r.id)),a=r===n;return S.useEffect(()=>(t(kFe(r)),()=>{t(AFe(r))}),[r,t]),a?e.children:null}var MFe=e=>{var{xAxisId:t,className:r}=e,n=Jt(FK),a=Zs(),i="xAxis",s=Jt(d=>Cg(d,i,t,a)),o=Jt(d=>EX(d,i,t,a)),c=Jt(d=>ITe(d,t)),u=Jt(d=>$Te(d,t));if(c==null||u==null)return null;var f=LZ(e,FFe);return S.createElement(ah,DE({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:_n("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},BFe=e=>{var t,r,n,a,i;return S.createElement(RFe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},S.createElement(MFe,e))};class f6 extends S.Component{render(){return S.createElement(BFe,this.props)}}DZ(f6,"displayName","XAxis");DZ(f6,"defaultProps",{allowDataOverflow:oo.allowDataOverflow,allowDecimals:oo.allowDecimals,allowDuplicatedCategory:oo.allowDuplicatedCategory,height:oo.height,hide:!1,mirror:oo.mirror,orientation:oo.orientation,padding:oo.padding,reversed:oo.reversed,scale:oo.scale,tickCount:oo.tickCount,type:oo.type,xAxisId:0});var UFe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(f=>{if(f){var d=f.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+o+(r?n:0);return Math.round(u)}return 0},$Fe=["dangerouslySetInnerHTML","ticks"];function IZ(e,t,r){return(t=zFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zFe(e){var t=qFe(e,"string");return typeof t=="symbol"?t:t+""}function qFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(null,arguments)}function WFe(e,t){if(e==null)return{};var r,n,a=VFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HFe(e){var t=Es();return S.useEffect(()=>(t(EFe(e)),()=>{t(CFe(e))}),[e,t]),null}var GFe=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,s=S.useRef(null),o=S.useRef(null),c=Jt(FK),u=Zs(),f=Es(),d="yAxis",h=Jt(x=>Cg(x,d,r,u)),p=Jt(x=>qTe(x,r)),g=Jt(x=>zTe(x,r)),m=Jt(x=>EX(x,d,r,u));if(S.useLayoutEffect(()=>{var x;if(!(a!=="auto"||!p||s6(i)||S.isValidElement(i))){var y=s.current,b=y==null||(x=y.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:j,tickMargin:k}=y.props,O=UFe({ticks:b,label:o.current,labelGapWithTick:5,tickSize:j,tickMargin:k});Math.round(p.width)!==Math.round(O)&&f(TFe({id:r,width:O}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,f,i,r,a]),p==null||g==null)return null;var v=WFe(e,$Fe);return S.createElement(ah,LE({},v,{ref:s,labelRef:o,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:_n("recharts-".concat(d," ").concat(d),n),viewBox:c,ticks:m}))},KFe=e=>{var t,r,n,a,i;return S.createElement(S.Fragment,null,S.createElement(HFe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),S.createElement(GFe,e))},YFe={allowDataOverflow:lo.allowDataOverflow,allowDecimals:lo.allowDecimals,allowDuplicatedCategory:lo.allowDuplicatedCategory,hide:!1,mirror:lo.mirror,orientation:lo.orientation,padding:lo.padding,reversed:lo.reversed,scale:lo.scale,tickCount:lo.tickCount,type:lo.type,width:lo.width,yAxisId:0};class d6 extends S.Component{render(){return S.createElement(KFe,this.props)}}IZ(d6,"displayName","YAxis");IZ(d6,"defaultProps",YFe);var XFe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=S;function ZFe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JFe=typeof Object.is=="function"?Object.is:ZFe,QFe=Sy.useSyncExternalStore,eDe=Sy.useRef,tDe=Sy.useEffect,rDe=Sy.useMemo,nDe=Sy.useDebugValue;XFe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=eDe(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=rDe(function(){function c(p){if(!u){if(u=!0,f=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return d=g}return d=p}if(g=d,JFe(f,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(f=p,g):(f=p,d=m)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=QFe(e,i[0],i[1]);return tDe(function(){s.hasValue=!0,s.value=o},[o]),nDe(o),o};function aDe(e){e()}function iDe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){aDe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var DR={notify(){},get:()=>[]};function sDe(e,t){let r,n=DR,a=0,i=!1;function s(m){f();const v=n.subscribe(m);let x=!1;return()=>{x||(x=!0,v(),d())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function f(){a++,r||(r=e.subscribe(c),n=iDe())}function d(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=DR)}function h(){i||(i=!0,f())}function p(){i&&(i=!1,d())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var oDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lDe=oDe(),cDe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uDe=cDe(),fDe=()=>lDe||uDe?S.useLayoutEffect:S.useEffect,dDe=fDe(),kN=Symbol.for("react-redux-context"),AN=typeof globalThis<"u"?globalThis:{};function hDe(){if(!S.createContext)return{};const e=AN[kN]??(AN[kN]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var pDe=hDe();function mDe(e){const{children:t,context:r,serverState:n,store:a}=e,i=S.useMemo(()=>{const c=sDe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=S.useMemo(()=>a.getState(),[a]);dDe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||pDe;return S.createElement(o.Provider,{value:i},t)}var gDe=mDe,vDe=(e,t)=>t,h6=Ke([vDe,ta,JCe,pi,qX,xf,HPe,Di],ZPe),p6=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},RZ=ml("mouseClick"),MZ=dy();MZ.startListening({actionCreator:RZ,effect:(e,t)=>{var r=e.payload,n=h6(t.getState(),p6(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(tPe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var IE=ml("mouseMove"),BZ=dy();BZ.startListening({actionCreator:IE,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=XP(n,n.tooltip.settings.shared),i=h6(n,p6(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(IX({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(LX()))}});function xDe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var LR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},UZ=wl({name:"rootProps",initialState:LR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),yDe=UZ.reducer,{updateOptions:wDe}=UZ.actions,bDe=wl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),_De=bDe.reducer,$Z=ml("keyDown"),zZ=ml("focus"),m6=dy();m6.startListening({actionCreator:$Z,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(ZP(a,V0(r))),o=xf(r);if(i==="Enter"){var c=$_(r,"axis","hover",String(a.index));t.dispatch(AE({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=GTe(r),f=u==="left-to-right"?1:-1,d=i==="ArrowRight"?1:-1,h=s+d*f;if(!(o==null||h>=o.length||h<0)){var p=$_(r,"axis","hover",String(h));t.dispatch(AE({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});m6.startListening({actionCreator:zZ,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=$_(r,"axis","hover",String(i));t.dispatch(AE({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Yo=ml("externalEvent"),qZ=dy();qZ.startListening({actionCreator:Yo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:IPe(r),activeDataKey:DPe(r),activeIndex:C1(r),activeLabel:HX(r),activeTooltipIndex:C1(r),isTooltipActive:RPe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var SDe=Ke([Tg],e=>e.tooltipItemPayloads),jDe=Ke([SDe,_y,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),WZ=ml("touchMove"),VZ=dy();VZ.startListening({actionCreator:WZ,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=XP(n,n.tooltip.settings.shared);if(a==="axis"){var i=h6(n,p6({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(IX({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Fke),f=(s=c.getAttribute(Dke))!==null&&s!==void 0?s:void 0,d=jDe(t.getState(),u,f);t.dispatch(ePe({activeDataKey:f,activeIndex:u,activeCoordinate:d}))}}});var NDe=sK({brush:d8e,cartesianAxis:PFe,chartData:h6e,graphicalItems:AOe,layout:ake,legend:Vke,options:l6e,polarAxis:_Oe,polarOptions:_De,referenceElements:w8e,rootProps:yDe,tooltip:rPe}),kDe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return CNe({reducer:NDe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([MZ.middleware,BZ.middleware,m6.middleware,qZ.middleware,VZ.middleware]),devTools:{serialize:{replacer:xDe},name:"recharts-".concat(r)}})};function ADe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Zs(),i=S.useRef(null);if(a)return r;i.current==null&&(i.current=kDe(t,n));var s=JT;return S.createElement(gDe,{context:s,store:i.current},r)}function EDe(e){var{layout:t,width:r,height:n,margin:a}=e,i=Es(),s=Zs();return S.useEffect(()=>{s||(i(tke(t)),i(rke({width:r,height:n})),i(eke(a)))},[i,s,t,r,n,a]),null}function CDe(e){var t=Es();return S.useEffect(()=>{t(wDe(e))},[t,e]),null}var TDe=["children"];function PDe(e,t){if(e==null)return{};var r,n,a=ODe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ODe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(null,arguments)}var FDe={width:"100%",height:"100%"},DDe=S.forwardRef((e,t)=>{var r=LK(),n=IK(),a=MK();if(!N_(r)||!N_(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,f;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?f=s.role:f=a?"application":void 0,S.createElement(wG,V_({},s,{title:o,desc:c,role:f,tabIndex:u,width:r,height:n,style:FDe,ref:t}),i)}),LDe=e=>{var{children:t}=e,r=Jt(PS);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return S.createElement(wG,{width:n,height:a,x:s,y:i},t)},IR=S.forwardRef((e,t)=>{var{children:r}=e,n=PDe(e,TDe),a=Zs();return a?S.createElement(LDe,null,r):S.createElement(DDe,V_({ref:t},n),r)});function IDe(){var e=Es(),[t,r]=S.useState(null),n=Jt(Oke);return S.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;uc(i)&&i!==n&&e(nke(i))}},[t,e,n]),r}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){MDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MDe(e,t,r){return(t=BDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BDe(e){var t=UDe(e,"string");return typeof t=="symbol"?t:t+""}function UDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $De=S.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:f,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:v,width:x}=e,y=Es(),[b,j]=S.useState(null),[k,O]=S.useState(null);g6e();var N=IDe(),E=S.useCallback(T=>{N(T),typeof t=="function"&&t(T),j(T),O(T)},[N,t,j,O]),D=S.useCallback(T=>{y(RZ(T)),y(Yo({handler:i,reactEvent:T}))},[y,i]),M=S.useCallback(T=>{y(IE(T)),y(Yo({handler:u,reactEvent:T}))},[y,u]),C=S.useCallback(T=>{y(LX()),y(Yo({handler:f,reactEvent:T}))},[y,f]),P=S.useCallback(T=>{y(IE(T)),y(Yo({handler:d,reactEvent:T}))},[y,d]),R=S.useCallback(()=>{y(zZ())},[y]),U=S.useCallback(T=>{y($Z(T.key))},[y]),ee=S.useCallback(T=>{y(Yo({handler:s,reactEvent:T}))},[y,s]),J=S.useCallback(T=>{y(Yo({handler:o,reactEvent:T}))},[y,o]),ae=S.useCallback(T=>{y(Yo({handler:c,reactEvent:T}))},[y,c]),X=S.useCallback(T=>{y(Yo({handler:h,reactEvent:T}))},[y,h]),W=S.useCallback(T=>{y(Yo({handler:m,reactEvent:T}))},[y,m]),fe=S.useCallback(T=>{y(WZ(T)),y(Yo({handler:g,reactEvent:T}))},[y,g]),Se=S.useCallback(T=>{y(Yo({handler:p,reactEvent:T}))},[y,p]);return S.createElement(JX.Provider,{value:b},S.createElement(f4e.Provider,{value:k},S.createElement("div",{className:_n("recharts-wrapper",n),style:RDe({position:"relative",cursor:"default",width:x,height:a},v),onClick:D,onContextMenu:ee,onDoubleClick:J,onFocus:R,onKeyDown:U,onMouseDown:ae,onMouseEnter:M,onMouseLeave:C,onMouseMove:P,onMouseUp:X,onTouchEnd:Se,onTouchMove:fe,onTouchStart:W,ref:E},r)))}),zDe=["children","className","width","height","style","compact","title","desc"];function qDe(e,t){if(e==null)return{};var r,n,a=WDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VDe=S.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:c,desc:u}=e,f=qDe(e,zDe),d=In(f,!1);return o?S.createElement(IR,{otherAttributes:d,title:c,desc:u},r):S.createElement($De,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(IR,{otherAttributes:d,title:c,desc:u,ref:t},S.createElement(_8e,null,r)))}),HDe=["width","height"];function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RE.apply(null,arguments)}function GDe(e,t){if(e==null)return{};var r,n,a=KDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YDe={top:5,right:5,bottom:5,left:5},XDe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:YDe,reverseStackOrder:!1,syncMethod:"index"},ZDe=S.forwardRef(function(t,r){var n,a=U0(t.categoricalChartProps,XDe),{width:i,height:s}=a,o=GDe(a,HDe);if(!N_(i)||!N_(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return S.createElement(ADe,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},S.createElement(u8e,{chartData:h.data}),S.createElement(EDe,{width:i,height:s,layout:a.layout,margin:a.margin}),S.createElement(CDe,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),S.createElement(VDe,RE({},o,{width:i,height:s,ref:r})))}),JDe=["axis"],QDe=S.forwardRef((e,t)=>S.createElement(ZDe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JDe,tooltipPayloadSearcher:s6e,categoricalChartProps:e,ref:t}));const eLe=Ve.object({leaveTypeId:Ve.string().min(1,"Leave type is required"),startDate:Ve.string().min(1,"Start date is required"),endDate:Ve.string().min(1,"End date is required"),reason:Ve.string().min(10,"Reason must be at least 10 characters")}).refine(e=>{const t=new Date(e.startDate);return new Date(e.endDate)>=t},{message:"End date must be after or equal to start date",path:["endDate"]});function tLe(){var N,E,D,M;const{user:e}=as(),[t,r]=S.useState(!1),[n,a]=S.useState(new Date().getFullYear()),{toast:i}=zr(),s=Cn(),o=si({resolver:oi(eLe),defaultValues:{leaveTypeId:"",startDate:"",endDate:"",reason:""}}),{data:c}=Tr({queryKey:["leave-types"],queryFn:fz}),{data:u,isLoading:f}=Tr({queryKey:["staff-leave-requests",(N=e==null?void 0:e.staff_profile)==null?void 0:N.id],queryFn:()=>{var C;return Zue(((C=e==null?void 0:e.staff_profile)==null?void 0:C.id)||"")},enabled:!!((E=e==null?void 0:e.staff_profile)!=null&&E.id)}),{data:d,isLoading:h}=Tr({queryKey:["staff-leave-balances",(D=e==null?void 0:e.staff_profile)==null?void 0:D.id,n],queryFn:()=>{var C;return efe(((C=e==null?void 0:e.staff_profile)==null?void 0:C.id)||"",n)},enabled:!!((M=e==null?void 0:e.staff_profile)!=null&&M.id)}),p=Jr({mutationFn:async C=>{var P;if(!((P=e==null?void 0:e.staff_profile)!=null&&P.id))throw new Error("Staff profile not found");try{const R=Cb(C.startDate,C.endDate),U=await rfe(e.staff_profile.id,C.leaveTypeId,R,new Date(C.startDate).getFullYear());if(!U.hasBalance)throw new Error(U.message||"Insufficient leave balance");await Xue({staffId:e.staff_profile.id,leaveTypeId:C.leaveTypeId,startDate:C.startDate,endDate:C.endDate,totalDays:R,reason:C.reason})}catch(R){throw(R==null?void 0:R.code)==="PGRST116"?new Error("Your leave balance is not set up. Please contact an administrator."):R}},onSuccess:()=>{i({title:"Success",description:"Leave request submitted successfully"}),s.invalidateQueries({queryKey:["staff-leave-requests"]}),o.reset(),r(!1)},onError:C=>{i({title:"Error",description:C.message||"Failed to submit leave request",variant:"destructive"})}}),g=Jr({mutationFn:nfe,onSuccess:()=>{i({title:"Success",description:"Leave request cancelled successfully"}),s.invalidateQueries({queryKey:["staff-leave-requests"]})},onError:C=>{i({title:"Error",description:C.message||"Failed to cancel leave request",variant:"destructive"})}}),m=C=>{p.mutate(C)},v=C=>{switch(C){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}},x=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=(C,P)=>{const R=x(C),U=x(P);return R===U?R:`${R} - ${U}`},b=(C,P)=>P===0?0:Math.min(C/P*100,100),j=o.watch("startDate"),k=o.watch("endDate"),O=j&&k?Cb(j,k):0;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),l.jsx("p",{className:"text-gray-600",children:"Manage your leave requests and view balances"})]}),l.jsxs(Bn,{open:t,onOpenChange:r,children:[l.jsx(fm,{asChild:!0,children:l.jsxs(Ue,{className:"bg-nigeria-green hover:bg-green-700",children:[l.jsx(ys,{className:"mr-2 h-4 w-4"}),"Request Leave"]})}),l.jsxs(Un,{className:"max-w-md max-h-[90vh] flex flex-col",children:[l.jsx($n,{children:l.jsx(zn,{children:"Submit Leave Request"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:l.jsx(li,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(m),className:"space-y-4",children:[l.jsx(ft,{control:o.control,name:"leaveTypeId",render:({field:C})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Leave Type"}),l.jsxs(Er,{onValueChange:C.onChange,value:C.value,children:[l.jsx(ct,{children:l.jsx(br,{children:l.jsx(Cr,{placeholder:"Select leave type"})})}),l.jsx(_r,{children:c==null?void 0:c.map(P=>l.jsx(Ye,{value:P.id,children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:P.name}),l.jsx(Yt,{variant:"outline",className:"text-xs",children:P.isPaid?"Paid":"Unpaid"})]})},P.id))})]}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(ft,{control:o.control,name:"startDate",render:({field:C})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Start Date"}),l.jsx(ct,{children:l.jsx(Dt,{type:"date",...C})}),l.jsx(xt,{})]})}),l.jsx(ft,{control:o.control,name:"endDate",render:({field:C})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"End Date"}),l.jsx(ct,{children:l.jsx(Dt,{type:"date",...C})}),l.jsx(xt,{})]})})]}),O>0&&l.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Working Days:"})," ",O," days",l.jsx("span",{className:"text-xs",children:"(Excludes weekends)"})]})}),l.jsx(ft,{control:o.control,name:"reason",render:({field:C})=>l.jsxs(ot,{children:[l.jsx(lt,{children:"Reason for Leave"}),l.jsx(ct,{children:l.jsx(mc,{...C,placeholder:"Please provide a detailed reason for your leave request...",rows:4})}),l.jsx(xt,{})]})}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Important Notes:"}),l.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Submit requests at least 2 weeks in advance when possible"}),l.jsx("li",{children:"Emergency leave may be submitted with shorter notice"}),l.jsx("li",{children:"Check your leave balance before submitting"}),l.jsx("li",{children:"You will receive a notification once your request is reviewed"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t bg-white sticky bottom-0",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:p.isPending,className:"bg-nigeria-green hover:bg-green-700",children:p.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})})})]})]})]}),l.jsxs(fy,{defaultValue:"balances",className:"space-y-6",children:[l.jsxs(jg,{className:"grid w-full grid-cols-2",children:[l.jsx(ki,{value:"balances",children:"Leave Balances"}),l.jsx(ki,{value:"requests",children:"My Requests"})]}),l.jsx(Ai,{value:"balances",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year:"}),l.jsxs(Er,{value:n.toString(),onValueChange:C=>a(parseInt(C)),children:[l.jsx(br,{className:"w-32",children:l.jsx(Cr,{})}),l.jsx(_r,{children:[...Array(3)].map((C,P)=>{const R=new Date().getFullYear()-1+P;return l.jsx(Ye,{value:R.toString(),children:R},R)})})]})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h?[...Array(3)].map((C,P)=>l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})},P)):d&&d.length>0?d.map(C=>{var P,R,U;return l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:(P=C.leaveType)==null?void 0:P.name}),l.jsx(Yt,{className:(R=C.leaveType)!=null&&R.isPaid?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:(U=C.leaveType)!=null&&U.isPaid?"Paid":"Unpaid"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["Used: ",C.usedDays," days"]}),l.jsxs("span",{children:["Total: ",C.accruedDays+C.carriedForward," days"]})]}),l.jsx(rS,{value:b(C.usedDays,C.accruedDays+C.carriedForward),className:"h-2"}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-lg font-bold text-nigeria-green",children:[C.remainingDays," days remaining"]})})]}),C.carriedForward>0&&l.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:["Carried forward: ",C.carriedForward," days"]})]})})},C.id)}):l.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[l.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsxs("p",{children:["No leave balances found for ",n]}),l.jsx("p",{className:"text-sm",children:"Leave balances will be initialized automatically"})]})})]})}),l.jsx(Ai,{value:"requests",children:l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsx(Ar,{children:"My Leave Requests"})}),l.jsx(Nt,{children:f?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((C,P)=>l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},P))}):u&&u.length>0?l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Leave Type"}),l.jsx(it,{children:"Dates"}),l.jsx(it,{children:"Days"}),l.jsx(it,{children:"Status"}),l.jsx(it,{children:"Submitted"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:u.map(C=>{var P,R;return l.jsxs(Br,{children:[l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium",children:(P=C.leave_types)==null?void 0:P.name}),l.jsx(Yt,{variant:"outline",className:"text-xs",children:(R=C.leave_types)==null?void 0:R.code})]})}),l.jsx(at,{children:y(C.start_date,C.end_date)}),l.jsx(at,{children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:C.total_days})]})}),l.jsx(at,{children:l.jsx(Yt,{className:v(C.status),children:C.status.toUpperCase()})}),l.jsx(at,{className:"text-sm text-gray-500",children:x(C.created_at)}),l.jsxs(at,{children:[C.status==="pending"&&l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>g.mutate(C.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700",children:l.jsx(Ju,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Cancel request"})})]}),C.approval_comments&&l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",size:"sm",children:l.jsx(Pi,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:C.approval_comments})})]})]})]},C.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Pi,{className:"h-8 w-8 text-gray-400"})}),l.jsx("p",{children:"No leave requests found"}),l.jsx("p",{className:"text-sm",children:"Your leave requests will appear here"})]})})]})})]})]})}const rLe=({payslip:e,staffProfile:t,onClose:r})=>{var n;return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs(jt,{className:"w-full max-w-2xl bg-white relative max-h-[90vh] overflow-y-auto",children:[l.jsxs(kr,{className:"flex flex-row items-center justify-between sticky top-0 bg-white z-10 border-b",children:[l.jsxs(Ar,{children:["Payslip Details - ",ME(e.period)]}),l.jsx(Ue,{variant:"ghost",size:"icon",onClick:r,children:l.jsx(Ju,{className:"h-5 w-5"})})]}),l.jsxs(Nt,{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Staff Name:"})," ",t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Staff ID:"})," ",t==null?void 0:t.staff_id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Department:"})," ",(n=t==null?void 0:t.departments)==null?void 0:n.name]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Position:"})," ",t==null?void 0:t.position]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold mb-2 border-b pb-1 text-green-700",children:"Earnings"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Basic Salary"}),l.jsx("span",{children:fo(e.basic_salary||0)})]}),e.allowances&&Object.entries(typeof e.allowances=="string"?JSON.parse(e.allowances):e.allowances).map(([a,i])=>i&&Number(i)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"capitalize",children:a.replace("_"," ")}),l.jsx("span",{children:fo(Number(i))})]},a)),l.jsxs("div",{className:"flex justify-between font-bold border-t pt-1 mt-1",children:[l.jsx("span",{children:"Gross Pay"}),l.jsx("span",{children:fo(e.gross_pay)})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold mb-2 border-b pb-1 text-red-700",children:"Deductions"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[e.deductions&&Object.entries(typeof e.deductions=="string"?JSON.parse(e.deductions):e.deductions).map(([a,i])=>i&&Number(i)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"capitalize",children:a.replace("_"," ")}),l.jsxs("span",{children:["(",fo(Number(i)),")"]})]},a)),l.jsxs("div",{className:"flex justify-between font-bold border-t pt-1 mt-1",children:[l.jsx("span",{children:"Total Deductions"}),l.jsxs("span",{children:["(",fo(e.total_deductions),")"]})]})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t-2 border-gray-300",children:l.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[l.jsx("span",{children:"Net Pay"}),l.jsx("span",{children:fo(e.net_pay)})]})})]})]})}):null},ME=e=>{const[t,r]=e.split("-");return new Date(parseInt(t),parseInt(r)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})};function nLe(){var g,m,v,x;const{user:e}=as(),{toast:t}=zr(),[r,n]=Ft.useState(null),{data:a,isLoading:i}=Tr({queryKey:["staff-profile",e==null?void 0:e.id],queryFn:async()=>{var j;if(!((j=e==null?void 0:e.staff_profile)!=null&&j.id))return null;const{data:y,error:b}=await De.from("staff").select(`
          *,
          departments!staff_department_id_fkey (
            name,
            code
          )
        `).eq("id",e.staff_profile.id).single();if(b)throw b;return y},enabled:!!((g=e==null?void 0:e.staff_profile)!=null&&g.id)}),{data:s,isLoading:o}=Tr({queryKey:["staff-payslips",(m=e==null?void 0:e.staff_profile)==null?void 0:m.id],queryFn:async()=>{var j;if(!((j=e==null?void 0:e.staff_profile)!=null&&j.id))return[];const{data:y,error:b}=await De.from("payslips").select("*").eq("staff_id",e.staff_profile.id).order("created_at",{ascending:!1}).limit(12);if(b)throw b;return y||[]},enabled:!!((v=e==null?void 0:e.staff_profile)!=null&&v.id)}),c=Ft.useMemo(()=>s!=null&&s.length?s.map(y=>({period:y.period,netPay:parseFloat(y.net_pay||"0"),grossPay:parseFloat(y.gross_pay||"0"),deductions:parseFloat(y.total_deductions||"0")})).reverse():[],[s]),u=async y=>{try{await gH(y,a),t({title:"Success",description:"Payslip downloaded successfully"})}catch{t({title:"Error",description:"Failed to download payslip",variant:"destructive"})}},f=()=>{var y,b;return a?`${((y=a.first_name)==null?void 0:y[0])||""}${((b=a.last_name)==null?void 0:b[0])||""}`.toUpperCase():"U"},d=()=>a?`${a.first_name||""} ${a.last_name||""}`.trim():"User",h=s==null?void 0:s[0],p=c.length>0?c.reduce((y,b)=>y+b.netPay,0)/c.length:0;return l.jsxs("div",{className:"p-4 lg:p-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900 mb-2",children:"Staff Portal"}),l.jsx("p",{className:"text-gray-600",children:"Your personal dashboard and salary information"})]}),l.jsxs(fy,{defaultValue:"overview",className:"space-y-6",children:[l.jsxs(jg,{className:"grid w-full grid-cols-2 bg-gray-200 p-1 rounded-lg",children:[l.jsx(ki,{value:"overview",className:"data-[state=active]:bg-green-600 data-[state=active]:text-white rounded-md hover:bg-gray-300 transition-colors",children:"Overview"}),l.jsx(ki,{value:"leave",className:"data-[state=active]:bg-green-600 data-[state=active]:text-white rounded-md hover:bg-gray-300 transition-colors",children:"Leave Management"})]}),l.jsx(Ai,{value:"overview",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-0",children:i?l.jsxs("div",{className:"animate-pulse space-y-4 p-6",children:[l.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full mx-auto"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})]}):a?l.jsx("div",{className:"bg-gradient-to-br from-nigeria-green to-green-600 rounded-xl p-4 md:p-6 text-white",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[l.jsx("div",{className:"h-16 w-16 md:h-20 md:w-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xl md:text-2xl font-bold",children:f()})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h4",{className:"text-lg md:text-xl font-bold truncate",title:d(),children:d()}),l.jsx("p",{className:"text-green-100 text-sm",children:a.staff_id}),l.jsx("p",{className:"text-green-100 text-sm",children:a.position}),l.jsx("p",{className:"text-green-100 text-sm mt-1",children:((x=a.departments)==null?void 0:x.name)||"Unassigned"}),l.jsxs("p",{className:"text-green-100 text-xs",children:["GL ",a.grade_level," Step ",a.step]})]})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Lu,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"Profile not found"})]})})}),l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{className:"w-full flex items-center justify-start px-4 py-3 bg-blue-50 hover:bg-blue-100 text-blue-900 border-blue-200",onClick:()=>h&&u(h),disabled:!h,children:[l.jsx(kd,{className:"mr-3 h-5 w-5"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium",children:"Download Latest Payslip"}),l.jsx("p",{className:"text-xs text-blue-600",children:h?ME(h.period):"No payslips available"})]})]})}),l.jsx(Nr,{children:l.jsx("p",{children:"Download your most recent payslip as PDF"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsxs(Ue,{variant:"outline",className:"w-full flex items-center justify-start px-4 py-3 border-purple-200 hover:bg-purple-50",children:[l.jsx(nx,{className:"mr-3 h-5 w-5 text-purple-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-purple-900",children:"View Salary Trends"}),l.jsx("p",{className:"text-xs text-purple-600",children:"12-month analysis"})]})]})}),l.jsx(Nr,{children:l.jsx("p",{children:"View your salary trends and analytics"})})]})]})]}),l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Latest Net Pay"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 transform scale-95 origin-left",children:h?An(h.net_pay||0):"---"})]}),l.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(Wa,{className:"text-nigeria-green",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Salary"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 transform scale-95 origin-left",children:An(p)})]}),l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(nx,{className:"text-blue-600",size:20})})]})})}),l.jsx(jt,{children:l.jsx(Nt,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Payslips Available"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.length)||0})]}),l.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(Pi,{className:"text-purple-600",size:20})})]})})})]}),l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"h-5 w-5"}),l.jsx("span",{children:"Payslip History"})]})}),l.jsx(Nt,{children:o?l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((y,b)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded"},b))}):s&&s.length>0?l.jsx("div",{className:"space-y-4",children:l.jsxs(ci,{children:[l.jsx(ui,{children:l.jsxs(Br,{children:[l.jsx(it,{children:"Period"}),l.jsx(it,{children:"Gross Pay"}),l.jsx(it,{children:"Deductions"}),l.jsx(it,{children:"Net Pay"}),l.jsx(it,{children:"Actions"})]})}),l.jsx(fi,{children:s.map(y=>l.jsxs(Br,{children:[l.jsx(at,{className:"font-medium",children:ME(y.period)}),l.jsx(at,{children:An(y.gross_pay||0)}),l.jsxs(at,{className:"text-red-600",children:["-",An(y.total_deductions||0)]}),l.jsx(at,{className:"font-bold text-green-600",children:An(y.net_pay||0)}),l.jsx(at,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>n(y),children:l.jsx(qc,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"View details"})})]}),l.jsxs(Fr,{children:[l.jsx(Dr,{asChild:!0,children:l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>u(y),children:l.jsx(kd,{className:"h-4 w-4"})})}),l.jsx(Nr,{children:l.jsx("p",{children:"Download PDF"})})]})]})})]},y.id))})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Pi,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),l.jsx("p",{children:"No payslips available"})]})})]}),c.length>0&&l.jsxs(jt,{children:[l.jsx(kr,{children:l.jsxs(Ar,{className:"flex items-center gap-2",children:[l.jsx(nx,{className:"h-5 w-5"}),l.jsx("span",{children:"Salary Trends"})]})}),l.jsx(Nt,{children:l.jsx("div",{className:"h-80",children:l.jsx(T6e,{width:"100%",height:"100%",children:l.jsxs(QDe,{data:c,children:[l.jsx(NZ,{strokeDasharray:"3 3"}),l.jsx(f6,{dataKey:"period"}),l.jsx(d6,{}),l.jsx(j6e,{formatter:(y,b)=>[An(y),b==="netPay"?"Net Pay":b==="grossPay"?"Gross Pay":"Deductions"]}),l.jsx(_x,{type:"monotone",dataKey:"netPay",stroke:"#16a34a",strokeWidth:2,name:"netPay"}),l.jsx(_x,{type:"monotone",dataKey:"grossPay",stroke:"#3b82f6",strokeWidth:2,name:"grossPay"}),l.jsx(_x,{type:"monotone",dataKey:"deductions",stroke:"#dc2626",strokeWidth:2,name:"deductions"})]})})})})]})]})]})}),l.jsx(Ai,{value:"leave",children:l.jsx(tLe,{})})]}),r&&l.jsx(rLe,{payslip:r,staffProfile:a,onClose:()=>n(null)})]})}function aLe(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(jt,{className:"w-full max-w-md mx-4",children:l.jsxs(Nt,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(f0,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function iLe(){const{user:e,loading:t}=as();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nigeria-green"})}):l.jsxs(Ote,{children:[l.jsx(vi,{path:"/forgot-password",children:e?l.jsx(xi,{to:"/dashboard"}):l.jsx(Wue,{})}),l.jsx(vi,{path:"/reset-password",children:e?l.jsx(xi,{to:"/dashboard"}):l.jsx(Vue,{})}),l.jsx(vi,{path:"/",children:e?l.jsx(xi,{to:e.role==="staff"?"/staff-portal":"/dashboard"}):l.jsx(que,{})}),l.jsx(vi,{path:"/dashboard",children:e?e.role==="staff"?l.jsx(xi,{to:"/staff-portal"}):l.jsx(so,{children:l.jsx(hSe,{})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/staff",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin"],children:l.jsx(WSe,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/departments",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin"],children:l.jsx(oje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/payroll",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin"],children:l.jsx(bje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/payroll/workflow",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin"],children:l.jsx(_je,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/payroll/adjustments",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","payroll_admin"],children:l.jsx(Sje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/payslips",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin","staff"],children:l.jsx(jje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/leave/approval",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin","payroll_admin"],children:l.jsx(Kje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/reports",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin","account_admin"],children:l.jsx(Nje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/notifications",children:e?l.jsx(so,{children:l.jsx(kje,{})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/settings",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["super_admin"],children:l.jsx(Hje,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/settings/profile",children:e?l.jsx(so,{children:l.jsx(Gje,{})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{path:"/staff-portal",children:e?l.jsx(so,{children:l.jsx(jc,{roles:["staff"],children:l.jsx(nLe,{})})}):l.jsx(xi,{to:"/"})}),l.jsx(vi,{component:aLe})]})}function sLe(){return l.jsx(Jte,{client:dre,children:l.jsx(Pie,{children:l.jsxs(Koe,{children:[l.jsx(aae,{}),l.jsx(iLe,{})]})})})}o9(document.getElementById("root")).render(l.jsx(sLe,{}));export{hn as _,ul as c,ru as g};
